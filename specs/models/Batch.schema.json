{
  "$schema": "http://json-schema.org/schema#",
  "$id": "http://marklogic.com/data-hub/Batch.schema.json",
  "title": "Batch",
  "description": "Captures the results of processing a batch of items (often URIs, but not always) by a step",
  "type": "object",
  "properties": {
    "jobId": {
      "type": "string"
    },
    "batchId": {
      "type": "string",
      "description": "UUID generated by MarkLogic"
    },
    "flowName": {
      "type": "string",
      "description": "Added in 5.4.0; the name of the flow associated with the step executed for this batch"
    },
    "stepId": {
      "type": "string",
      "description": "Added in 5.4.0; the ID of the step, where ID = (stepName)-(stepDefinitionType)"
    },
    "step": {
      "type": "object",
      "description": "A copy of the step from its flow"
    },
    "stepNumber": {
      "type": "string"
    },
    "batchStatus": {
      "type": "string",
      "description": "The status is 'started' when processing begins on a batch and then is updated to be one of the other values when processing finishes",
      "enum": [
        "started",
        "failed",
        "finished",
        "finished_with_errors"
      ]
    },
    "timeStarted": {
      "type": "string",
      "description": "dateTime at which processing of the batch started"
    },
    "timeEnded": {
      "type": "string",
      "description": "dateTime at which processing of the batch ended"
    },
    "hostName": {
      "type": "string"
    },
    "reqTimeStamp": {
      "type": "string"
    },
    "reqTrnxID": {
      "type": "string"
    },
    "writeTimeStamp": {
      "type": "string"
    },
    "writeTrnxID": {
      "type": "string"
    },
    "uris": {
      "type": "array",
      "description": "Starting in 5.3.0, this is not necessarily 'uris' and should be thought of as 'items', as other values besides URIs are possible",
      "items": {
        "type": "string"
      }
    },
    "processedItemHashes": {
      "type": "array",
      "description": "Added in 5.4.0; an array of 64-bit hashes for each item in the 'uris' array; 'items' is used as these values are not always URIs",
      "items": {
        "type": "number"
      }
    },
    "fileName": {
      "type": "string",
      "description": "The URI of the module that an error occurred in"
    },
    "lineNumber": {
      "type": "string",
      "description": "The line number that an error occurred at"
    },
    "errorStack": {
      "type": "string",
      "description": "Error stacktrace serialized as a string"
    },
    "error": {
      "type": "string",
      "description": "Concatenation of an error's name, code, and message"
    },
    "completeError": {
      "type": "object",
      "description": "The error object as created by MarkLogic"
    }
  }
}
