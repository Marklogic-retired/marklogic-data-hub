{"id":20088, "kind":"Bug", "createdAt":"2012-11-14T10:05:06.811822-08:00", "status":"Closed", "title":"SVC-FILOPEN seek errors encountered during hdfs test", "category":"xdmp", "severity":"Major", "priority":{"level":"5", "title":""}, "submittedBy":{"username":"jsolis", "name":"Julio Solis", "email":"Julio.Solis@marklogic.com"}, "assignTo":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}, "description":"The following test case hdfs-test3.xml is failing in regression with the following error messages on MarkLogic-6.0-20121113. All subsequent hdfs test cases then fail with forest unavailable messages. This is occurring on platforms linux-64-rh5-cluster and linux-64 . The problem seems  not easily reproducible.\r\n\r\n2012-11-13 08:05:38.437 Debug: Retrying XDBCConnectionTask::handleEval 10713499757153670523 Query 6 because XDMP-FORESTNOT: Forest test3-F1 not available: recovering\r\n2012-11-13 08:05:39.012 Alert: XDMP-FORESTERR: Error in startup of forest test3-F1: SVC-FILOPEN seek hdfs://jchen2:9000/user/root/data/Forests/test3-F1/Journals/Journal1-19700109160000-0-18446744073709551615-13528227330268462 pos(9038336)!=off(52280768)\r\n2012-11-13 08:05:39.186 Info: Deleted 1 MB in 1 sec at 29 MB/sec hdfs://jchen2:9000/user/root/data/Forests/test3-F1/00000002\r\n2012-11-13 08:05:39.186 Debug: Forest::merge: test3-F1 XDMP-FORESTNOT: Forest test3-F1 not available: XDMP-FORESTERR: Error in startup of forest test3-F1: SVC-FILOPEN seek hdfs://jchen2:9000/user/root/data/Forests/test3-F1/Journals/Journal1-19700109160000-0-18446744073709551615-13528227330268462 pos(9038336)!=off(52280768)\r\n\r\n2012-11-13 08:05:40.313 Notice: QAxdbcServer: XDMP-FORESTNOT: Forest test3-F1 not available: XDMP-FORESTERR: Error in startup of forest test3-F1: SVC-FILOPEN seek hdfs://jchen2:9000/user/root/data/Forests/test3-F1/Journals/Journal1-19700109160000-0-18446744073709551615-13528227330268462 pos(9038336)!=off(52280768)\r\n2012-11-13 08:05:40.313 Notice: QAxdbcServer:  [1.0-ml]\r\n2012-11-13 08:05:40.604 Notice: QAxdbcServer: XDMP-FORESTNOT: Forest test3-F1 not available: XDMP-FORESTERR: Error in startup of forest test3-F1: SVC-FILOPEN seek hdfs://jchen2:9000/user/root/data/Forests/test3-F1/Journals/Journal1-19700109160000-0-18446744073709551615-13528227330268462 pos(9038336)!=off(52280768)\r\n2012-11-13 08:05:40.604 Notice: QAxdbcServer:  [1.0-ml]\r\n2012-11-13 08:05:40.608 Notice: QAxdbcServer: XDMP-FORESTNOT: Forest test3-F1 not available: XDMP-FORESTERR: Error in startup of forest test3-F1: SVC-FILOPEN seek hdfs://jchen2:9000/user/root/data/Forests/test3-F1/Journals/Journal1-19700109160000-0-18446744073709551615-13528227330268462 pos(9038336)!=off(52280768)\r\n\r\n", "samplequery":"", "sampledata":"", "version":"6.0-nightly", "tofixin":"7.0-ea3", "fixedin":"N/A", "platform":"linux(64-bit)", "memory":"", "processors":"", "note":"", "subscribers":[{"username":"jsolis", "name":"Julio Solis", "email":"Julio.Solis@marklogic.com"}, {"username":"jchen", "name":"Jane Chen", "email":"jane.chen@marklogic.com"}], "attachments":[], "relationships":[{"type":"", "to":""}], "clones":[], "cloneOf":"", "support":{"headline":"", "supportDescription":"", "publishStatus":"Not Ready", "tickets":[], "customerImpact":{"level":"N/A", "title":""}, "workaround":""}, "tags":["xdmp", "jsolis"], "changeHistory":[{"time":"2012-11-14T10:05:06.811822-08:00", "updatedBy":{"username":"jsolis", "name":"Julio Solis", "email":"Julio.Solis@marklogic.com"}, "change":{"assignTo":{"from":{"username":"jsolis", "name":"Julio Solis", "email":"Julio.Solis@marklogic.com"}, "to":{"username":"jchen", "name":"Jane Chen", "email":"jane.chen@marklogic.com"}}}, "files":[], "show":true}, {"time":"2012-11-14T10:07:43.281422-08:00", "updatedBy":{"username":"jchen", "name":"Jane Chen", "email":"jane.chen@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"Is it only failing in regression?  Did it fail last night?  Can you reproduce it by just running hdfs-test3?"}, {"time":"2012-11-14T10:25:19.368736-08:00", "updatedBy":{"username":"jsolis", "name":"Julio Solis", "email":"Julio.Solis@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"It is failing in regression only. The last failure is from 11/13 regression run. Today's run is still in progress. Let me confirm is it's recreatable with just hdfs-test3."}, {"time":"2012-11-14T13:12:45.161848-08:00", "updatedBy":{"username":"jchen", "name":"Jane Chen", "email":"jane.chen@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"The test passed in today's nightly.  It is an intermittent problem.  I have not figured out what's causing it and what to do with it."}, {"time":"2012-11-14T16:38:45.543507-08:00", "updatedBy":{"username":"dgorbet", "name":"David Gorbet", "email":"David.Gorbet@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"Not required for 6.0-2, as this is HDFS-filesystem-only."}, {"time":"2012-11-14T16:38:45.543507-08:00", "updatedBy":{"username":"dgorbet", "name":"David Gorbet", "email":"David.Gorbet@marklogic.com"}, "change":{"tofixin":{"from":"6.0-2", "to":"6.0-3"}}, "files":[], "show":true}, {"time":"2013-02-15T13:35:08.641059-08:00", "updatedBy":{"username":"dgorbet", "name":"David Gorbet", "email":"David.Gorbet@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"HDFS not required for 6.0 at all"}, {"time":"2013-02-15T13:35:08.641059-08:00", "updatedBy":{"username":"dgorbet", "name":"David Gorbet", "email":"David.Gorbet@marklogic.com"}, "change":{"tofixin":{"from":"6.0-3", "to":"7.0-ea1"}}, "files":[], "show":true}, {"time":"2013-02-20T11:12:35.165675-08:00", "updatedBy":{"username":"rhu", "name":"Ron Hu", "email":"ron.hu@marklogic.com"}, "change":{"tofixin":{"from":"7.0-ea1", "to":"7.0-ea2"}}, "files":[], "show":true}, {"time":"2013-04-17T15:53:16.600674-07:00", "updatedBy":{"username":"jchen", "name":"Jane Chen", "email":"jane.chen@marklogic.com"}, "change":{"tofixin":{"from":"7.0-ea2", "to":"7.0-ea3"}}, "files":[], "show":true}, {"time":"2013-06-14T17:34:37.112027-07:00", "updatedBy":{"username":"jchen", "name":"Jane Chen", "email":"jane.chen@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"Hi Julio, do you still see this in recent regressions?"}, {"time":"2013-06-17T15:36:25.409587-07:00", "updatedBy":{"username":"jchen", "name":"Jane Chen", "email":"jane.chen@marklogic.com"}, "change":{"status":{"from":"", "to":"Closed"}, "assignTo":{"from":{"username":"jchen", "name":"Jane Chen", "email":"jane.chen@marklogic.com"}, "to":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}}}, "files":[], "show":true, "comment":"Julio no longer sees this after we switched over to CDH4."}, {"time":"2013-06-17T15:36:25.409587-07:00", "updatedBy":{"username":"jchen", "name":"Jane Chen", "email":"jane.chen@marklogic.com"}, "change":{"assignTo":{"from":{"username":"jchen", "name":"Jane Chen", "email":"jane.chen@marklogic.com"}, "to":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}}}, "files":[], "show":true}], "updatedAt":"2013-06-17T15:36:25.409587-07:00", "closedAt":"2013-06-17T15:36:25.409587-07:00", "closedBy":{"username":"jchen", "name":"Jane Chen", "email":"jane.chen@marklogic.com"}, "renderDescriptionAs":"normal"}