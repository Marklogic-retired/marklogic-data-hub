{"id":20153, "kind":"Bug", "createdAt":"2012-11-28T05:09:11.739136-08:00", "status":"Closed", "title":"optimize many-forest lock updates", "category":"xdmp", "severity":"Performance", "priority":{"level":"5", "title":""}, "submittedBy":{"username":"cjl", "name":"Christopher Lindblad", "email":"cjl@cerisent.com"}, "assignTo":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}, "description":"Optimize lock update processing when there are many forests and there are no requests blocked on any locks.", "samplequery":"", "sampledata":"", "version":"5.0-4", "tofixin":"5.0-4.2", "fixedin":"5.0-4.2", "platform":"all", "memory":"", "processors":"", "note":"", "subscribers":[{"username":"cjl", "name":"Christopher Lindblad", "email":"cjl@cerisent.com"}, {"username":"rpolasani", "name":"Raghu Polasani", "email":"raghu.polasani@marklogic.com"}], "attachments":[], "relationships":[{"type":"", "to":""}], "clones":[], "cloneOf":20150, "support":{"headline":"", "supportDescription":"", "publishStatus":"Never Publish", "tickets":[], "customerImpact":{"level":"N/A", "title":""}, "workaround":""}, "tags":["xdmp", "cjl"], "changeHistory":[{"time":"2012-11-28T05:09:11.739136-08:00", "updatedBy":{"username":"cjl", "name":"Christopher Lindblad", "email":"cjl@cerisent.com"}, "change":{"assignTo":{"from":{"username":"cjl", "name":"Christopher Lindblad", "email":"cjl@cerisent.com"}, "to":{"username":"cjl", "name":"Christopher Lindblad", "email":"cjl@cerisent.com"}}}, "files":[], "show":true}, {"time":"2012-11-28T05:11:20.165617-08:00", "updatedBy":{"username":"cjl", "name":"Christopher Lindblad", "email":"cjl@cerisent.com"}, "change":{}, "files":[], "show":true, "svn":{"repository":"/project/engsvn", "revision":"121748", "paths":["xdmp/branches/b5_0/src/LockManager.cpp"], "affectedBugs":[]}, "comment":"bug:20150"}, {"time":"2012-11-28T05:12:39.605577-08:00", "updatedBy":{"username":"cjl", "name":"Christopher Lindblad", "email":"cjl@cerisent.com"}, "change":{}, "files":[], "show":true, "svn":{"repository":"/project/engsvn", "revision":"121750", "paths":["xdmp/branches/b4_2/src/LockManager.cpp"], "affectedBugs":[]}, "comment":"bug:20150"}, {"time":"2012-11-28T05:13:42.020468-08:00", "updatedBy":{"username":"cjl", "name":"Christopher Lindblad", "email":"cjl@cerisent.com"}, "change":{}, "files":[], "show":true, "svn":{"repository":"/project/engsvn", "revision":"121752", "paths":["xdmp/branches/b6_0/src/LockManager.cpp"], "affectedBugs":[]}, "comment":"bug:20150"}, {"time":"2012-11-28T05:15:02.947043-08:00", "updatedBy":{"username":"cjl", "name":"Christopher Lindblad", "email":"cjl@cerisent.com"}, "change":{}, "files":[], "show":true, "svn":{"repository":"/project/engsvn", "revision":"121754", "paths":["xdmp/trunk/src/LockManager.cpp"], "affectedBugs":[]}, "comment":"bug:20150"}, {"time":"2012-11-28T05:16:02.201021-08:00", "updatedBy":{"username":"cjl", "name":"Christopher Lindblad", "email":"cjl@cerisent.com"}, "change":{"status":{"from":"", "to":"Test"}, "assignTo":{"from":{"username":"cjl", "name":"Christopher Lindblad", "email":"cjl@cerisent.com"}, "to":{"username":"rpolasani", "name":"Raghu Polasani", "email":"raghu.polasani@marklogic.com"}}}, "files":[], "show":true}, {"time":"2012-11-28T05:16:02.201021-08:00", "updatedBy":{"username":"cjl", "name":"Christopher Lindblad", "email":"cjl@cerisent.com"}, "change":{"assignTo":{"from":{"username":"cjl", "name":"Christopher Lindblad", "email":"cjl@cerisent.com"}, "to":{"username":"rpolasani", "name":"Raghu Polasani", "email":"raghu.polasani@marklogic.com"}}}, "files":[], "show":true}, {"time":"2012-11-28T12:47:38.589815-08:00", "updatedBy":{"username":"cjl", "name":"Christopher Lindblad", "email":"cjl@cerisent.com"}, "change":{}, "files":[], "show":true, "svn":{"repository":"/project/engsvn", "revision":"121782", "paths":["xdmp/branches/b5_0/src/Forest.cpp", "xdmp/branches/b5_0/src/LockManager.cpp"], "affectedBugs":[]}, "comment":"bug:20150"}, {"time":"2012-11-28T13:33:20.231919-08:00", "updatedBy":{"username":"rpolasani", "name":"Raghu Polasani", "email":"raghu.polasani@marklogic.com"}, "change":{"status":{"from":"", "to":"Fix"}, "assignTo":{"from":{"username":"rpolasani", "name":"Raghu Polasani", "email":"raghu.polasani@marklogic.com"}, "to":{"username":"cjl", "name":"Christopher Lindblad", "email":"cjl@cerisent.com"}}}, "files":[], "show":true, "comment":"can you check this into b5_0-4 too so that we can make a nightly build and  run our stress tests and pass it on to Nielsen to test it."}, {"time":"2012-11-28T13:33:20.231919-08:00", "updatedBy":{"username":"rpolasani", "name":"Raghu Polasani", "email":"raghu.polasani@marklogic.com"}, "change":{"assignTo":{"from":{"username":"rpolasani", "name":"Raghu Polasani", "email":"raghu.polasani@marklogic.com"}, "to":{"username":"cjl", "name":"Christopher Lindblad", "email":"cjl@cerisent.com"}}}, "files":[], "show":true}, {"time":"2012-11-28T13:33:20.231919-08:00", "updatedBy":{"username":"rpolasani", "name":"Raghu Polasani", "email":"raghu.polasani@marklogic.com"}, "change":{"tofixin":{"from":"", "to":"5.0-4.2"}}, "files":[], "show":true}, {"time":"2012-11-28T14:04:44.305103-08:00", "updatedBy":{"username":"cjl", "name":"Christopher Lindblad", "email":"cjl@cerisent.com"}, "change":{}, "files":[], "show":true, "svn":{"repository":"/project/engsvn", "revision":"121798", "paths":["xdmp/branches/b5_0-4/src/LockManager.h", "xdmp/branches/b5_0-4/src/LockManager.cpp", "xdmp/branches/b5_0-4/src/Forest.cpp"], "affectedBugs":[]}, "comment":"bug:20153"}, {"time":"2012-11-28T14:06:05.506361-08:00", "updatedBy":{"username":"cjl", "name":"Christopher Lindblad", "email":"cjl@cerisent.com"}, "change":{"status":{"from":"", "to":"Test"}, "assignTo":{"from":{"username":"cjl", "name":"Christopher Lindblad", "email":"cjl@cerisent.com"}, "to":{"username":"rpolasani", "name":"Raghu Polasani", "email":"raghu.polasani@marklogic.com"}}}, "files":[], "show":true, "comment":"fixed"}, {"time":"2012-11-28T14:06:05.506361-08:00", "updatedBy":{"username":"cjl", "name":"Christopher Lindblad", "email":"cjl@cerisent.com"}, "change":{"assignTo":{"from":{"username":"cjl", "name":"Christopher Lindblad", "email":"cjl@cerisent.com"}, "to":{"username":"rpolasani", "name":"Raghu Polasani", "email":"raghu.polasani@marklogic.com"}}}, "files":[], "show":true}, {"time":"2012-12-07T08:35:41.07065-08:00", "updatedBy":{"username":"rpelton", "name":"Rick Pelton", "email":"rick.pelton@marklogic.com"}, "change":{"status":{"from":"", "to":"Closed"}, "assignTo":{"from":{"username":"rpelton", "name":"Rick Pelton", "email":"rick.pelton@marklogic.com"}, "to":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}}}, "files":[], "show":true, "comment":"closing and setting publish state to never as this is for a private hotfix for Nielsen.  This change also exist in a v5.0-5 clone of this bug - which will be GA"}], "updatedAt":"2012-12-07T08:35:41.07065-08:00", "fixedAt":"2012-11-28T14:06:05.506361-08:00", "fixedBy":{"username":"cjl", "name":"Christopher Lindblad", "email":"cjl@cerisent.com"}, "closedAt":"2012-12-07T08:35:41.07065-08:00", "closedBy":{"username":"rpelton", "name":"Rick Pelton", "email":"rick.pelton@marklogic.com"}, "renderDescriptionAs":"normal"}