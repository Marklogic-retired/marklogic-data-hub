{"id":20840, "kind":"Bug", "createdAt":"2013-02-19T19:53:04.694416-08:00", "status":"Will not fix", "title":"Master and replica forest pair transition to \"wait replication\" upon moving to flash-backup mode", "category":"Replication", "severity":"Major", "priority":{"level":"2", "title":"Not required for product release"}, "submittedBy":{"username":"svempati", "name":"Sundeep Vempati", "email":"sundeep.vempati@marklogic.com"}, "assignTo":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}, "description":"Master and replica forest pair transition to \"wait replication\" upon moving to flash-backup mode\r\n\r\nWhen a forest is transitioned to \"flash-backup\" mode, its forest status and its failover replica's forest status shows as \"wait replication\". Once updates-allowed is set to \"all\" on this forest, it transitions back to the original state (open-sync replicating pair).\r\n\r\nHere is the email:\r\n\r\nFrom: Wayne Feick [mailto:wayne.feick@marklogic.com] \r\nSent: Tuesday, February 19, 2013 7:47 PM\r\nTo: Sundeep Vempati\r\nCc: Raghu Polasani\r\nSubject: Re: Forest transitions to \"Wait Replication\" on moving into flash-backup mode\r\n\r\nI think this is a bug, but it doesn't surprise me when I think about it. Please file a bug. It'll take some effort to fix it.\r\n\r\nOn 02/19/2013 04:58 PM, Sundeep Vempati wrote:\r\nHi Wayne\r\n \r\nLets say Forest “F1-Master” and “F1-Replica” are failover forest pair. \r\n \r\nAfter Enabling failover:\r\nF1-Master is in “Open” state\r\nF1-Replica is in “sync replicating” state\r\n \r\nAfter moving forest F1-Master into flash-backup mode (forest goes into “unmounted” state for a second or two and then):\r\nF1-Master is in “wait replication” state\r\nF1-Replica is in “wait replication” state\r\n \r\nWhen I move them out of flash-backup mode, they go back to their original states (open – sync replicating).\r\n \r\nIs this expected?\r\n \r\nThanks\r\nSundeep\r\n", "samplequery":"", "sampledata":"", "version":"5.0-nightly", "tofixin":"5.0-7", "fixedin":"N/A", "platform":"all", "memory":"", "processors":"", "note":"", "subscribers":[{"username":"svempati", "name":"Sundeep Vempati", "email":"sundeep.vempati@marklogic.com"}, {"username":"wfeick", "name":"Wayne Feick", "email":"wfeick@marklogic.com"}, {"username":"hwu", "name":"Haitao Wu", "email":"haitao.wu@marklogic.com"}], "attachments":[], "relationships":[{"type":"", "to":""}], "clones":[21223, 21224], "cloneOf":"", "support":{"headline":"", "supportDescription":"", "publishStatus":"Not Ready", "tickets":[], "customerImpact":{"level":"N/A", "title":""}, "workaround":""}, "tags":["Replication", "svempati"], "changeHistory":[{"time":"2013-02-19T19:53:04.694416-08:00", "updatedBy":{"username":"svempati", "name":"Sundeep Vempati", "email":"sundeep.vempati@marklogic.com"}, "change":{"assignTo":{"from":{"username":"svempati", "name":"Sundeep Vempati", "email":"sundeep.vempati@marklogic.com"}, "to":{"username":"wfeick", "name":"Wayne Feick", "email":"wfeick@marklogic.com"}}}, "files":[], "show":true}, {"time":"2013-09-03T15:16:12.590247-07:00", "updatedBy":{"username":"wfeick", "name":"Wayne Feick", "email":"wfeick@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"See the b6_0 commits, as they are most likely to apply easily."}, {"time":"2013-09-03T15:16:12.590247-07:00", "updatedBy":{"username":"wfeick", "name":"Wayne Feick", "email":"wfeick@marklogic.com"}, "change":{"assignTo":{"from":{"username":"wfeick", "name":"Wayne Feick", "email":"wfeick@marklogic.com"}, "to":{"username":"hwu", "name":"Haitao Wu", "email":"haitao.wu@marklogic.com"}}}, "files":[], "show":true}, {"time":"2013-09-03T15:19:24.824625-07:00", "updatedBy":{"username":"wfeick", "name":"Wayne Feick", "email":"wfeick@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"Also see extra b6_0 Recovery.cpp commit in 21224 to address windows separator issues. It's part of this."}, {"time":"2014-11-10T16:13:22.814667-08:00", "updatedBy":{"username":"hwu", "name":"Haitao Wu", "email":"haitao.wu@marklogic.com"}, "change":{"status":{"from":"Verify", "to":"Will not fix"}, "assignTo":{"from":{"username":"hwu", "name":"Haitao Wu", "email":"haitao.wu@marklogic.com"}, "to":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}}}, "files":[], "show":true, "comment":"no backporting to 5."}, {"time":"2014-11-10T16:13:22.814667-08:00", "updatedBy":{"username":"hwu", "name":"Haitao Wu", "email":"haitao.wu@marklogic.com"}, "change":{"assignTo":{"from":{"username":"hwu", "name":"Haitao Wu", "email":"haitao.wu@marklogic.com"}, "to":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}}}, "files":[], "show":true}], "updatedAt":"2014-11-10T16:13:22.814667-08:00", "renderDescriptionAs":"normal"}