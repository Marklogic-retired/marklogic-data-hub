{"id":20040, "kind":"Bug", "createdAt":"2012-11-09T10:27:55.932998-08:00", "status":"Closed", "title":"[Error] perfmon.xsd:26:50: src-resolve.4.1: Error resolving component 'host-name'.", "category":"xdmp", "severity":"Critical", "priority":{"level":"5", "title":""}, "submittedBy":{"username":"ksaxena", "name":"Kapil Saxena", "email":"kapil.saxena@marklogic.com"}, "assignTo":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}, "description":"Branch: b6_1\r\nML Version: 11/09\r\nTest Name: bug11480.xml\r\n\r\n\r\nXQuery:\r\n*********\r\n        xquery version \"1.0-ml\";\r\n        let $p := if(xdmp:platform() = \"winnt\") then \"TMP_DIR\\bug11480.xml\" else \"TMP_DIR/bug11480.xml\"\r\n        let $output := xdmp:document-get($p, <options xmlns=\"xdmp:document-get\"> <repair>full</repair></options>)\r\n\treturn\r\n\tif (empty($output//text())) then \"pass\" else $output\r\n\r\nExpected Result: \r\n******************\r\n                    pass\r\n\r\nActual Result:\r\n***************\r\n[Error] perfmon.xsd:26:50: src-resolve.4.1: Error resolving component 'host-name'. It was detected that 'host-name' has no namespace, but components with no target namespace are not referenceable from schema document 'file:/opt/MarkLogic/Config/perfmon.xsd'. If 'host-name' is intended to have a namespace, perhaps a prefix needs to be provided. If it is intended that 'host-name' has no namespace, then an 'import' without a \"namespace\" attribute should be added to 'file:/opt/MarkLogic/Config/perfmon.xsd'.\r\n\r\n", "samplequery":"", "sampledata":"", "version":"7.0-nightly", "tofixin":"7.0-ea1", "fixedin":"7.0-ea1", "platform":"all", "memory":"", "processors":"", "note":"", "subscribers":[{"username":"ksaxena", "name":"Kapil Saxena", "email":"kapil.saxena@marklogic.com"}, {"username":"dlee", "name":"David  Lee", "email":"David.Lee@marklogic.com"}, {"username":"rpolasani", "name":"Raghu Polasani", "email":"raghu.polasani@marklogic.com"}, {"username":"sverma", "name":"Shiva Verma", "email":"shiva.verma@marklogic.com"}, {"username":"rhu", "name":"Ron Hu", "email":"ron.hu@marklogic.com"}, {"username":"wfeick", "name":"Wayne Feick", "email":"wfeick@marklogic.com"}], "attachments":[], "relationships":[{"type":"", "to":""}], "clones":[], "cloneOf":"", "support":{"headline":"", "supportDescription":"", "publishStatus":"Not Ready", "tickets":[], "customerImpact":{"level":"N/A", "title":""}, "workaround":""}, "tags":["xdmp", "ksaxena"], "changeHistory":[{"time":"2012-11-09T10:27:55.932998-08:00", "updatedBy":{"username":"ksaxena", "name":"Kapil Saxena", "email":"kapil.saxena@marklogic.com"}, "change":{"assignTo":{"from":{"username":"ksaxena", "name":"Kapil Saxena", "email":"kapil.saxena@marklogic.com"}, "to":{"username":"rhu", "name":"Ron Hu", "email":"ron.hu@marklogic.com"}}}, "files":[], "show":true}, {"time":"2012-11-09T10:29:48.221632-08:00", "updatedBy":{"username":"ksaxena", "name":"Kapil Saxena", "email":"kapil.saxena@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"This failure is seen on sandbox build."}, {"time":"2012-11-09T11:54:47.790656-08:00", "updatedBy":{"username":"rhu", "name":"Ron Hu", "email":"ron.hu@marklogic.com"}, "change":{"assignTo":{"from":{"username":"rhu", "name":"Ron Hu", "email":"ron.hu@marklogic.com"}, "to":{"username":"dlee", "name":"David  Lee", "email":"David.Lee@marklogic.com"}}}, "files":[], "show":true}, {"time":"2012-11-09T13:28:07.38932-08:00", "updatedBy":{"username":"dlee", "name":"David  Lee", "email":"David.Lee@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"Wayne I think this is your new perfmon code\r\nFrom Mary:\r\n-=----------------------------------\r\nI think perfom.xsd needs to have a namespace declaration for the target namespace.  When you have a ref= or type= in a schema, that name needs to be a qualified name. If you just have \"foo\" it is \"foo\" in no namespace unless there is an xmlns=\"whatever\" in scope.\r\n\r\nGenerally in creating schemas I set xmlns= to the target namespace.\r\n\r\n"}, {"time":"2012-11-09T13:28:07.38932-08:00", "updatedBy":{"username":"dlee", "name":"David  Lee", "email":"David.Lee@marklogic.com"}, "change":{"assignTo":{"from":{"username":"dlee", "name":"David  Lee", "email":"David.Lee@marklogic.com"}, "to":{"username":"wfeick", "name":"Wayne Feick", "email":"wfeick@marklogic.com"}}}, "files":[], "show":true}, {"time":"2012-11-09T13:29:58.520899-08:00", "updatedBy":{"username":"wfeick", "name":"Wayne Feick", "email":"wfeick@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"Yes, this is new perfmon stuff. It's a work in progress prototype, so not a big deal. The schema will eventually get fixed, and I'll keep this open until that happens."}, {"time":"2013-02-20T14:47:54.289784-08:00", "updatedBy":{"username":"wfeick", "name":"Wayne Feick", "email":"wfeick@marklogic.com"}, "change":{}, "files":[], "show":true, "svn":{"repository":"/project/engsvn", "revision":"132705", "paths":["xdmp/trunk/src/Config/perfmon.xsd"], "affectedBugs":[]}, "comment":"bug:20040 removing schema that is no longer used."}, {"time":"2013-02-20T14:48:44.876505-08:00", "updatedBy":{"username":"wfeick", "name":"Wayne Feick", "email":"wfeick@marklogic.com"}, "change":{"status":{"from":"", "to":"Test"}, "assignTo":{"from":{"username":"wfeick", "name":"Wayne Feick", "email":"wfeick@marklogic.com"}, "to":{"username":"ksaxena", "name":"Kapil Saxena", "email":"kapil.saxena@marklogic.com"}}}, "files":[], "show":true, "comment":"I removed the perfmon.xsd since it is no longer used."}, {"time":"2013-02-20T14:48:44.876505-08:00", "updatedBy":{"username":"wfeick", "name":"Wayne Feick", "email":"wfeick@marklogic.com"}, "change":{"assignTo":{"from":{"username":"wfeick", "name":"Wayne Feick", "email":"wfeick@marklogic.com"}, "to":{"username":"ksaxena", "name":"Kapil Saxena", "email":"kapil.saxena@marklogic.com"}}}, "files":[], "show":true}, {"time":"2013-03-04T01:56:58.804741-08:00", "updatedBy":{"username":"ksaxena", "name":"Kapil Saxena", "email":"kapil.saxena@marklogic.com"}, "change":{"status":{"from":"", "to":"Ship"}, "assignTo":{"from":{"username":"ksaxena", "name":"Kapil Saxena", "email":"kapil.saxena@marklogic.com"}, "to":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}}}, "files":[], "show":true, "comment":"This issue with perfmon is resolved now and hence shipping it. However, I'm seeing issue with semantics.xsd in same xquery and I've opened bug 21002 for the same."}, {"time":"2013-03-04T01:56:58.804741-08:00", "updatedBy":{"username":"ksaxena", "name":"Kapil Saxena", "email":"kapil.saxena@marklogic.com"}, "change":{"assignTo":{"from":{"username":"ksaxena", "name":"Kapil Saxena", "email":"kapil.saxena@marklogic.com"}, "to":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}}}, "files":[], "show":true}], "updatedAt":"2013-03-04T01:56:58.804741-08:00", "fixedAt":"2013-02-20T14:48:44.876505-08:00", "fixedBy":{"username":"wfeick", "name":"Wayne Feick", "email":"wfeick@marklogic.com"}, "shippedAt":"2013-03-04T01:56:58.804741-08:00", "shippedBy":{"username":"ksaxena", "name":"Kapil Saxena", "email":"kapil.saxena@marklogic.com"}, "renderDescriptionAs":"normal"}