{"id":20069, "kind":"Bug", "createdAt":"2012-11-12T17:27:19.563942-08:00", "status":"Closed", "title":"UPGRADE: Unable to deploy existing sample app on existing appserver after upgrade", "category":"App Builder", "severity":"Major", "priority":{"level":"5", "title":""}, "submittedBy":{"username":"ayuwono", "name":"Aries Yuwono", "email":"ayuwono@marklogic.com"}, "assignTo":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}, "description":"Steps:\r\n=====\r\n1) Install ML version 4.2-9.2 or 5.0-4\r\n2) Create appbuilder user\r\n3) Login to appservices using appbuilder user\r\n4) Create a new sample app and deploy it on port 5074\r\n5) Upgrade to ML version 6.0-2\r\n6) Login to appservices using appbuilder user\r\n7) Go to a sample app created on step #4\r\n8) On \"Search\" tab, click on Resample\r\n9) Go to \"Assemble\" tab, select some widgets and their facets\r\n10) Go to \"Deploy\" tab, try to deploy it on existing appserver\r\n\r\nActual Result\r\n===========\r\nYou can't deploy on the existing appserver, which is 5074\r\n\r\nExpected Result\r\n=============\r\nShould be able to deploy on existing appserver (5074)\r\n", "samplequery":"", "sampledata":"", "version":"6.0-nightly", "tofixin":"6.0-2", "fixedin":"N/A", "platform":"all", "memory":"", "processors":"", "note":"", "subscribers":[{"username":"ayuwono", "name":"Aries Yuwono", "email":"ayuwono@marklogic.com"}, {"username":"knagar", "name":"Kuldeep Nagar", "email":"Kuldeep.Nagar@marklogic.com"}, {"username":"gvaidees", "name":"Ganesh Vaideeswaran", "email":"Ganesh.Vaideeswaran@marklogic.com"}, {"username":"mbhatnag", "name":"Mayank Bhatnagar", "email":"Mayank.Bhatnagar@marklogic.com"}, {"username":"msarma", "name":"Meghalim Sarma", "email":"msarma@marklogic.com"}], "attachments":[], "relationships":[{"type":"", "to":""}], "clones":[], "cloneOf":"", "support":{"headline":"", "supportDescription":"", "publishStatus":"Not Ready", "tickets":[], "customerImpact":{"level":"N/A", "title":""}, "workaround":""}, "tags":["App Builder", "ayuwono"], "changeHistory":[{"time":"2012-11-12T17:27:19.563942-08:00", "updatedBy":{"username":"ayuwono", "name":"Aries Yuwono", "email":"ayuwono@marklogic.com"}, "change":{"assignTo":{"from":{"username":"ayuwono", "name":"Aries Yuwono", "email":"ayuwono@marklogic.com"}, "to":{"username":"gvaidees", "name":"Ganesh Vaideeswaran", "email":"Ganesh.Vaideeswaran@marklogic.com"}}}, "files":[], "show":true}, {"time":"2012-11-12T18:07:07.28712-08:00", "updatedBy":{"username":"gvaidees", "name":"Ganesh Vaideeswaran", "email":"Ganesh.Vaideeswaran@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"I think this is working as designed. 6.0 app server is REST based while 5.0-4 is XQuery based. So, trying to upgrade a REST style app against XQuery does not work. \r\n\r\nWhat is the error you are getting?"}, {"time":"2012-11-12T18:17:38.090716-08:00", "updatedBy":{"username":"dsokolsky", "name":"Danny Sokolsky", "email":"dsokolsky@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"If you mean that on the deploy screen, it pops up a message saying you cannot deploy, then I think this is not a bug.  Also, I think this is how it worked in 6.0-1."}, {"time":"2012-11-12T18:56:08.810904-08:00", "updatedBy":{"username":"gvaidees", "name":"Ganesh Vaideeswaran", "email":"Ganesh.Vaideeswaran@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"After upgrade to 6.0-1, we cannot even choose existing port (8003 in my case) to redeploy. It only allows me to deploy on a new port. Will try upgrading against 6.0-2 and try"}, {"time":"2012-11-12T20:41:52.882634-08:00", "updatedBy":{"username":"gvaidees", "name":"Ganesh Vaideeswaran", "email":"Ganesh.Vaideeswaran@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"After upgrade from 5.0-4 to 6.0-2, I cannot choose existing port (8003 in my case) to redeploy (same as 5.0-4 to 6.0-1). \r\n\r\nThis is expected behavior."}, {"time":"2012-11-12T20:41:52.882634-08:00", "updatedBy":{"username":"gvaidees", "name":"Ganesh Vaideeswaran", "email":"Ganesh.Vaideeswaran@marklogic.com"}, "change":{"status":{"from":"", "to":"Closed"}, "assignTo":{"from":{"username":"gvaidees", "name":"Ganesh Vaideeswaran", "email":"Ganesh.Vaideeswaran@marklogic.com"}, "to":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}}}, "files":[], "show":true, "comment":"Not a bug"}, {"time":"2012-11-12T20:41:52.882634-08:00", "updatedBy":{"username":"gvaidees", "name":"Ganesh Vaideeswaran", "email":"Ganesh.Vaideeswaran@marklogic.com"}, "change":{"assignTo":{"from":{"username":"gvaidees", "name":"Ganesh Vaideeswaran", "email":"Ganesh.Vaideeswaran@marklogic.com"}, "to":{"username":"ayuwono", "name":"Aries Yuwono", "email":"ayuwono@marklogic.com"}}}, "files":[], "show":true}], "updatedAt":"2012-11-12T20:41:52.882634-08:00", "closedAt":"2012-11-12T20:41:52.882634-08:00", "closedBy":{"username":"gvaidees", "name":"Ganesh Vaideeswaran", "email":"Ganesh.Vaideeswaran@marklogic.com"}, "renderDescriptionAs":"normal"}