{"id":20370, "kind":"Task", "createdAt":"2013-01-03T11:06:20.281536-08:00", "status":"Closed", "title":"QConsole fine tuning", "category":"Query Console", "severity":"Minor", "priority":{"level":"5", "title":""}, "days":null, "period":{"startDate":null, "endDate":null}, "submittedBy":{"username":"ehennum", "name":"Erik Hennum", "email":"erik.hennum@marklogic.com"}, "assignTo":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}, "description":"Issues with the current QConsole:\r\n\r\n*  Attributes and text outside of any element don't display in the XML view.\r\n\r\n*  In Firefox (4), the text pane is sometimes much shorter than the display area, giving the appearance of truncation.  Try the following in the text view:\r\n\r\nfor $i in (1 to 100)\r\nreturn <a>{\"number \",$i,\" \"}</a>\r\n\r\n*  In the XML view, newlines inserted before and after tags and spaces inserted before and after inline tags reduce how much data can be displayed and misrepresent the data.\r\n", "samplequery":"", "sampledata":"", "version":"7.0-nightly", "tofixin":"7.0-1", "fixedin":"N/A", "platform":"all", "memory":"", "processors":"", "note":"", "subscribers":[{"username":"ehennum", "name":"Erik Hennum", "email":"erik.hennum@marklogic.com"}, {"username":"bmo", "name":"Brian Mo", "email":"brian.mo@marklogic.com"}, {"username":"sbrooks", "name":"Scott Brooks", "email":"Scott.Brooks@marklogic.com"}, {"username":"ctaylor", "name":"Christophe Taylor", "email":"christophe.taylor@marklogic.com"}], "attachments":[], "includeInTaskList":false, "proceduralTasks":{"Requirements Task":[], "Functional Specification Task":[], "Test Specification Task":[], "Test Automation Task":[], "Documentation Task":[]}, "subTasks":[], "tags":["Query Console", "ehennum"], "changeHistory":[{"time":"2013-01-03T11:06:20.281536-08:00", "updatedBy":{"username":"ehennum", "name":"Erik Hennum", "email":"erik.hennum@marklogic.com"}, "change":{"assignTo":{"from":{"username":"ehennum", "name":"Erik Hennum", "email":"erik.hennum@marklogic.com"}, "to":{"username":"bmo", "name":"Brian Mo", "email":"brian.mo@marklogic.com"}}}, "files":[], "show":true}, {"time":"2013-01-07T10:47:18.47942-08:00", "updatedBy":{"username":"bmo", "name":"Brian Mo", "email":"brian.mo@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"Per Ganesh's email, reassigning to Christophe.  "}, {"time":"2013-01-07T10:47:18.47942-08:00", "updatedBy":{"username":"bmo", "name":"Brian Mo", "email":"brian.mo@marklogic.com"}, "change":{"assignTo":{"from":{"username":"bmo", "name":"Brian Mo", "email":"brian.mo@marklogic.com"}, "to":{"username":"ctaylor", "name":"Christophe Taylor", "email":"christophe.taylor@marklogic.com"}}}, "files":[], "show":true}, {"time":"2013-01-07T14:36:13.666717-08:00", "updatedBy":{"username":"sbrooks", "name":"Scott Brooks", "email":"Scott.Brooks@marklogic.com"}, "change":{}, "files":[], "show":true, "svn":{"repository":"/project/engsvn", "revision":"126984", "paths":["xdmp/trunk/src/Apps/qconsole/static/css/reset.css", "xdmp/trunk/src/Apps/qconsole/static/js/qconsole.js", "xdmp/trunk/src/Apps/common/output-formatter/output-formatter.js", "xdmp/trunk/src/Apps/qconsole/static/css/qconsole.css", "xdmp/trunk/src/Apps/qconsole/default.xqy"], "affectedBugs":[]}, "comment":"Bug:20370 - fixed text rendering layout issue for both text output and error output on parser error."}, {"time":"2013-01-10T17:45:18.426225-08:00", "updatedBy":{"username":"ehennum", "name":"Erik Hennum", "email":"erik.hennum@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"Also, a\r\n\r\n<json type=\"object\" xmlns=\"http://marklogic.com/xdmp/json/basic\">...</json>\r\n\r\nXML element gets rendered as JSON.  This makes it difficult to see the result\r\nof JSON transformation.\r\n\r\nPlease compare\r\n\r\njson:transform-from-json('{\"v\":2}', json:config())\r\n\r\nand\r\n\r\n<a>{json:transform-from-json('{\"v\":2}', json:config())}</a>\r\n\r\nI also notice that when the XML tab receives text instead of well-formed XML \r\n(as, incorrectly, in the first case), the run button never seems to reset from the\r\nstoppable visual display.\r\n"}, {"time":"2013-01-16T11:33:14.744287-08:00", "updatedBy":{"username":"ctaylor", "name":"Christophe Taylor", "email":"christophe.taylor@marklogic.com"}, "change":{}, "files":[], "show":true, "svn":{"repository":"/project/engsvn", "revision":"127983", "paths":["xdmp/trunk/src/Apps/common/output-formatter/css/output-formatter.css"], "affectedBugs":[]}, "comment":"Bug:20370 - changed xml styling so that tag contents are on the same line as the tag"}, {"time":"2013-01-16T11:34:48.068792-08:00", "updatedBy":{"username":"ehennum", "name":"Erik Hennum", "email":"erik.hennum@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"By the way, one other issue -- in text mode, it doesn't seem possible to select and copy\r\nfrom the output display."}, {"time":"2013-01-16T11:36:10.69979-08:00", "updatedBy":{"username":"sbrooks", "name":"Scott Brooks", "email":"Scott.Brooks@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"That's already filed as a separate issue:\r\nhttp://bugtrack.marklogic.com/20360\r\n"}, {"time":"2013-01-16T16:40:25.226718-08:00", "updatedBy":{"username":"ctaylor", "name":"Christophe Taylor", "email":"christophe.taylor@marklogic.com"}, "change":{}, "files":[], "show":true, "svn":{"repository":"/project/engsvn", "revision":"128020", "paths":["xdmp/trunk/src/Apps/qconsole/endpoints/evaler.xqy"], "affectedBugs":[]}, "comment":"Bug:20370 - updated query console evaler to disable automatic json conversion. \"too clever for its own good\""}, {"time":"2013-01-16T16:56:32.447611-08:00", "updatedBy":{"username":"ctaylor", "name":"Christophe Taylor", "email":"christophe.taylor@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"It's been decided that we're going to go back to wrapping elements in the old style to support native xml rendering of all the server outputs. Brian is going to turn all those features back on in the query console evaler endpoint.\r\n\r\nSo now we will get the old atomic values, unwrapped attributes, etc etc generated structures from the server so that the xml parser will be able to parse any response. "}, {"time":"2013-01-16T16:57:12.201578-08:00", "updatedBy":{"username":"ctaylor", "name":"Christophe Taylor", "email":"christophe.taylor@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"All the other tasks in this bug are currently fixed."}, {"time":"2013-01-16T16:57:12.201578-08:00", "updatedBy":{"username":"ctaylor", "name":"Christophe Taylor", "email":"christophe.taylor@marklogic.com"}, "change":{"assignTo":{"from":{"username":"ctaylor", "name":"Christophe Taylor", "email":"christophe.taylor@marklogic.com"}, "to":{"username":"bmo", "name":"Brian Mo", "email":"brian.mo@marklogic.com"}}}, "files":[], "show":true}, {"time":"2013-02-19T19:27:05.963406-08:00", "updatedBy":{"username":"gvaidees", "name":"Ganesh Vaideeswaran", "email":"Ganesh.Vaideeswaran@marklogic.com"}, "change":{"tofixin":{"from":"7.0-ea1", "to":"7.0-1"}}, "files":[], "show":true}, {"time":"2013-03-30T14:44:31.993234-07:00", "updatedBy":{"username":"gvaidees", "name":"Ganesh Vaideeswaran", "email":"Ganesh.Vaideeswaran@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"Brian,\r\n\r\nIs this still an issue? Can this be closed?"}, {"time":"2013-03-30T15:39:50.960036-07:00", "updatedBy":{"username":"bmo", "name":"Brian Mo", "email":"brian.mo@marklogic.com"}, "change":{"status":{"from":null, "to":"Closed"}, "assignTo":{"from":{"username":"bmo", "name":"Brian Mo", "email":"brian.mo@marklogic.com"}, "to":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}}}, "files":[], "show":true}], "updatedAt":"2013-03-30T15:39:50.960036-07:00", "closedAt":"2013-03-30T15:39:50.960036-07:00", "closedBy":{"username":"bmo", "name":"Brian Mo", "email":"brian.mo@marklogic.com"}}