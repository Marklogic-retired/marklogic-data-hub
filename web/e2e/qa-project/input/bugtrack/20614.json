{"id":20614, "kind":"Bug", "createdAt":"2013-01-28T14:00:51.701494-08:00", "status":"Closed", "title":"custom constraints for string and structured queries take different parameters", "category":"documentation", "severity":"Minor", "priority":{"level":"2", "title":"Not required for product release"}, "submittedBy":{"username":"ehennum", "name":"Erik Hennum", "email":"erik.hennum@marklogic.com"}, "assignTo":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}, "description":"Currently, the documentation for the Search API covers the parse function that implements custom constraints for string queries but not structured queries.\r\n\r\nThe parameters for the parse function for structured queries are different:\r\n\r\n    $query-elem as element(search:custom-constraint-query),\r\n    $options    as element(search:options)\r\n\r\nThe return values is the same.\r\n\r\nTo support both string and structured queries on the same options constraint, you can declare more general types (item() and element()) for the parameters and branch on \"instance of\" tests of the parameter values.\r\n", "samplequery":"", "sampledata":"", "version":"6.0-1", "tofixin":"6.0-5", "fixedin":"6.0-5", "platform":"all", "memory":"", "processors":"", "note":"", "subscribers":[{"username":"ehennum", "name":"Erik Hennum", "email":"erik.hennum@marklogic.com"}, {"username":"kcoleman", "name":"Kim Coleman", "email":"kim.coleman@marklogic.com"}], "attachments":[], "relationships":[{"type":"", "to":""}], "clones":[], "cloneOf":"", "support":{"headline":"", "supportDescription":"", "publishStatus":"Never Publish", "tickets":[], "customerImpact":{"level":"N/A", "title":""}, "workaround":""}, "tags":["documentation", "ehennum"], "changeHistory":[{"time":"2013-01-28T14:00:51.701494-08:00", "updatedBy":{"username":"ehennum", "name":"Erik Hennum", "email":"erik.hennum@marklogic.com"}, "change":{"assignTo":{"from":{"username":"ehennum", "name":"Erik Hennum", "email":"erik.hennum@marklogic.com"}, "to":{"username":"kcoleman", "name":"Kim Coleman", "email":"kim.coleman@marklogic.com"}}}, "files":[], "show":true}, {"time":"2013-09-12T15:19:50.24946-07:00", "updatedBy":{"username":"kcoleman", "name":"Kim Coleman", "email":"kim.coleman@marklogic.com"}, "change":{}, "files":[], "show":true, "svn":{"repository":"/project/docsvn", "revision":"7295", "paths":["docs/trunk/fm/search-dev-guide/search-api.fm"], "affectedBugs":[]}, "comment":"Bug:20614 Finished up structured query custom constraint parse function coverage. Added an example of creating a parse function that handles both string and structured."}, {"time":"2013-09-12T15:21:35.374757-07:00", "updatedBy":{"username":"kcoleman", "name":"Kim Coleman", "email":"kim.coleman@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"Erik, all this applies to 6.0 as well, right?"}, {"time":"2013-09-12T15:27:49.735753-07:00", "updatedBy":{"username":"ehennum", "name":"Erik Hennum", "email":"erik.hennum@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"Most definitely.\r\n"}, {"time":"2013-09-12T15:31:21.201076-07:00", "updatedBy":{"username":"kcoleman", "name":"Kim Coleman", "email":"kim.coleman@marklogic.com"}, "change":{}, "files":[], "show":true, "svn":{"repository":"/project/docsvn", "revision":"7297", "paths":["docs/branches/b6_0/fm/search-dev-guide/search-api.fm"], "affectedBugs":[]}, "comment":"Bug:20614 Add info on creating a custom constraint function for structured queries."}, {"time":"2013-09-12T15:32:39.409295-07:00", "updatedBy":{"username":"kcoleman", "name":"Kim Coleman", "email":"kim.coleman@marklogic.com"}, "change":{"status":{"from":"", "to":"Test"}, "assignTo":{"from":{"username":"kcoleman", "name":"Kim Coleman", "email":"kim.coleman@marklogic.com"}, "to":{"username":"kcoleman", "name":"Kim Coleman", "email":"kim.coleman@marklogic.com"}}}, "files":[], "show":true, "comment":"Fixed on both branches. Will pass it by Erik after next successful doc build."}, {"time":"2013-09-13T13:46:09.75103-07:00", "updatedBy":{"username":"kcoleman", "name":"Kim Coleman", "email":"kim.coleman@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"Sent to Erik and Charles for review."}, {"time":"2013-09-23T16:47:10.626428-07:00", "updatedBy":{"username":"kcoleman", "name":"Kim Coleman", "email":"kim.coleman@marklogic.com"}, "change":{}, "files":[], "show":true, "svn":{"repository":"/project/docsvn", "revision":"7378", "paths":["docs/branches/b6_0/fm/search-dev-guide/search-api.fm"], "affectedBugs":[]}, "comment":"Bug:20614 Merge the example I added on latest into b6_0."}, {"time":"2013-09-25T12:29:48.726665-07:00", "updatedBy":{"username":"kcoleman", "name":"Kim Coleman", "email":"kim.coleman@marklogic.com"}, "change":{"status":{"from":"", "to":"Ship"}, "assignTo":{"from":{"username":"kcoleman", "name":"Kim Coleman", "email":"kim.coleman@marklogic.com"}, "to":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}}}, "files":[], "show":true, "comment":"All clear from Erik."}, {"time":"2013-09-25T12:29:48.726665-07:00", "updatedBy":{"username":"kcoleman", "name":"Kim Coleman", "email":"kim.coleman@marklogic.com"}, "change":{"assignTo":{"from":{"username":"kcoleman", "name":"Kim Coleman", "email":"kim.coleman@marklogic.com"}, "to":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}}}, "files":[], "show":true}], "updatedAt":"2013-09-25T12:29:48.726665-07:00", "fixedAt":"2013-09-12T15:32:39.409295-07:00", "fixedBy":{"username":"kcoleman", "name":"Kim Coleman", "email":"kim.coleman@marklogic.com"}, "shippedAt":"2013-09-25T12:29:48.726665-07:00", "shippedBy":{"username":"kcoleman", "name":"Kim Coleman", "email":"kim.coleman@marklogic.com"}, "renderDescriptionAs":"normal"}