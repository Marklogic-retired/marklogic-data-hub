{"id":20379, "kind":"Bug", "createdAt":"2013-01-04T02:49:38.827562-08:00", "status":"Closed", "title":"Order by resulting in server restart", "category":"XQuery", "severity":"Critical", "priority":{"level":"5", "title":""}, "submittedBy":{"username":"dchander", "name":"Dinesh Chander", "email":"dinesh.chander@globallogic.com"}, "assignTo":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}, "description":"Reported by user in case #12298. Issue can be reproduced with all ML versions.\r\n--------------------------------------------------------------------------------------------------------------\r\n\r\nAttached are two zip files:\r\n1.) ReproducibleTestCase.zip - With default database settings, run the Set_1 & Set_2 files to load the documents. These are the documents provided by the user. Once the documents are loaded, run the search (Query.txt) via CQ/QC. Running the query would restart the server.\r\n2.) SimplifiedReproducibleTestCase.zip - This zip file contains the simplified versions of the above files. Running the query will again restart the server.", "samplequery":"Attached zip files contain the sample data and query.", "sampledata":"", "version":"6.0-2.1", "tofixin":"6.0-3", "fixedin":"6.0-3", "platform":"all", "memory":"", "processors":"", "note":"", "subscribers":[{"username":"dchander", "name":"Dinesh Chander", "email":"dinesh.chander@globallogic.com"}, {"username":"gpushkar", "name":"Gaurav Pushkarna", "email":"gaurav.pushkarna@marklogic.com"}, {"username":"ksaxena", "name":"Kapil Saxena", "email":"kapil.saxena@marklogic.com"}, {"username":"mary", "name":"Mary Holstege", "email":"mary@cerisent.com"}, {"username":"rpolasani", "name":"Raghu Polasani", "email":"raghu.polasani@marklogic.com"}], "attachments":[{"name":"Reproducible test case", "uri":"root/support/bugtracking/attachments/20379/ReproducibleTestCase.zip"}, {"name":"Simplified test case", "uri":"root/support/bugtracking/attachments/20379/SimplifiedReproducibleTestCase.zip"}], "relationships":[{"type":"", "to":""}], "clones":[20381, 20382, 20425], "cloneOf":"", "support":{"headline":"Server restarting when executing order by clause", "supportDescription":"Under some circumstances, an order by clause that references a path expression that sometimes has no hits may cause a server restart when executed.", "publishStatus":"Publish", "tickets":[], "customerImpact":{"level":"Low", "title":"Minimal business impact or reasonable workaround is available"}, "workaround":""}, "tags":["XQuery", "dchander"], "changeHistory":[{"time":"2013-01-04T10:06:32.679753-08:00", "updatedBy":{"username":"rpelton", "name":"Rick Pelton", "email":"rick.pelton@marklogic.com"}, "change":{"tofixin":{"from":"", "to":"6.0-3"}}, "files":[], "show":true}, {"time":"2013-01-10T10:33:25.953371-08:00", "updatedBy":{"username":"mary", "name":"Mary Holstege", "email":"mary@cerisent.com"}, "change":{"status":{"from":"", "to":"Fix"}, "assignTo":{"from":{"username":"mary", "name":"Mary Holstege", "email":"mary@cerisent.com"}, "to":{"username":"mary", "name":"Mary Holstege", "email":"mary@cerisent.com"}}}, "files":[], "show":true, "comment":"Fix clone also"}, {"time":"2013-01-10T10:33:25.953371-08:00", "updatedBy":{"username":"mary", "name":"Mary Holstege", "email":"mary@cerisent.com"}, "change":{"assignTo":{"from":{"username":"mary", "name":"Mary Holstege", "email":"mary@cerisent.com"}, "to":{"username":"mary", "name":"Mary Holstege", "email":"mary@cerisent.com"}}}, "files":[], "show":true}, {"time":"2013-01-10T10:48:17.420792-08:00", "updatedBy":{"username":"mary", "name":"Mary Holstege", "email":"mary@cerisent.com"}, "change":{}, "files":[], "show":true, "svn":{"repository":"/project/engsvn", "revision":"127347", "paths":["xdmp/branches/b6_0/src/ValueInference.cpp"], "affectedBugs":[]}, "comment":"Bug:20379 check for specv.empty before using specv[0]"}, {"time":"2013-01-10T10:48:48.078307-08:00", "updatedBy":{"username":"mary", "name":"Mary Holstege", "email":"mary@cerisent.com"}, "change":{"status":{"from":"", "to":"Test"}, "assignTo":{"from":{"username":"mary", "name":"Mary Holstege", "email":"mary@cerisent.com"}, "to":{"username":"rpolasani", "name":"Raghu Polasani", "email":"raghu.polasani@marklogic.com"}}}, "files":[], "show":true, "comment":"Fixed 6.0-20130111"}, {"time":"2013-01-10T10:48:48.078307-08:00", "updatedBy":{"username":"mary", "name":"Mary Holstege", "email":"mary@cerisent.com"}, "change":{"assignTo":{"from":{"username":"mary", "name":"Mary Holstege", "email":"mary@cerisent.com"}, "to":{"username":"rpolasani", "name":"Raghu Polasani", "email":"raghu.polasani@marklogic.com"}}}, "files":[], "show":true}, {"time":"2013-03-02T11:28:34.903865-08:00", "updatedBy":{"username":"rpolasani", "name":"Raghu Polasani", "email":"raghu.polasani@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"looks like already tested in 5.0. Please add the same test to b6_0 and trunk too."}, {"time":"2013-03-02T11:28:34.903865-08:00", "updatedBy":{"username":"rpolasani", "name":"Raghu Polasani", "email":"raghu.polasani@marklogic.com"}, "change":{"assignTo":{"from":{"username":"rpolasani", "name":"Raghu Polasani", "email":"raghu.polasani@marklogic.com"}, "to":{"username":"ksaxena", "name":"Kapil Saxena", "email":"kapil.saxena@marklogic.com"}}}, "files":[], "show":true}, {"time":"2013-03-12T23:31:44.185262-07:00", "updatedBy":{"username":"ksaxena", "name":"Kapil Saxena", "email":"kapil.saxena@marklogic.com"}, "change":{"assignTo":{"from":{"username":"ksaxena", "name":"Kapil Saxena", "email":"kapil.saxena@marklogic.com"}, "to":{"username":"gpushkar", "name":"Gaurav Pushkarna", "email":"gaurav.pushkarna@marklogic.com"}}}, "files":[], "show":true}, {"time":"2013-03-15T00:23:33.645891-07:00", "updatedBy":{"username":"gpushkar", "name":"Gaurav Pushkarna", "email":"gaurav.pushkarna@marklogic.com"}, "change":{"status":{"from":"", "to":"Ship"}, "assignTo":{"from":{"username":"gpushkar", "name":"Gaurav Pushkarna", "email":"gaurav.pushkarna@marklogic.com"}, "to":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}}}, "files":[], "show":true, "comment":"Verified on ML 20130313. Test bug20425.xml has already been added for the same"}, {"time":"2013-03-15T00:23:33.645891-07:00", "updatedBy":{"username":"gpushkar", "name":"Gaurav Pushkarna", "email":"gaurav.pushkarna@marklogic.com"}, "change":{"assignTo":{"from":{"username":"gpushkar", "name":"Gaurav Pushkarna", "email":"gaurav.pushkarna@marklogic.com"}, "to":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}}}, "files":[], "show":true}, {"time":"2013-04-22T16:33:50.407405-07:00", "updatedBy":{"username":"rpelton", "name":"Rick Pelton", "email":"rick.pelton@marklogic.com"}, "change":{"status":{"from":"", "to":"Closed"}, "assignTo":{"from":{"username":"rpelton", "name":"Rick Pelton", "email":"rick.pelton@marklogic.com"}, "to":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}}}, "files":[], "show":true}], "updatedAt":"2013-04-22T16:33:50.407405-07:00", "fixedAt":"2013-01-10T10:48:48.078307-08:00", "fixedBy":{"username":"mary", "name":"Mary Holstege", "email":"mary@cerisent.com"}, "shippedAt":"2013-03-15T00:23:33.645891-07:00", "shippedBy":{"username":"gpushkar", "name":"Gaurav Pushkarna", "email":"gaurav.pushkarna@marklogic.com"}, "closedAt":"2013-04-22T16:33:50.407405-07:00", "closedBy":{"username":"rpelton", "name":"Rick Pelton", "email":"rick.pelton@marklogic.com"}, "renderDescriptionAs":"normal", "renderSampleQueryAs":"normal"}