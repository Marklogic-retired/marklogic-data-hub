{"id":20886, "kind":"Bug", "createdAt":"2013-02-21T15:13:38.136127-08:00", "status":"Closed", "title":"Configuration Manager gives links to \"Database Settings\" page from Forests clicking which gives XDMP-NODB", "category":"Config Management", "severity":"Major", "priority":{"level":"5", "title":""}, "submittedBy":{"username":"msarma", "name":"Meghalim Sarma", "email":"msarma@marklogic.com"}, "assignTo":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}, "description":"For forests which are  attached to any user-created  DB (Documents for example), Configuration manager gives a link to \"Database Settings\" page which is wrong. Clicking the link as you would expect errors out and gives XDMP-NODB\r\n\r\nNo forests should have links to \"Database Setting\".\r\n\r\nSteps to re-create:\r\n1. Go to Configuration Manager and click on \"Forests\"\r\n2. Click on \"App-Services\" Forest and notice that it only has two links next to Configuration Settings - \"Edit\" and \"Management API\"\r\n3. Click on \"Documents\" Forest and notice that it  has three links next to Configuration Settings - \"Edit\" and \"Management API\" and \"Database Settings\".\r\n4. Click on \"Database Settings\" and you get a error page with \"XDMP-NODB\" error code\r\n", "samplequery":"", "sampledata":"", "version":"7.0-nightly", "tofixin":"7.0-ea1", "fixedin":"7.0-ea1", "platform":"all", "memory":"", "processors":"", "note":"", "subscribers":[{"username":"msarma", "name":"Meghalim Sarma", "email":"msarma@marklogic.com"}, {"username":"sbrooks", "name":"Scott Brooks", "email":"Scott.Brooks@marklogic.com"}, {"username":"gghai", "name":"Gaurav Ghai", "email":"Gaurav.ghai@marklogic.com"}], "attachments":[], "relationships":[{"type":"", "to":""}], "clones":[], "cloneOf":20885, "support":{"headline":"", "supportDescription":"", "publishStatus":"Not Ready", "tickets":[], "customerImpact":{"level":"N/A", "title":""}, "workaround":""}, "tags":["Config Management", "msarma"], "changeHistory":[{"time":"2013-02-21T15:13:38.136127-08:00", "updatedBy":{"username":"msarma", "name":"Meghalim Sarma", "email":"msarma@marklogic.com"}, "change":{"assignTo":{"from":{"username":"msarma", "name":"Meghalim Sarma", "email":"msarma@marklogic.com"}, "to":{"username":"sbrooks", "name":"Scott Brooks", "email":"Scott.Brooks@marklogic.com"}}}, "files":[], "show":true}, {"time":"2013-02-21T15:14:35.021139-08:00", "updatedBy":{"username":"msarma", "name":"Meghalim Sarma", "email":"msarma@marklogic.com"}, "change":{"tofixin":{"from":"", "to":"7.0-ea2"}}, "files":[], "show":true}, {"time":"2013-02-22T10:02:13.177003-08:00", "updatedBy":{"username":"gvaidees", "name":"Ganesh Vaideeswaran", "email":"Ganesh.Vaideeswaran@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"Scott, Hopefully this is easy to fix. If this cannot go into EA1, move it to EA2"}, {"time":"2013-02-22T10:02:13.177003-08:00", "updatedBy":{"username":"gvaidees", "name":"Ganesh Vaideeswaran", "email":"Ganesh.Vaideeswaran@marklogic.com"}, "change":{"tofixin":{"from":"7.0-ea2", "to":"7.0-ea1"}}, "files":[], "show":true}, {"time":"2013-02-22T11:08:21.578776-08:00", "updatedBy":{"username":"sbrooks", "name":"Scott Brooks", "email":"Scott.Brooks@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"It appears that the logic doesn't check to make sure that the resource is of type Database before displaying the Database settings icon & link.\r\n\r\nGood catch Megha.  This one was subtle.\r\n\r\nI'll send out a patch for approval."}, {"time":"2013-02-22T12:02:19.724589-08:00", "updatedBy":{"username":"sbrooks", "name":"Scott Brooks", "email":"Scott.Brooks@marklogic.com"}, "change":{}, "files":[], "show":true, "svn":{"repository":"/project/engsvn", "revision":"133098", "paths":["xdmp/trunk/src/Apps/nav/js/components/resource/resource.js"], "affectedBugs":[]}, "comment":"Bug:20886 - added check for type \"database\" in display of database settings link on resource details page "}, {"time":"2013-02-22T12:06:38.926644-08:00", "updatedBy":{"username":"sbrooks", "name":"Scott Brooks", "email":"Scott.Brooks@marklogic.com"}, "change":{}, "files":[], "show":true, "svn":{"repository":"/project/engsvn", "revision":"133099", "paths":["xdmp/branches/b7_0-ea1/src/Apps/nav/js/components/resource/resource.js"], "affectedBugs":[]}, "comment":"Bug:20886 - added check for type \"database\" in display of database settings link on resource details page "}, {"time":"2013-02-22T12:09:23.665202-08:00", "updatedBy":{"username":"sbrooks", "name":"Scott Brooks", "email":"Scott.Brooks@marklogic.com"}, "change":{"status":{"from":"", "to":"Test"}, "assignTo":{"from":{"username":"sbrooks", "name":"Scott Brooks", "email":"Scott.Brooks@marklogic.com"}, "to":{"username":"msarma", "name":"Meghalim Sarma", "email":"msarma@marklogic.com"}}}, "files":[], "show":true, "comment":"Patch approved by Christophe.  Committed on trunk & 7.0-ea1 branch.\r\n\r\nSending to test."}, {"time":"2013-02-22T12:09:23.665202-08:00", "updatedBy":{"username":"sbrooks", "name":"Scott Brooks", "email":"Scott.Brooks@marklogic.com"}, "change":{"assignTo":{"from":{"username":"sbrooks", "name":"Scott Brooks", "email":"Scott.Brooks@marklogic.com"}, "to":{"username":"msarma", "name":"Meghalim Sarma", "email":"msarma@marklogic.com"}}}, "files":[], "show":true}, {"time":"2013-02-25T10:43:05.752427-08:00", "updatedBy":{"username":"msarma", "name":"Meghalim Sarma", "email":"msarma@marklogic.com"}, "change":{"assignTo":{"from":{"username":"msarma", "name":"Meghalim Sarma", "email":"msarma@marklogic.com"}, "to":{"username":"gghai", "name":"Gaurav Ghai", "email":"Gaurav.ghai@marklogic.com"}}}, "files":[], "show":true}, {"time":"2013-03-01T10:06:42.773095-08:00", "updatedBy":{"username":"gghai", "name":"Gaurav Ghai", "email":"Gaurav.ghai@marklogic.com"}, "change":{"status":{"from":"", "to":"Ship"}, "assignTo":{"from":{"username":"gghai", "name":"Gaurav Ghai", "email":"Gaurav.ghai@marklogic.com"}, "to":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}}}, "files":[], "show":true, "comment":"Verified on 03/01 . Database Settings link not seen for the Forest details view in Configuration Manager . "}, {"time":"2013-03-01T10:06:42.773095-08:00", "updatedBy":{"username":"gghai", "name":"Gaurav Ghai", "email":"Gaurav.ghai@marklogic.com"}, "change":{"assignTo":{"from":{"username":"gghai", "name":"Gaurav Ghai", "email":"Gaurav.ghai@marklogic.com"}, "to":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}}}, "files":[], "show":true}], "updatedAt":"2013-03-01T10:06:42.773095-08:00", "fixedAt":"2013-02-22T12:09:23.665202-08:00", "fixedBy":{"username":"sbrooks", "name":"Scott Brooks", "email":"Scott.Brooks@marklogic.com"}, "shippedAt":"2013-03-01T10:06:42.773095-08:00", "shippedBy":{"username":"gghai", "name":"Gaurav Ghai", "email":"Gaurav.ghai@marklogic.com"}, "renderDescriptionAs":"normal"}