{"id":20486, "kind":"Bug", "createdAt":"2013-01-16T15:43:47.345406-08:00", "status":"Closed", "title":"Diff in reverse_query2.xml", "category":"xdmp", "severity":"Major", "priority":{"level":"5", "title":""}, "submittedBy":{"username":"msrinivasan", "name":"Mahalakshmi Srinivasan", "email":"mahalakshmi.srinivasan@marklogic.com"}, "assignTo":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}, "description":"MarkLogic 5.0-20130103\r\n\r\nQuery: \r\nxquery version \"1.0-ml\";\r\ndeclare boundary-space preserve;\r\nimport module namespace ridx=\"http://marklogic.com/rev-idx\" at \"rev-idx.xqy\";\r\n\r\nlet $docs := for $doc in (/test)\r\n             order by base-uri($doc) collation \"http://marklogic.com/collation//MO\"\r\n             return $doc\r\nfor $doc in $docs[1 to 10]\r\nreturn ridx:validate-reverse-query-results($doc, fn:false() )\r\n        \r\nExpected result: Empty sequence\r\nObserved result:\r\n\r\n<result count=\"1544\" doc=\"/docs/dir1/doc1.xml\" estimate=\"1544\" expected-count=\"1614\" expected-estimate=\"1614\"><m-f-a-q>Too many to display(70). Displaying first 10: n-q1-en-stemmed-case-insensitive-ordered-d0 n-q1-en-stemmed-case-insensitive-ordered-d1 n-q1-en-stemmed-case-insensitive-ordered-d2 n-q1-en-stemmed-case-insensitive-ordered-d3 n-q1-en-stemmed-case-insensitive-ordered-d4 n-q1-en-stemmed-case-insensitive-unordered-d0 n-q1-en-stemmed-case-insensitive-unordered-d1 n-q1-en-stemmed-case-insensitive-unordered-d2 n-q1-en-stemmed-case-insensitive-unordered-d3 n-q1-en-stemmed-case-insensitive-unordered-d4</m-f-a-q><m-f-a-u-q>Too many to display(70). Displaying first 10: n-q1-en-stemmed-case-insensitive-ordered-d0 n-q1-en-stemmed-case-insensitive-ordered-d1 n-q1-en-stemmed-case-insensitive-ordered-d2 n-q1-en-stemmed-case-insensitive-ordered-d3 n-q1-en-stemmed-case-insensitive-ordered-d4 n-q1-en-stemmed-case-insensitive-unordered-d0 n-q1-en-stemmed-case-insensitive-unordered-d1 n-q1-en-stemmed-case-insensitive-unordered-d2 n-q1-en-stemmed-case-insensitive-unordered-d3 n-q1-en-stemmed-case-insensitive-unordered-d4</m-f-a-u-q></result><result count=\"1500\" doc=\"/docs/dir1/doc2.xml\" estimate=\"1500\" expected-count=\"1570\" expected-estimate=\"1570\"><m-f-a-q>Too many to display(70). Displaying first 10: n-q1-en-stemmed-case-insensitive-ordered-d0 n-q1-en-stemmed-case-insensitive-ordered-d1 n-q1-en-stemmed-case-insensitive-ordered-d2 n-q1-en-stemmed-case-insensitive-ordered-d3 n-q1-en-stemmed-case-insensitive-ordered-d4 n-q1-en-stemmed-case-insensitive-unordered-d0 n-q1-en-stemmed-case-insensitive-unordered-d1 n-q1-en-stemmed-case-insensitive-unordered-d2 n-q1-en-stemmed-case-insensitive-unordered-d3 n-q1-en-stemmed-case-insensitive-unordered-d4</m-f-a-q><m-f-a-u-q>Too many to display(70). Displaying first 10: n-q1-en-stemmed-case-insensitive-ordered-d0 n-q1-en-stemmed-case-insensitive-ordered-d1 n-q1-en-stemmed-case-insensitive-ordered-d2 n-q1-en-stemmed-case-insensitive-ordered-d3 n-q1-en-stemmed-case-insensitive-ordered-d4 n-q1-en-stemmed-case-insensitive-unordered-d0 n-q1-en-stemmed-case-insensitive-unordered-d1 n-q1-en-stemmed-case-insensitive-unordered-d2 n-q1-en-stemmed-case-insensitive-unordered-d3 n-q1-en-stemmed-case-insensitive-unordered-d4</m-f-a-u-q></result><result count=\"828\" doc=\"/docs/dir1/doc3.xml\" estimate=\"828\" expected-count=\"868\" expected-estimate=\"868\"><m-f-a-q>Too many to display(40). Displaying first 10: n-q2-en-stemmed-diacritic-insensitive-ordered-d0 n-q2-en-stemmed-diacritic-insensitive-ordered-d1 n-q2-en-stemmed-diacritic-insensitive-ordered-d2 n-q2-en-stemmed-diacritic-insensitive-ordered-d3 n-q2-en-stemmed-diacritic-insensitive-ordered-d4 n-q2-en-stemmed-diacritic-insensitive-unordered-d0 n-q2-en-stemmed-diacritic-insensitive-unordered-d1 n-q2-en-stemmed-diacritic-insensitive-unordered-d2 n-q2-en-stemmed-diacritic-insensitive-unordered-d3 n-q2-en-stemmed-diacritic-insensitive-unordered-d4</m-f-a-q><m-f-a-u-q>Too many to display(40). Displaying first 10: n-q2-en-stemmed-diacritic-insensitive-ordered-d0 n-q2-en-stemmed-diacritic-insensitive-ordered-d1 n-q2-en-stemmed-diacritic-insensitive-ordered-d2 n-q2-en-stemmed-diacritic-insensitive-ordered-d3 n-q2-en-stemmed-diacritic-insensitive-ordered-d4 n-q2-en-stemmed-diacritic-insensitive-unordered-d0 n-q2-en-stemmed-diacritic-insensitive-unordered-d1 n-q2-en-stemmed-diacritic-insensitive-unordered-d2 n-q2-en-stemmed-diacritic-insensitive-unordered-d3 n-q2-en-stemmed-diacritic-insensitive-unordered-d4</m-f-a-u-q></result><result count=\"1308\" doc=\"/docs/dir1/doc4.xml\" estimate=\"1452\" expected-count=\"1548\" expected-estimate=\"1732\"><m-f-a-q>Too many to display(240). Displaying first 10: n-q2-en-stemmed-case-insensitive-ordered-d0 n-q2-en-stemmed-case-insensitive-ordered-d1 n-q2-en-stemmed-case-insensitive-ordered-d2 n-q2-en-stemmed-case-insensitive-ordered-d3 n-q2-en-stemmed-case-insensitive-ordered-d4 n-q2-en-stemmed-case-insensitive-unordered-d0 n-q2-en-stemmed-case-insensitive-unordered-d1 n-q2-en-stemmed-case-insensitive-unordered-d2 n-q2-en-stemmed-case-insensitive-unordered-d3 n-q2-en-stemmed-case-insensitive-unordered-d4</m-f-a-q><m-f-a-u-q>Too many to display(280). Displaying first 10: n-q2-en-stemmed-case-insensitive-ordered-d0 n-q2-en-stemmed-case-insensitive-ordered-d1 n-q2-en-stemmed-case-insensitive-ordered-d2 n-q2-en-stemmed-case-insensitive-ordered-d3 n-q2-en-stemmed-case-insensitive-ordered-d4 n-q2-en-stemmed-case-insensitive-unordered-d0 n-q2-en-stemmed-case-insensitive-unordered-d1 n-q2-en-stemmed-case-insensitive-unordered-d2 n-q2-en-stemmed-case-insensitive-unordered-d3 n-q2-en-stemmed-case-insensitive-unordered-d4</m-f-a-u-q></result><result count=\"1466\" doc=\"/docs/dir1/doc6.xml\" estimate=\"1816\" expected-count=\"1646\" expected-estimate=\"2198\"><m-f-a-q>Too many to display(180). Displaying first 10: e-wq-both-7 e-wq-both-7-case-insensitive e-wq-both-7-case-sensitive e-wq-both-7-diacritic-insensitive e-wq-both-7-diacritic-sensitive e-wq-both-7-en e-wq-both-7-en-case-insensitive e-wq-both-7-en-case-sensitive e-wq-both-7-en-diacritic-insensitive e-wq-both-7-en-diacritic-sensitive</m-f-a-q><m-f-a-u-q>Too many to display(382). Displaying first 10: e-wq-both-7 e-wq-both-7-case-insensitive e-wq-both-7-case-sensitive e-wq-both-7-diacritic-insensitive e-wq-both-7-diacritic-sensitive e-wq-both-7-en e-wq-both-7-en-case-insensitive e-wq-both-7-en-case-sensitive e-wq-both-7-en-diacritic-insensitive e-wq-both-7-en-diacritic-sensitive</m-f-a-u-q></result><result count=\"488\" doc=\"/docs/dir1/doc7.xml\" estimate=\"852\" expected-count=\"586\" expected-estimate=\"1182\"><m-f-a-q>Too many to display(98). Displaying first 10: e-wq-both-7-en-punctuation-insensitive e-wq-both-7-en-stemmed-punctuation-insensitive e-wq-both-7-en-unstemmed-punctuation-insensitive e-wq-both-7-foobar-unstemmed-punctuation-insensitive e-wq-both-7-fr-unstemmed-punctuation-insensitive e-wq-both-7-punctuation-insensitive e-wq-both-7-stemmed-punctuation-insensitive e-wq-both-7-unstemmed-punctuation-insensitive e-wq-both-8 e-wq-both-8-case-insensitive</m-f-a-q><m-f-a-u-q>Too many to display(330). Displaying first 10: e-wq-both-7 e-wq-both-7-case-insensitive e-wq-both-7-case-sensitive e-wq-both-7-diacritic-insensitive e-wq-both-7-diacritic-sensitive e-wq-both-7-en e-wq-both-7-en-case-insensitive e-wq-both-7-en-case-sensitive e-wq-both-7-en-diacritic-insensitive e-wq-both-7-en-diacritic-sensitive</m-f-a-u-q></result><result count=\"1260\" doc=\"/docs/dir1/doc8.xml\" estimate=\"1260\" expected-count=\"1488\" expected-estimate=\"1488\"><m-f-a-q>Too many to display(228). Displaying first 10: e-wq-both-18 e-wq-both-18-case-insensitive e-wq-both-18-case-sensitive e-wq-both-18-diacritic-insensitive e-wq-both-18-diacritic-sensitive e-wq-both-18-en e-wq-both-18-en-case-insensitive e-wq-both-18-en-case-sensitive e-wq-both-18-en-diacritic-insensitive e-wq-both-18-en-diacritic-sensitive</m-f-a-q><m-f-a-u-q>Too many to display(228). Displaying first 10: e-wq-both-18 e-wq-both-18-case-insensitive e-wq-both-18-case-sensitive e-wq-both-18-diacritic-insensitive e-wq-both-18-diacritic-sensitive e-wq-both-18-en e-wq-both-18-en-case-insensitive e-wq-both-18-en-case-sensitive e-wq-both-18-en-diacritic-insensitive e-wq-both-18-en-diacritic-sensitive</m-f-a-u-q></result><result count=\"1668\" doc=\"/docs/dir2/doc9.xml\" estimate=\"1668\" expected-count=\"1738\" expected-estimate=\"1738\"><m-f-a-q>Too many to display(70). Displaying first 10: n-q1-en-stemmed-case-insensitive-ordered-d0 n-q1-en-stemmed-case-insensitive-ordered-d1 n-q1-en-stemmed-case-insensitive-ordered-d2 n-q1-en-stemmed-case-insensitive-ordered-d3 n-q1-en-stemmed-case-insensitive-ordered-d4 n-q1-en-stemmed-case-insensitive-unordered-d0 n-q1-en-stemmed-case-insensitive-unordered-d1 n-q1-en-stemmed-case-insensitive-unordered-d2 n-q1-en-stemmed-case-insensitive-unordered-d3 n-q1-en-stemmed-case-insensitive-unordered-d4</m-f-a-q><m-f-a-u-q>Too many to display(70). Displaying first 10: n-q1-en-stemmed-case-insensitive-ordered-d0 n-q1-en-stemmed-case-insensitive-ordered-d1 n-q1-en-stemmed-case-insensitive-ordered-d2 n-q1-en-stemmed-case-insensitive-ordered-d3 n-q1-en-stemmed-case-insensitive-ordered-d4 n-q1-en-stemmed-case-insensitive-unordered-d0 n-q1-en-stemmed-case-insensitive-unordered-d1 n-q1-en-stemmed-case-insensitive-unordered-d2 n-q1-en-stemmed-case-insensitive-unordered-d3 n-q1-en-stemmed-case-insensitive-unordered-d4</m-f-a-u-q></result><result count=\"1624\" doc=\"/docs/dir2/doc10.xml\" estimate=\"1624\" expected-count=\"1694\" expected-estimate=\"1694\"><m-f-a-q>Too many to display(70). Displaying first 10: n-q1-en-stemmed-case-insensitive-ordered-d0 n-q1-en-stemmed-case-insensitive-ordered-d1 n-q1-en-stemmed-case-insensitive-ordered-d2 n-q1-en-stemmed-case-insensitive-ordered-d3 n-q1-en-stemmed-case-insensitive-ordered-d4 n-q1-en-stemmed-case-insensitive-unordered-d0 n-q1-en-stemmed-case-insensitive-unordered-d1 n-q1-en-stemmed-case-insensitive-unordered-d2 n-q1-en-stemmed-case-insensitive-unordered-d3 n-q1-en-stemmed-case-insensitive-unordered-d4</m-f-a-q><m-f-a-u-q>Too many to display(70). Displaying first 10: n-q1-en-stemmed-case-insensitive-ordered-d0 n-q1-en-stemmed-case-insensitive-ordered-d1 n-q1-en-stemmed-case-insensitive-ordered-d2 n-q1-en-stemmed-case-insensitive-ordered-d3 n-q1-en-stemmed-case-insensitive-ordered-d4 n-q1-en-stemmed-case-insensitive-unordered-d0 n-q1-en-stemmed-case-insensitive-unordered-d1 n-q1-en-stemmed-case-insensitive-unordered-d2 n-q1-en-stemmed-case-insensitive-unordered-d3 n-q1-en-stemmed-case-insensitive-unordered-d4</m-f-a-u-q></result>", "samplequery":"", "sampledata":"", "version":"7.0-nightly", "tofixin":"7.0-ea1", "fixedin":"7.0-ea1", "platform":"all", "memory":"", "processors":"", "note":"", "subscribers":[{"username":"msrinivasan", "name":"Mahalakshmi Srinivasan", "email":"mahalakshmi.srinivasan@marklogic.com"}, {"username":"wfeick", "name":"Wayne Feick", "email":"wfeick@marklogic.com"}], "attachments":[], "relationships":[{"type":"", "to":""}], "clones":[], "cloneOf":20484, "support":{"headline":"", "supportDescription":"", "publishStatus":"Not Ready", "tickets":[], "customerImpact":{"level":"N/A", "title":""}, "workaround":""}, "tags":["xdmp", "msrinivasan"], "changeHistory":[{"time":"2013-01-16T15:43:47.345406-08:00", "updatedBy":{"username":"msrinivasan", "name":"Mahalakshmi Srinivasan", "email":"mahalakshmi.srinivasan@marklogic.com"}, "change":{"assignTo":{"from":{"username":"msrinivasan", "name":"Mahalakshmi Srinivasan", "email":"mahalakshmi.srinivasan@marklogic.com"}, "to":{"username":"wfeick", "name":"Wayne Feick", "email":"wfeick@marklogic.com"}}}, "files":[], "show":true}, {"time":"2013-01-16T15:55:13.227281-08:00", "updatedBy":{"username":"msrinivasan", "name":"Mahalakshmi Srinivasan", "email":"mahalakshmi.srinivasan@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"This diff seems to have started earlier in 7.0 i.e., around 12/10/2012"}, {"time":"2013-01-16T15:55:34.67049-08:00", "updatedBy":{"username":"msrinivasan", "name":"Mahalakshmi Srinivasan", "email":"mahalakshmi.srinivasan@marklogic.com"}, "change":{"tofixin":{"from":"", "to":"7.0-ea1"}}, "files":[], "show":true}, {"time":"2013-01-30T22:37:40.030447-08:00", "updatedBy":{"username":"wfeick", "name":"Wayne Feick", "email":"wfeick@marklogic.com"}, "change":{}, "files":[], "show":true, "svn":{"repository":"/project/engsvn", "revision":"130089", "paths":["xdmp/trunk/src/InMemoryReverseIndex.cpp"], "affectedBugs":[]}, "comment":"bug:20486 remove incorrect assertion"}, {"time":"2013-02-20T14:51:11.356123-08:00", "updatedBy":{"username":"wfeick", "name":"Wayne Feick", "email":"wfeick@marklogic.com"}, "change":{"status":{"from":"", "to":"Test"}, "assignTo":{"from":{"username":"wfeick", "name":"Wayne Feick", "email":"wfeick@marklogic.com"}, "to":{"username":"msrinivasan", "name":"Mahalakshmi Srinivasan", "email":"mahalakshmi.srinivasan@marklogic.com"}}}, "files":[], "show":true, "comment":"Mary fixed this as 20662."}, {"time":"2013-02-20T14:51:11.356123-08:00", "updatedBy":{"username":"wfeick", "name":"Wayne Feick", "email":"wfeick@marklogic.com"}, "change":{"assignTo":{"from":{"username":"wfeick", "name":"Wayne Feick", "email":"wfeick@marklogic.com"}, "to":{"username":"msrinivasan", "name":"Mahalakshmi Srinivasan", "email":"mahalakshmi.srinivasan@marklogic.com"}}}, "files":[], "show":true}, {"time":"2013-02-20T14:59:37.722752-08:00", "updatedBy":{"username":"msrinivasan", "name":"Mahalakshmi Srinivasan", "email":"mahalakshmi.srinivasan@marklogic.com"}, "change":{"status":{"from":"", "to":"Ship"}, "assignTo":{"from":{"username":"msrinivasan", "name":"Mahalakshmi Srinivasan", "email":"mahalakshmi.srinivasan@marklogic.com"}, "to":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}}}, "files":[], "show":true, "comment":"Verified bug fix 20662. Hence moving this to 'ship' as well."}], "updatedAt":"2013-02-20T14:59:37.722752-08:00", "fixedAt":"2013-02-20T14:51:11.356123-08:00", "fixedBy":{"username":"wfeick", "name":"Wayne Feick", "email":"wfeick@marklogic.com"}, "shippedAt":"2013-02-20T14:59:37.722752-08:00", "shippedBy":{"username":"msrinivasan", "name":"Mahalakshmi Srinivasan", "email":"mahalakshmi.srinivasan@marklogic.com"}, "renderDescriptionAs":"normal"}