{"id":20962, "kind":"Bug", "createdAt":"2013-02-27T13:24:29.988419-08:00", "status":"Closed", "title":"Graphstore: invalid input causes 500 error", "category":"search", "severity":"Major", "priority":{"level":"5", "title":""}, "submittedBy":{"username":"mdubinko", "name":"Micah  Dubinko", "email":"mdubinko@marklogic.com"}, "assignTo":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}, "description":"As discussed on semantic-internals@ a malformed graph causes an ugly 500 error. This will require further discussion, but for EA1 we agreed to skip over malformed triples during ingest. Will revisit after.", "samplequery":"", "sampledata":"", "version":"7.0-nightly", "tofixin":"7.0-ea1", "fixedin":"7.0-ea1", "platform":"all", "memory":"", "processors":"", "note":"", "subscribers":[{"username":"mdubinko", "name":"Micah  Dubinko", "email":"mdubinko@marklogic.com"}, {"username":"lling", "name":"Ling Ling", "email":"ling.ling@marklogic.com"}], "attachments":[], "relationships":[{"type":"", "to":""}], "clones":[], "cloneOf":"", "support":{"headline":"", "supportDescription":"", "publishStatus":"Not Ready", "tickets":[], "customerImpact":{"level":"N/A", "title":""}, "workaround":""}, "tags":["search", "mdubinko"], "changeHistory":[{"time":"2013-02-27T13:24:29.988419-08:00", "updatedBy":{"username":"mdubinko", "name":"Micah  Dubinko", "email":"mdubinko@marklogic.com"}, "change":{"assignTo":{"from":{"username":"mdubinko", "name":"Micah  Dubinko", "email":"mdubinko@marklogic.com"}, "to":{"username":"mdubinko", "name":"Micah  Dubinko", "email":"mdubinko@marklogic.com"}}}, "files":[], "show":true}, {"time":"2013-02-27T13:24:59.353523-08:00", "updatedBy":{"username":"mdubinko", "name":"Micah  Dubinko", "email":"mdubinko@marklogic.com"}, "change":{}, "files":[], "show":true, "svn":{"repository":"/project/engsvn", "revision":"133932", "paths":["xdmp/branches/b7_0-ea1/src/Modules/MarkLogic/rest-api/models/semantics-model.xqy"], "affectedBugs":[]}, "comment":"bug:20962\n"}, {"time":"2013-02-27T13:26:34.3555-08:00", "updatedBy":{"username":"mdubinko", "name":"Micah  Dubinko", "email":"mdubinko@marklogic.com"}, "change":{"status":{"from":"", "to":"Test"}, "assignTo":{"from":{"username":"mdubinko", "name":"Micah  Dubinko", "email":"mdubinko@marklogic.com"}, "to":{"username":"lling", "name":"Ling Ling", "email":"ling.ling@marklogic.com"}}}, "files":[], "show":true, "comment":"Since this is EA1-specific, I am not landing it on the trunk--EA1 branch only.\r\n\r\nTo test, send a triple to the graphstore endpoint with a space in the URI, say,\r\n\r\n<http://subject> <http://predicate with space> \"Object\" .\r\n\r\n"}, {"time":"2013-02-27T13:26:34.3555-08:00", "updatedBy":{"username":"mdubinko", "name":"Micah  Dubinko", "email":"mdubinko@marklogic.com"}, "change":{"assignTo":{"from":{"username":"mdubinko", "name":"Micah  Dubinko", "email":"mdubinko@marklogic.com"}, "to":{"username":"lling", "name":"Ling Ling", "email":"ling.ling@marklogic.com"}}}, "files":[], "show":true}, {"time":"2013-03-14T16:33:30.748105-07:00", "updatedBy":{"username":"lling", "name":"Ling Ling", "email":"ling.ling@marklogic.com"}, "change":{}, "files":[], "show":true, "svn":{"repository":"/project/engsvn", "revision":"136741", "paths":["qa/trunk/scripts/list/semantics.txt", "qa/trunk/scripts/tests/bug20962.xml", "qa/trunk/scripts/keys/bug20962.xml"], "affectedBugs":[]}, "comment":"bug:20962"}, {"time":"2013-03-14T16:36:01.531946-07:00", "updatedBy":{"username":"lling", "name":"Ling Ling", "email":"ling.ling@marklogic.com"}, "change":{"status":{"from":"", "to":"Ship"}, "assignTo":{"from":{"username":"lling", "name":"Ling Ling", "email":"ling.ling@marklogic.com"}, "to":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}}}, "files":[], "show":true, "comment":"tested in ea1. Now it returns code 200 and no data is inserted. It is still using  \"graph\" instead of \"graphs\". The test will fail after the change."}, {"time":"2013-03-14T16:36:01.531946-07:00", "updatedBy":{"username":"lling", "name":"Ling Ling", "email":"ling.ling@marklogic.com"}, "change":{"assignTo":{"from":{"username":"lling", "name":"Ling Ling", "email":"ling.ling@marklogic.com"}, "to":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}}}, "files":[], "show":true}, {"time":"2013-05-02T17:06:14.722737-07:00", "updatedBy":{"username":"lling", "name":"Ling Ling", "email":"ling.ling@marklogic.com"}, "change":{}, "files":[], "show":true, "svn":{"repository":"/project/engsvn", "revision":"140771", "paths":["qa/trunk/scripts/tests/bug20962.xml", "qa/trunk/scripts/keys/bug20962.xml"], "affectedBugs":["21792"]}, "comment":"bug:20962 bug:21792"}], "updatedAt":"2013-05-02T17:06:14.722737-07:00", "fixedAt":"2013-02-27T13:26:34.3555-08:00", "fixedBy":{"username":"mdubinko", "name":"Micah  Dubinko", "email":"mdubinko@marklogic.com"}, "shippedAt":"2013-03-14T16:36:01.531946-07:00", "shippedBy":{"username":"lling", "name":"Ling Ling", "email":"ling.ling@marklogic.com"}, "renderDescriptionAs":"normal"}