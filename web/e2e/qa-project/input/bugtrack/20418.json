{"id":20418, "kind":"Bug", "createdAt":"2012-06-18T12:58:11.409469-07:00", "status":"Closed", "title":"array concatenation ( op + ) not implemeted", "category":"", "severity":"", "priority":{"level":"5", "title":""}, "submittedBy":{"username":"dlee", "name":"David  Lee", "email":"David.Lee@marklogic.com"}, "assignTo":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}, "description":"As per the functional specs, json:array should support array concatenation using operator +\r\nIt is not currently implemented.", "samplequery":"json:to-array( (1,2,3) ) + json:to-array( (3,4,5) )", "sampledata":"Expected Result:\r\n\r\n<json:array xmlns:json=\"http://marklogic.com/xdmp/json\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xs=\"http://www.w3.org/2001/XMLSchema\">\r\n    <json:value xsi:type=\"xs:integer\">1</json:value>\r\n    <json:value xsi:type=\"xs:integer\">2</json:value>\r\n    <json:value xsi:type=\"xs:integer\">3</json:value>\r\n    <json:value xsi:type=\"xs:string\">Four</json:value>\r\n    <json:value>\r\n      <five/>\r\n    </json:value>\r\n    <json:value xsi:type=\"xs:decimal\">6</json:value>\r\n  </json:array>\r\n\r\nActual Result\r\n\r\n\r\n[1.0-ml] XDMP-EXPR: (err:XPTY0004) json:array(<json:array xmlns:xs=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:json=\"http://marklogic.com/xdmp/json\"><json:value xsi:type=\"xs:integer\">1</json:value><json:value xsi:...</json:array>) + json:array(<json:array xmlns:xs=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:json=\"http://marklogic.com/xdmp/json\"><json:value xsi:type=\"xs:integer\">3</json:value><json:value xsi:...</json:array>) -- Invalid expression", "version":"7.0-nightly", "tofixin":"N/A", "fixedin":"N/A", "platform":"all", "memory":"", "processors":"", "note":"", "subscribers":[{"username":"dlee", "name":"David  Lee", "email":"David.Lee@marklogic.com"}, {"username":"rpolasani", "name":"Raghu Polasani", "email":"raghu.polasani@marklogic.com"}, {"username":"lling", "name":"Ling Ling", "email":"ling.ling@marklogic.com"}], "attachments":[], "relationships":[{"type":"", "to":""}], "clones":[], "cloneOf":17782, "support":{"headline":"", "supportDescription":"", "publishStatus":"Never Publish", "tickets":[], "customerImpact":{"level":"N/A", "title":""}, "workaround":""}, "tags":["", "dlee"], "changeHistory":[{"time":"2012-06-18T12:58:11.409469-07:00", "updatedBy":{"username":"dlee", "name":"David  Lee", "email":"David.Lee@marklogic.com"}, "change":{"assignTo":{"from":{"username":"dlee", "name":"David  Lee", "email":"David.Lee@marklogic.com"}, "to":{"username":"dlee", "name":"David  Lee", "email":"David.Lee@marklogic.com"}}}, "files":[], "show":true}, {"time":"2012-06-19T08:44:41.352373-07:00", "updatedBy":{"username":"dlee", "name":"David  Lee", "email":"David.Lee@marklogic.com"}, "change":{}, "files":[], "show":true, "svn":{"repository":"/project/engsvn", "revision":"107096", "paths":["xdmp/trunk/src/Extension.cpp", "xdmp/trunk/src/Extension.h"], "affectedBugs":[]}, "comment":"bug:17782 Implement array concatenation operator  (+) on json:array values\n"}, {"time":"2012-06-19T08:45:24.21412-07:00", "updatedBy":{"username":"dlee", "name":"David  Lee", "email":"David.Lee@marklogic.com"}, "change":{"status":{"from":"", "to":"Test"}, "assignTo":{"from":{"username":"dlee", "name":"David  Lee", "email":"David.Lee@marklogic.com"}, "to":{"username":"rpolasani", "name":"Raghu Polasani", "email":"raghu.polasani@marklogic.com"}}}, "files":[], "show":true, "comment":"Implemented array concatenation using operator +"}, {"time":"2012-06-19T08:45:24.21412-07:00", "updatedBy":{"username":"dlee", "name":"David  Lee", "email":"David.Lee@marklogic.com"}, "change":{"assignTo":{"from":{"username":"dlee", "name":"David  Lee", "email":"David.Lee@marklogic.com"}, "to":{"username":"rpolasani", "name":"Raghu Polasani", "email":"raghu.polasani@marklogic.com"}}}, "files":[], "show":true}, {"time":"2012-07-03T12:53:23.712773-07:00", "updatedBy":{"username":"rpolasani", "name":"Raghu Polasani", "email":"raghu.polasani@marklogic.com"}, "change":{"assignTo":{"from":{"username":"rpolasani", "name":"Raghu Polasani", "email":"raghu.polasani@marklogic.com"}, "to":{"username":"lling", "name":"Ling Ling", "email":"ling.ling@marklogic.com"}}}, "files":[], "show":true}, {"time":"2012-07-06T15:32:53.39905-07:00", "updatedBy":{"username":"lling", "name":"Ling Ling", "email":"ling.ling@marklogic.com"}, "change":{}, "files":[], "show":true, "svn":{"repository":"/project/engsvn", "revision":"108551", "paths":["qa/trunk/scripts/tests/bug17782.xml", "qa/trunk/scripts/list/json.txt", "qa/trunk/scripts/keys/bug17782.xml"], "affectedBugs":[]}, "comment":"bug:17782 add test for bug 17782"}, {"time":"2012-07-06T15:33:36.163286-07:00", "updatedBy":{"username":"lling", "name":"Ling Ling", "email":"ling.ling@marklogic.com"}, "change":{"status":{"from":"", "to":"Ship"}, "assignTo":{"from":{"username":"lling", "name":"Ling Ling", "email":"ling.ling@marklogic.com"}, "to":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}}}, "files":[], "show":true}, {"time":"2012-07-06T15:33:36.163286-07:00", "updatedBy":{"username":"lling", "name":"Ling Ling", "email":"ling.ling@marklogic.com"}, "change":{"assignTo":{"from":{"username":"lling", "name":"Ling Ling", "email":"ling.ling@marklogic.com"}, "to":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}}}, "files":[], "show":true}, {"time":"2013-01-09T15:26:09.167447-08:00", "updatedBy":{"username":"lling", "name":"Ling Ling", "email":"ling.ling@marklogic.com"}, "change":{"status":{"from":"", "to":"Fix"}, "assignTo":{"from":{"username":"lling", "name":"Ling Ling", "email":"ling.ling@marklogic.com"}, "to":{"username":"dlee", "name":"David  Lee", "email":"David.Lee@marklogic.com"}}}, "files":[], "show":true, "comment":"Test bug17782.xml failed. It returns \"Invalid expression\" now."}, {"time":"2013-01-09T15:26:09.167447-08:00", "updatedBy":{"username":"lling", "name":"Ling Ling", "email":"ling.ling@marklogic.com"}, "change":{"assignTo":{"from":{"username":"lling", "name":"Ling Ling", "email":"ling.ling@marklogic.com"}, "to":{"username":"dlee", "name":"David  Lee", "email":"David.Lee@marklogic.com"}}}, "files":[], "show":true}, {"time":"2013-01-11T06:14:59.419434-08:00", "updatedBy":{"username":"cjl", "name":"Christopher Lindblad", "email":"cjl@cerisent.com"}, "change":{}, "files":[], "show":true, "comment":"For new regressions I think you should create new bugs and not reopen old bugs."}, {"time":"2013-01-11T11:18:46.58517-08:00", "updatedBy":{"username":"lling", "name":"Ling Ling", "email":"ling.ling@marklogic.com"}, "change":{"status":{"from":"", "to":"Closed"}, "assignTo":{"from":{"username":"lling", "name":"Ling Ling", "email":"ling.ling@marklogic.com"}, "to":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}}}, "files":[], "show":true, "comment":"opened a new bug instead - Bug 20440 -  array concatenation ( op + ) failed in regression"}, {"time":"2013-01-11T11:18:46.58517-08:00", "updatedBy":{"username":"lling", "name":"Ling Ling", "email":"ling.ling@marklogic.com"}, "change":{"assignTo":{"from":{"username":"lling", "name":"Ling Ling", "email":"ling.ling@marklogic.com"}, "to":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}}}, "files":[], "show":true}], "updatedAt":"2013-01-11T11:18:46.58517-08:00", "fixedAt":"2012-06-19T08:45:24.21412-07:00", "fixedBy":{"username":"dlee", "name":"David  Lee", "email":"David.Lee@marklogic.com"}, "shippedAt":"2012-07-06T15:33:36.163286-07:00", "shippedBy":{"username":"lling", "name":"Ling Ling", "email":"ling.ling@marklogic.com"}, "closedAt":"2013-01-11T11:18:46.58517-08:00", "closedBy":{"username":"lling", "name":"Ling Ling", "email":"ling.ling@marklogic.com"}, "renderDescriptionAs":"normal", "renderSampleQueryAs":"normal", "renderSampleDataAs":"normal"}