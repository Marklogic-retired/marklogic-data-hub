{"id":20722, "kind":"Task", "createdAt":"2013-02-06T08:38:27.139827-08:00", "status":"Closed", "title":"Wildcarded value query with punctuation should add more positions", "category":"search", "severity":"Performance", "priority":{"level":"1", "title":"Required for product release"}, "days":null, "period":{"startDate":null, "endDate":null}, "submittedBy":{"username":"mary", "name":"Mary Holstege", "email":"mary@cerisent.com"}, "assignTo":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}, "description":"In a database with 3 character searches and positions enabled\r\n\r\nxdmp:plan(cts:search(doc(), cts:element-value-query(xs:QName(\"d\"), \"http://example.com/*\"))\r\n\r\nwill include simple term queries for the 3-character shingling of the value. None of these\r\nterms will have positions. This is because some of the terms cross punctuation boundaries\r\nand don't have a position and because value wildcards can span tokens. However, we\r\ncould do better. e.g.\r\n\r\n\"htt\" @0, \"ttp\" @0, \"tp:\", \"p:/\", \"://\", \"exa\" @1, \"xam\" @1, ... etc.\r\n\r\nOnce we hit a \"*\" we have to stop incrementing relative positions\r\nAnd we cannot give a position for a spanning term that crosses\r\nword tokens or has no word characters in it at all.\r\n", "samplequery":"", "sampledata":"", "version":"7.0-nightly", "tofixin":"8.0-1", "fixedin":"8.0-1", "platform":"all", "memory":"", "processors":"", "note":"", "subscribers":[{"username":"mary", "name":"Mary Holstege", "email":"mary@cerisent.com"}, {"username":"fxue", "name":"Fei Xue", "email":"Fei.Xue@marklogic.com"}, {"username":"rpolasani", "name":"Raghu Polasani", "email":"raghu.polasani@marklogic.com"}, {"username":"msrinivasan", "name":"Mahalakshmi Srinivasan", "email":"mahalakshmi.srinivasan@marklogic.com"}], "attachments":[], "parent":{"type":"Sub-task", "parentId":"20625", "taskOrRfe":"task"}, "includeInTaskList":false, "proceduralTasks":{"Requirements Task":[], "Functional Specification Task":[], "Test Specification Task":[], "Test Automation Task":[], "Documentation Task":[]}, "subTasks":[], "tags":["search", "mary"], "changeHistory":[{"time":"2013-02-06T08:38:27.139827-08:00", "updatedBy":{"username":"mary", "name":"Mary Holstege", "email":"mary@cerisent.com"}, "change":{"assignTo":{"from":{"username":"mary", "name":"Mary Holstege", "email":"mary@cerisent.com"}, "to":{"username":"mary", "name":"Mary Holstege", "email":"mary@cerisent.com"}}}, "files":[], "show":true}, {"time":"2013-03-05T11:25:52.478077-08:00", "updatedBy":{"username":"fxue", "name":"Fei Xue", "email":"Fei.Xue@marklogic.com"}, "change":{"assignTo":{"from":{"username":"fxue", "name":"Fei Xue", "email":"Fei.Xue@marklogic.com"}, "to":{"username":"fxue", "name":"Fei Xue", "email":"Fei.Xue@marklogic.com"}}}, "files":[], "show":true}, {"time":"2013-03-05T11:25:52.478077-08:00", "updatedBy":{"username":"fxue", "name":"Fei Xue", "email":"Fei.Xue@marklogic.com"}, "change":{"tofixin":{"from":"7.0-1", "to":"7.0-ea2"}}, "files":[], "show":true}, {"time":"2013-03-05T11:31:19.507344-08:00", "updatedBy":{"username":"fxue", "name":"Fei Xue", "email":"Fei.Xue@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"if white space or punctuation sensitive, then position should stop at ? and *, if both insensitive then could provide position for all three-characters. \r\nBut wonder how this should interact with custom tokenizer."}, {"time":"2013-03-06T00:02:12.722292-08:00", "updatedBy":{"username":"fxue", "name":"Fei Xue", "email":"Fei.Xue@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"If the query has the whitespace-sensitive option, then whitespace is treated as word characters. This can be useful for matching spaces in wildcarded value queries. You can use the whitespace-sensitive option in wildcarded word queries, too, although it might not make much sense, as it will match more than you might expect."}, {"time":"2013-03-06T13:05:26.014998-08:00", "updatedBy":{"username":"fxue", "name":"Fei Xue", "email":"Fei.Xue@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"Â consider the case of \"123?:coym*\" and 123:?coym\r\n\r\nit should have 123@0 and coym@1 as ? is followed by a punctual, so it will not affect position yet]\r\n\r\n\"123?coy:m\" will however only have 123@0 as ? could possibly affect the position \r\n\r\nSimilarly \"123? coy m\" and \"123 ?coy m\" contains 123@0 and coy@1 but \"123?coy m\" only has 123@0 as ? might be a space\r\n\r\nthus rule:\r\nin punctual/whitespace-sensitive matching, when a ? is preceded  followed by a punctual/whitespace and letter/number, it will not affect positioning, otherwise set wpos to UINT_MAX\r\n\r\n some test cases: \r\n\"http example*\"\r\n \"http:/www/e/xmaple*\"\r\n \"a:b:1ert/123s*\"\r\n \"abcs:*:bjdf\"\r\n \"abc * yue:/\" \r\n\"http?:coym*\" \"http:?coym*\" \"http:?:coym*\"\r\n\"http:?:a?:coym*\"\r\n \"http? coy m\" \"http ?coy m\" \"http ? coy m\" \"http?coy m\"\r\n"}, {"time":"2013-03-06T13:31:13.208454-08:00", "updatedBy":{"username":"fxue", "name":"Fei Xue", "email":"Fei.Xue@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"Also consider matching string starting with ?\r\nso ?abc :123 with get abc@0 and 123@1\r\nbut ?:abc :123 will get no positions at all\r\n\r\nthus rule 2, ? will not affect positioning only if it is followed by a letter/digit when appearing at pattern begining"}, {"time":"2013-03-06T13:53:06.011393-08:00", "updatedBy":{"username":"fxue", "name":"Fei Xue", "email":"Fei.Xue@marklogic.com"}, "change":{}, "files":[], "show":true, "svn":{"repository":"/project/engsvn", "revision":"135272", "paths":["xdmp/trunk/src/SearchBuiltins.cpp"], "affectedBugs":[]}, "comment":"Bug:20722 add positions for wc query with punctuation"}, {"time":"2013-03-06T13:54:53.052169-08:00", "updatedBy":{"username":"fxue", "name":"Fei Xue", "email":"Fei.Xue@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"The commit adds appropriate positions yet redundant KP seems to be added,  to be fixed. \r\nExample: \r\nxdmp:plan(cts:search(doc(), cts:element-value-query(xs:QName(\"d\"), \"?123? coy ?mxyz?,abcd*\")))//*:final-plan\r\n\r\nhas several redundancies in word-query"}, {"time":"2013-03-06T20:59:07.187646-08:00", "updatedBy":{"username":"fxue", "name":"Fei Xue", "email":"Fei.Xue@marklogic.com"}, "change":{}, "files":[], "show":true, "svn":{"repository":"/project/engsvn", "revision":"135368", "paths":["xdmp/trunk/src/SearchBuiltins.cpp"], "affectedBugs":[]}, "comment":"Bug:20722 additional fix"}, {"time":"2013-03-06T20:59:14.856414-08:00", "updatedBy":{"username":"fxue", "name":"Fei Xue", "email":"Fei.Xue@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"for a good test case:\r\n\r\nxdmp:plan(cts:search(doc(), cts:element-value-query(xs:QName(\"d\"), \"?123-dgf- .ccoy- ?mxyz?,abcd-? cde\")))//*:final-plan\r\nwe get\r\n\r\n<qry:final-plan xmlns:qry=\"http://marklogic.com/cts/query\">\r\n  <qry:and-query>\r\n    <qry:term-query weight=\"1\">\r\n      <qry:key>15923423685145744761</qry:key>\r\n      <qry:annotation>element(d,word(\"dgf\"))</qry:annotation>\r\n    </qry:term-query>\r\n    <qry:term-query weight=\"1\">\r\n      <qry:key>4465257660964628920</qry:key>\r\n      <qry:annotation>char(\"23-\")</qry:annotation>\r\n    </qry:term-query>\r\n    <qry:term-query weight=\"1\">\r\n      <qry:key>15508763511886825714</qry:key>\r\n      <qry:annotation>char(\"3-d\")</qry:annotation>\r\n    </qry:term-query>\r\n    <qry:term-query weight=\"1\">\r\n      <qry:key>4610742788787464748</qry:key>\r\n      <qry:annotation>char(\"-dg\")</qry:annotation>\r\n    </qry:term-query>\r\n    <qry:term-query weight=\"1\">\r\n      <qry:key>18364454302155554486</qry:key>\r\n      <qry:annotation>char(\"gf-\")</qry:annotation>\r\n    </qry:term-query>\r\n    <qry:term-query weight=\"1\">\r\n      <qry:key>14047755349644170804</qry:key>\r\n      <qry:annotation>element(d,word(\"ccoy\"))</qry:annotation>\r\n    </qry:term-query>\r\n    <qry:term-query weight=\"1\">\r\n      <qry:key>12003189477567820715</qry:key>\r\n      <qry:annotation>char(\",ab\")</qry:annotation>\r\n    </qry:term-query>\r\n    <qry:element-query>\r\n      <qry:key>1196668482845731684</qry:key>\r\n      <qry:annotation>element(d)</qry:annotation>\r\n      <qry:word-query weight=\"0\" min-occurs=\"1\" max-occurs=\"4294967295\">\r\n  <qry:KP pos=\"0\">\r\n    <qry:key>11860102470125255042</qry:key>\r\n    <qry:annotation>char(\"123\")</qry:annotation>\r\n  </qry:KP>\r\n  <qry:KP pos=\"1\">\r\n    <qry:key>3660296824295168285</qry:key>\r\n    <qry:annotation>char(\"dgf\")</qry:annotation>\r\n  </qry:KP>\r\n  <qry:KP pos=\"3\">\r\n    <qry:key>10903262320454270406</qry:key>\r\n    <qry:annotation>char(\"mxy\")</qry:annotation>\r\n  </qry:KP>\r\n  <qry:KP pos=\"3\">\r\n    <qry:key>3334955122070615183</qry:key>\r\n    <qry:annotation>char(\"xyz\")</qry:annotation>\r\n  </qry:KP>\r\n  <qry:KP pos=\"4\">\r\n    <qry:key>7395689056912931730</qry:key>\r\n    <qry:annotation>char(\"abc\")</qry:annotation>\r\n  </qry:KP>\r\n  <qry:KP pos=\"4\">\r\n    <qry:key>844248294310813</qry:key>\r\n    <qry:annotation>char(\"bcd\")</qry:annotation>\r\n  </qry:KP>\r\n      </qry:word-query>\r\n    </qry:element-query>\r\n  </qry:and-query>\r\n</qry:final-plan>\r\n\r\n"}, {"time":"2013-03-06T21:01:05.736189-08:00", "updatedBy":{"username":"fxue", "name":"Fei Xue", "email":"Fei.Xue@marklogic.com"}, "change":{"status":{"from":"", "to":"Test"}, "assignTo":{"from":{"username":"fxue", "name":"Fei Xue", "email":"Fei.Xue@marklogic.com"}, "to":{"username":"fxue", "name":"Fei Xue", "email":"Fei.Xue@marklogic.com"}}}, "files":[], "show":true, "comment":"As developer will do unit test, will put some relevant cases into harness."}, {"time":"2013-04-04T17:14:17.874481-07:00", "updatedBy":{"username":"fxue", "name":"Fei Xue", "email":"Fei.Xue@marklogic.com"}, "change":{}, "files":[], "show":true, "svn":{"repository":"/project/engsvn", "revision":"138692", "paths":["qa/trunk/scripts/keys/bug20722.xml", "qa/trunk/scripts/tests/bug20722.xml"], "affectedBugs":[]}, "comment":"Bug:20722 adding test case"}, {"time":"2013-04-04T17:14:55.069099-07:00", "updatedBy":{"username":"fxue", "name":"Fei Xue", "email":"Fei.Xue@marklogic.com"}, "change":{"assignTo":{"from":{"username":"fxue", "name":"Fei Xue", "email":"Fei.Xue@marklogic.com"}, "to":{"username":"rpolasani", "name":"Raghu Polasani", "email":"raghu.polasani@marklogic.com"}}}, "files":[], "show":true}, {"time":"2013-05-02T23:09:36.513051-07:00", "updatedBy":{"username":"fxue", "name":"Fei Xue", "email":"Fei.Xue@marklogic.com"}, "change":{}, "files":[], "show":true, "svn":{"repository":"/project/engsvn", "revision":"140778", "paths":["xdmp/trunk/src/SearchBuiltins.cpp"], "affectedBugs":["21801"]}, "comment":"Bug:21801 roll back change for Bug:20722"}, {"time":"2013-05-03T14:50:13.983827-07:00", "updatedBy":{"username":"rpolasani", "name":"Raghu Polasani", "email":"raghu.polasani@marklogic.com"}, "change":{"assignTo":{"from":{"username":"rpolasani", "name":"Raghu Polasani", "email":"raghu.polasani@marklogic.com"}, "to":{"username":"msrinivasan", "name":"Mahalakshmi Srinivasan", "email":"mahalakshmi.srinivasan@marklogic.com"}}}, "files":[], "show":true}, {"time":"2013-05-03T15:00:24.720108-07:00", "updatedBy":{"username":"fxue", "name":"Fei Xue", "email":"Fei.Xue@marklogic.com"}, "change":{"status":{"from":"", "to":"Fix"}, "assignTo":{"from":{"username":"fxue", "name":"Fei Xue", "email":"Fei.Xue@marklogic.com"}, "to":{"username":"fxue", "name":"Fei Xue", "email":"Fei.Xue@marklogic.com"}}}, "files":[], "show":true}, {"time":"2013-05-03T15:00:24.720108-07:00", "updatedBy":{"username":"fxue", "name":"Fei Xue", "email":"Fei.Xue@marklogic.com"}, "change":{"assignTo":{"from":{"username":"fxue", "name":"Fei Xue", "email":"Fei.Xue@marklogic.com"}, "to":{"username":"fxue", "name":"Fei Xue", "email":"Fei.Xue@marklogic.com"}}}, "files":[], "show":true}, {"time":"2013-05-06T14:28:19.204781-07:00", "updatedBy":{"username":"fxue", "name":"Fei Xue", "email":"Fei.Xue@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"pushing to ea3."}, {"time":"2013-05-06T14:28:19.204781-07:00", "updatedBy":{"username":"fxue", "name":"Fei Xue", "email":"Fei.Xue@marklogic.com"}, "change":{"tofixin":{"from":"7.0-ea2", "to":"7.0-ea3"}}, "files":[], "show":true}, {"time":"2013-05-20T09:12:31.485718-07:00", "updatedBy":{"username":"mary", "name":"Mary Holstege", "email":"mary@cerisent.com"}, "change":{}, "files":[], "show":true, "comment":"Low priority. "}, {"time":"2013-06-10T15:22:17.178979-07:00", "updatedBy":{"username":"rhu", "name":"Ron Hu", "email":"ron.hu@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"Hi Mary,\r\nSince it is low priority, can we push to 8.0-1?"}, {"time":"2013-06-10T15:22:17.178979-07:00", "updatedBy":{"username":"rhu", "name":"Ron Hu", "email":"ron.hu@marklogic.com"}, "change":{"tofixin":{"from":"7.0-ea3", "to":"7.0-1"}}, "files":[], "show":true}, {"time":"2013-06-24T07:48:51.35641-07:00", "updatedBy":{"username":"mary", "name":"Mary Holstege", "email":"mary@cerisent.com"}, "change":{"tofixin":{"from":"7.0-1", "to":"8.0-1"}}, "files":[], "show":true}, {"time":"2014-12-02T16:57:59.772493-08:00", "updatedBy":{"username":"fxue", "name":"Fei Xue", "email":"Fei.Xue@marklogic.com"}, "change":{}, "files":[], "show":true, "svn":{"repository":"/project/engsvn", "revision":"185123", "paths":["xdmp/trunk/src/SearchBuiltins.cpp"], "affectedBugs":[]}, "comment":"bug:20722"}, {"time":"2014-12-02T16:58:22.044895-08:00", "updatedBy":{"username":"fxue", "name":"Fei Xue", "email":"Fei.Xue@marklogic.com"}, "change":{"status":{"from":"Fix", "to":"Test"}, "assignTo":{"from":{"username":"fxue", "name":"Fei Xue", "email":"Fei.Xue@marklogic.com"}, "to":{"username":"msrinivasan", "name":"Mahalakshmi Srinivasan", "email":"mahalakshmi.srinivasan@marklogic.com"}}}, "files":[], "show":true, "comment":"fixed on 20141203"}, {"time":"2014-12-02T16:58:22.044895-08:00", "updatedBy":{"username":"fxue", "name":"Fei Xue", "email":"Fei.Xue@marklogic.com"}, "change":{"assignTo":{"from":{"username":"fxue", "name":"Fei Xue", "email":"Fei.Xue@marklogic.com"}, "to":{"username":"msrinivasan", "name":"Mahalakshmi Srinivasan", "email":"mahalakshmi.srinivasan@marklogic.com"}}}, "files":[], "show":true}, {"time":"2014-12-12T15:44:41.660231-08:00", "updatedBy":{"username":"msrinivasan", "name":"Mahalakshmi Srinivasan", "email":"mahalakshmi.srinivasan@marklogic.com"}, "change":{}, "files":[], "show":true, "svn":{"repository":"/project/engsvn", "revision":"185982", "paths":["qa/trunk/scripts/keys/bug20722.xml", "qa/trunk/scripts/tests/bug20722.xml"], "affectedBugs":[]}, "comment":"bug:20722 updated test and key with just the first case in the bugafter discussion with Fei"}, {"time":"2014-12-12T15:46:09.556656-08:00", "updatedBy":{"username":"msrinivasan", "name":"Mahalakshmi Srinivasan", "email":"mahalakshmi.srinivasan@marklogic.com"}, "change":{"status":{"from":null, "to":"Ship"}, "assignTo":{"from":{"username":"msrinivasan", "name":"Mahalakshmi Srinivasan", "email":"mahalakshmi.srinivasan@marklogic.com"}, "to":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}}}, "files":[], "show":true, "comment":"Verified on build 8.0-20141212. This is what I'm seeing while running the original query and I believe that is the expected result:\r\n\r\n<qry:query-plan xmlns:qry=\"http://marklogic.com/cts/query\">\r\n<qry:info-trace>\r\nxdmp:eval(\"xquery version &quot;1.0-ml&quot;;&#10;xdmp:plan(cts:search(doc(...\", (), <options xmlns=\"xdmp:eval\"><database>17836731685950863693</database><isolation>different-tr...</options>)\r\n</qry:info-trace>\r\n<qry:info-trace>\r\nAnalyzing path for search: fn:doc()\r\n</qry:info-trace>\r\n<qry:info-trace>\r\nStep 1 is searchable: fn:doc()\r\n</qry:info-trace>\r\n<qry:info-trace>\r\nPath is fully searchable.\r\n</qry:info-trace>\r\n<qry:info-trace>\r\nGathering constraints.\r\n</qry:info-trace>\r\n<qry:elem-word-pair-trace text=\"http example\" elem-name=\"d\" elem-uri=\"\">\r\n<qry:key>\r\n14014725005089878652\r\n</qry:key>\r\n</qry:elem-word-pair-trace>\r\n<qry:word-trace text=\"htt\">\r\n<qry:key>\r\n2287028485663114911\r\n</qry:key>\r\n</qry:word-trace>\r\n<qry:word-trace text=\"htt\">\r\n<qry:key>\r\n1041841186550718780\r\n</qry:key>\r\n</qry:word-trace>\r\n<qry:word-trace text=\"ttp\">\r\n<qry:key>\r\n14466391222606697500\r\n</qry:key>\r\n</qry:word-trace>\r\n<qry:word-trace text=\"tp:\">\r\n<qry:key>\r\n14461594979368419110\r\n</qry:key>\r\n</qry:word-trace>\r\n<qry:word-trace text=\"p:/\">\r\n<qry:key>\r\n7087533077668102091\r\n</qry:key>\r\n</qry:word-trace>\r\n<qry:word-trace text=\"://\">\r\n<qry:key>\r\n632342695508454402\r\n</qry:key>\r\n</qry:word-trace>\r\n<qry:word-trace text=\"//e\">\r\n<qry:key>\r\n8201848957914995795\r\n</qry:key>\r\n</qry:word-trace>\r\n<qry:word-trace text=\"/ex\">\r\n<qry:key>\r\n8266598186656940410\r\n</qry:key>\r\n</qry:word-trace>\r\n<qry:word-trace text=\"exa\">\r\n<qry:key>\r\n14731381045149904614\r\n</qry:key>\r\n</qry:word-trace>\r\n<qry:word-trace text=\"xam\">\r\n<qry:key>\r\n3306177686721461808\r\n</qry:key>\r\n</qry:word-trace>\r\n<qry:word-trace text=\"amp\">\r\n<qry:key>\r\n7408878715326525120\r\n</qry:key>\r\n</qry:word-trace>\r\n<qry:word-trace text=\"mpl\">\r\n<qry:key>\r\n10893669841333498551\r\n</qry:key>\r\n</qry:word-trace>\r\n<qry:word-trace text=\"ple\">\r\n<qry:key>\r\n7147486070062977351\r\n</qry:key>\r\n</qry:word-trace>\r\n<qry:word-trace text=\"le.\">\r\n<qry:key>\r\n18276524047586192803\r\n</qry:key>\r\n</qry:word-trace>\r\n<qry:word-trace text=\"e.c\">\r\n<qry:key>\r\n14642650622748498714\r\n</qry:key>\r\n</qry:word-trace>\r\n<qry:word-trace text=\".co\">\r\n<qry:key>\r\n15660243934891852962\r\n</qry:key>\r\n</qry:word-trace>\r\n<qry:info-trace>\r\nSearch query contributed 11 constraints: cts:element-value-query(fn:QName(\"\",\"d\"), \"http://example.co?m/\", (\"lang=en\"), 1)\r\n</qry:info-trace>\r\n<qry:partial-plan>\r\n<qry:term-query weight=\"1\">\r\n<qry:key>\r\n14014725005089878652\r\n</qry:key>\r\n<qry:annotation>\r\nelement(d),pair(word(\"http\"),word(\"example\"))\r\n</qry:annotation>\r\n</qry:term-query>\r\n</qry:partial-plan>\r\n<qry:partial-plan>\r\n<qry:term-query weight=\"1\">\r\n<qry:key>\r\n2287028485663114911\r\n</qry:key>\r\n<qry:annotation>\r\nvalue-begin(char(\"htt\"))\r\n</qry:annotation>\r\n</qry:term-query>\r\n</qry:partial-plan>\r\n<qry:partial-plan>\r\n<qry:term-query weight=\"1\">\r\n<qry:key>\r\n14461594979368419110\r\n</qry:key>\r\n<qry:annotation>\r\nchar(\"tp:\")\r\n</qry:annotation>\r\n</qry:term-query>\r\n</qry:partial-plan>\r\n<qry:partial-plan>\r\n<qry:term-query weight=\"1\">\r\n<qry:key>\r\n7087533077668102091\r\n</qry:key>\r\n<qry:annotation>\r\nchar(\"p:/\")\r\n</qry:annotation>\r\n</qry:term-query>\r\n</qry:partial-plan>\r\n<qry:partial-plan>\r\n<qry:term-query weight=\"1\">\r\n<qry:key>\r\n632342695508454402\r\n</qry:key>\r\n<qry:annotation>\r\nchar(\"://\")\r\n</qry:annotation>\r\n</qry:term-query>\r\n</qry:partial-plan>\r\n<qry:partial-plan>\r\n<qry:term-query weight=\"1\">\r\n<qry:key>\r\n8201848957914995795\r\n</qry:key>\r\n<qry:annotation>\r\nchar(\"//e\")\r\n</qry:annotation>\r\n</qry:term-query>\r\n</qry:partial-plan>\r\n<qry:partial-plan>\r\n<qry:term-query weight=\"1\">\r\n<qry:key>\r\n8266598186656940410\r\n</qry:key>\r\n<qry:annotation>\r\nchar(\"/ex\")\r\n</qry:annotation>\r\n</qry:term-query>\r\n</qry:partial-plan>\r\n<qry:partial-plan>\r\n<qry:term-query weight=\"1\">\r\n<qry:key>\r\n18276524047586192803\r\n</qry:key>\r\n<qry:annotation>\r\nchar(\"le.\")\r\n</qry:annotation>\r\n</qry:term-query>\r\n</qry:partial-plan>\r\n<qry:partial-plan>\r\n<qry:term-query weight=\"1\">\r\n<qry:key>\r\n14642650622748498714\r\n</qry:key>\r\n<qry:annotation>\r\nchar(\"e.c\")\r\n</qry:annotation>\r\n</qry:term-query>\r\n</qry:partial-plan>\r\n<qry:partial-plan>\r\n<qry:term-query weight=\"1\">\r\n<qry:key>\r\n15660243934891852962\r\n</qry:key>\r\n<qry:annotation>\r\nchar(\".co\")\r\n</qry:annotation>\r\n</qry:term-query>\r\n</qry:partial-plan>\r\n<qry:partial-plan>\r\n<qry:word-query weight=\"1\" min-occurs=\"1\" max-occurs=\"4294967295\">\r\n<qry:KP pos=\"0\">\r\n<qry:key>\r\n1041841186550718780\r\n</qry:key>\r\n<qry:annotation>\r\nword-begin(char(\"htt\"))\r\n</qry:annotation>\r\n</qry:KP>\r\n<qry:KP pos=\"0\">\r\n<qry:key>\r\n14466391222606697500\r\n</qry:key>\r\n<qry:annotation>\r\nchar(\"ttp\")\r\n</qry:annotation>\r\n</qry:KP>\r\n<qry:KP pos=\"1\">\r\n<qry:key>\r\n14731381045149904614\r\n</qry:key>\r\n<qry:annotation>\r\nchar(\"exa\")\r\n</qry:annotation>\r\n</qry:KP>\r\n<qry:KP pos=\"1\">\r\n<qry:key>\r\n3306177686721461808\r\n</qry:key>\r\n<qry:annotation>\r\nchar(\"xam\")\r\n</qry:annotation>\r\n</qry:KP>\r\n<qry:KP pos=\"1\">\r\n<qry:key>\r\n7408878715326525120\r\n</qry:key>\r\n<qry:annotation>\r\nchar(\"amp\")\r\n</qry:annotation>\r\n</qry:KP>\r\n<qry:KP pos=\"1\">\r\n<qry:key>\r\n10893669841333498551\r\n</qry:key>\r\n<qry:annotation>\r\nchar(\"mpl\")\r\n</qry:annotation>\r\n</qry:KP>\r\n<qry:KP pos=\"1\">\r\n<qry:key>\r\n7147486070062977351\r\n</qry:key>\r\n<qry:annotation>\r\nchar(\"ple\")\r\n</qry:annotation>\r\n</qry:KP>\r\n</qry:word-query>\r\n</qry:partial-plan>\r\n<qry:info-trace>\r\nExecuting search.\r\n</qry:info-trace>\r\n<qry:ordering>\r\n</qry:ordering>\r\n<qry:final-plan>\r\n<qry:and-query>\r\n<qry:term-query weight=\"1\">\r\n<qry:key>\r\n14014725005089878652\r\n</qry:key>\r\n<qry:annotation>\r\nelement(d),pair(word(\"http\"),word(\"example\"))\r\n</qry:annotation>\r\n</qry:term-query>\r\n<qry:term-query weight=\"1\">\r\n<qry:key>\r\n2287028485663114911\r\n</qry:key>\r\n<qry:annotation>\r\nvalue-begin(char(\"htt\"))\r\n</qry:annotation>\r\n</qry:term-query>\r\n<qry:term-query weight=\"1\">\r\n<qry:key>\r\n14461594979368419110\r\n</qry:key>\r\n<qry:annotation>\r\nchar(\"tp:\")\r\n</qry:annotation>\r\n</qry:term-query>\r\n<qry:term-query weight=\"1\">\r\n<qry:key>\r\n7087533077668102091\r\n</qry:key>\r\n<qry:annotation>\r\nchar(\"p:/\")\r\n</qry:annotation>\r\n</qry:term-query>\r\n<qry:term-query weight=\"1\">\r\n<qry:key>\r\n632342695508454402\r\n</qry:key>\r\n<qry:annotation>\r\nchar(\"://\")\r\n</qry:annotation>\r\n</qry:term-query>\r\n<qry:term-query weight=\"1\">\r\n<qry:key>\r\n8201848957914995795\r\n</qry:key>\r\n<qry:annotation>\r\nchar(\"//e\")\r\n</qry:annotation>\r\n</qry:term-query>\r\n<qry:term-query weight=\"1\">\r\n<qry:key>\r\n8266598186656940410\r\n</qry:key>\r\n<qry:annotation>\r\nchar(\"/ex\")\r\n</qry:annotation>\r\n</qry:term-query>\r\n<qry:term-query weight=\"1\">\r\n<qry:key>\r\n18276524047586192803\r\n</qry:key>\r\n<qry:annotation>\r\nchar(\"le.\")\r\n</qry:annotation>\r\n</qry:term-query>\r\n<qry:term-query weight=\"1\">\r\n<qry:key>\r\n14642650622748498714\r\n</qry:key>\r\n<qry:annotation>\r\nchar(\"e.c\")\r\n</qry:annotation>\r\n</qry:term-query>\r\n<qry:term-query weight=\"1\">\r\n<qry:key>\r\n15660243934891852962\r\n</qry:key>\r\n<qry:annotation>\r\nchar(\".co\")\r\n</qry:annotation>\r\n</qry:term-query>\r\n<qry:word-query weight=\"1\" min-occurs=\"1\" max-occurs=\"4294967295\">\r\n<qry:KP pos=\"0\">\r\n<qry:key>\r\n1041841186550718780\r\n</qry:key>\r\n<qry:annotation>\r\nword-begin(char(\"htt\"))\r\n</qry:annotation>\r\n</qry:KP>\r\n<qry:KP pos=\"0\">\r\n<qry:key>\r\n14466391222606697500\r\n</qry:key>\r\n<qry:annotation>\r\nchar(\"ttp\")\r\n</qry:annotation>\r\n</qry:KP>\r\n<qry:KP pos=\"1\">\r\n<qry:key>\r\n14731381045149904614\r\n</qry:key>\r\n<qry:annotation>\r\nchar(\"exa\")\r\n</qry:annotation>\r\n</qry:KP>\r\n<qry:KP pos=\"1\">\r\n<qry:key>\r\n3306177686721461808\r\n</qry:key>\r\n<qry:annotation>\r\nchar(\"xam\")\r\n</qry:annotation>\r\n</qry:KP>\r\n<qry:KP pos=\"1\">\r\n<qry:key>\r\n7408878715326525120\r\n</qry:key>\r\n<qry:annotation>\r\nchar(\"amp\")\r\n</qry:annotation>\r\n</qry:KP>\r\n<qry:KP pos=\"1\">\r\n<qry:key>\r\n10893669841333498551\r\n</qry:key>\r\n<qry:annotation>\r\nchar(\"mpl\")\r\n</qry:annotation>\r\n</qry:KP>\r\n<qry:KP pos=\"1\">\r\n<qry:key>\r\n7147486070062977351\r\n</qry:key>\r\n<qry:annotation>\r\nchar(\"ple\")\r\n</qry:annotation>\r\n</qry:KP>\r\n</qry:word-query>\r\n</qry:and-query>\r\n</qry:final-plan>\r\n<qry:info-trace>\r\nSelected 0 fragments to filter\r\n</qry:info-trace>\r\n<qry:result estimate=\"0\">\r\n</qry:result>\r\n</qry:query-plan>"}, {"time":"2016-01-11T21:18:17.548128-08:00", "updatedBy":{"username":"builder", "email":"builder@marklogic.com", "name":"MarkLogic Builder"}, "change":{}, "files":[], "svn":{"repository":"/project/engsvn", "revision":"216829", "paths":["qa/trunk/scripts/tests/bug20722.xml"], "affectedBugs":[]}, "comment":"bug:20722 Updated to set word searches to 'off' and stemmed-searched to basic", "show":true}], "updatedAt":"2014-12-12T15:46:09.556656-08:00", "fixedAt":"2014-12-02T16:58:22.044895-08:00", "fixedBy":{"username":"fxue", "name":"Fei Xue", "email":"Fei.Xue@marklogic.com"}, "shippedAt":"2014-12-12T15:46:09.556656-08:00", "shippedBy":{"username":"msrinivasan", "name":"Mahalakshmi Srinivasan", "email":"mahalakshmi.srinivasan@marklogic.com"}}