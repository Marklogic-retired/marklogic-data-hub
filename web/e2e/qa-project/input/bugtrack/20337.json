{"id":20337, "kind":"Bug", "createdAt":"2012-12-27T02:35:17.141298-08:00", "status":"Closed", "title":"7.0 utils unit-test failure", "category":"xdmp", "severity":"Minor", "priority":{"level":"5", "title":""}, "submittedBy":{"username":"ayuwono", "name":"Aries Yuwono", "email":"ayuwono@marklogic.com"}, "assignTo":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}, "description":"Build: 7.0-20121226\r\n\r\n<h:result-text><results notice=\"empty if all tests ran successfully\"><report group=\"utils\"><setup/><tests><error:code xmlns:error=\"http://marklogic.com/xdmp/error\">XDMP-IMPMODNS</error:code><error:name xmlns:error=\"http://marklogic.com/xdmp/error\">err:XQST0059</error:name><error:xquery-version xmlns:error=\"http://marklogic.com/xdmp/error\">1.0-ml</error:xquery-version><error:message xmlns:error=\"http://marklogic.com/xdmp/error\">Import module namespace mismatch</error:message><error:format-string xmlns:error=\"http://marklogic.com/xdmp/error\">XDMP-IMPMODNS: (err:XQST0059) Import module namespace http://marklogic.com/appservices/utils-unittest/rest-test.xqy does not match target namespace http://marklogic.com/test/appservices/rest-test of imported module /test/appservices/utils-unittest/rest-test.xqy</error:format-string><error:retryable xmlns:error=\"http://marklogic.com/xdmp/error\">false</error:retryable><error:expr xmlns:error=\"http://marklogic.com/xdmp/error\"> </error:expr><error:data xmlns:error=\"http://marklogic.com/xdmp/error\">\r\n\t<error:datum>http://marklogic.com/appservices/utils-unittest/rest-test.xqy</error:datum>\r\n\t<error:datum>http://marklogic.com/test/appservices/rest-test</error:datum>\r\n\t<error:datum>/test/appservices/utils-unittest/rest-test.xqy</error:datum>\r\n      </error:data><error:stack xmlns:error=\"http://marklogic.com/xdmp/error\">\r\n\t<error:frame>\r\n\t  <error:line>1</error:line>\r\n\t  <error:column>25</error:column>\r\n\t  <error:operation>xdmp:eval(\"xquery version &quot;1.0-ml&quot;; import module namespace unit ...\", (), <options xmlns=\"xdmp:eval\"><database>11234239460982641867</database><isolation>different-tr...</options>)</error:operation>\r\n\t  <error:xquery-version>1.0-ml</error:xquery-version>\r\n\t</error:frame>\r\n\t<error:frame>\r\n\t  <error:uri>/test/appservices/driver-utils.xqy</error:uri>\r\n\t  <error:line>265</error:line>\r\n\t  <error:column>16</error:column>\r\n\t  <error:operation>util:runGroupTests((<test root=\"/\" group=\"utils\" ns=\"http://marklogic.com/appservices/utils-unittest/json\" module=\"/test/appservices/utils-unittest/json-unittest.xqy\"/>, <test root=\"/\" group=\"utils\" ns=\"http://marklogic.com/appservices/utils-unittest/higher-order\" module=\"/test/appservices/utils-unittest/higher-order-unittest.xqy\"/>, <test root=\"/\" group=\"utils\" ns=\"http://marklogic.com/appservices/utils-unittest/validate\" module=\"/test/appservices/utils-unittest/validate-unittest.xqy\"/>, ...), xs:unsignedLong(\"11234239460982641867\"))</error:operation>\r\n\t  <error:variables>\r\n\t    <error:variable>\r\n\t      <error:name xmlns=\"http://marklogic.com/appservices/test/util\">tests</error:name>\r\n\t      <error:value>(<test root=\"/\" group=\"utils\" ns=\"http://marklogic.com/appservices/utils-unittest/json\" module=\"/test/appservices/utils-unittest/json-unittest.xqy\"/>, <test root=\"/\" group=\"utils\" ns=\"http://marklogic.com/appservices/utils-unittest/higher-order\" module=\"/test/appservices/utils-unittest/higher-order-unittest.xqy\"/>, <test root=\"/\" group=\"utils\" ns=\"http://marklogic.com/appservices/utils-unittest/validate\" module=\"/test/appservices/utils-unittest/validate-unittest.xqy\"/>, ...)</error:value>\r\n\t    </error:variable>\r\n\t    <error:variable>\r\n\t      <error:name xmlns=\"http://marklogic.com/appservices/test/util\">db-id</error:name>\r\n\t      <error:value>xs:unsignedLong(\"11234239460982641867\")</error:value>\r\n\t    </error:variable>\r\n\t    <error:variable>\r\n\t      <error:name xmlns=\"http://marklogic.com/appservices/test/util\">test</error:name>\r\n\t      <error:value><test root=\"/\" group=\"utils\" ns=\"http://marklogic.com/appservices/utils-unittest/rest-test.xqy\" module=\"/test/appservices/utils-unittest/rest-test.xqy\"/></error:value>\r\n\t    </error:variable>\r\n\t  </error:variables>\r\n\t  <error:xquery-version>1.0-ml</error:xquery-version>\r\n\t</error:frame>\r\n\t<error:frame>\r\n\t  <error:uri>/test/appservices/qa-unit-driver.xqy</error:uri>\r\n\t  <error:line>32</error:line>\r\n\t  <error:column>39</error:column>\r\n\t  <error:operation>xdmp:invoke(\"test/appservices/qa-unit-driver.xqy\", (fn:QName(\"\", \"group\"), \"utils\"))</error:operation>\r\n\t  <error:variables>\r\n\t    <error:variable>\r\n\t      <error:name>db-id</error:name>\r\n\t      <error:value>xs:unsignedLong(\"0\")</error:value>\r\n\t    </error:variable>\r\n\t    <error:variable>\r\n\t      <error:name>setup</error:name>\r\n\t      <error:value>()</error:value>\r\n\t    </error:variable>\r\n\t    <error:variable>\r\n\t      <error:name>setup</error:name>\r\n\t      <error:value>()</error:value>\r\n\t    </error:variable>\r\n\t    <error:variable>\r\n\t      <error:name>db-id</error:name>\r\n\t      <error:value>xs:unsignedLong(\"0\")</error:value>\r\n\t    </error:variable>\r\n\t    <error:variable>\r\n\t      <error:name>load</error:name>\r\n\t      <error:value>()</error:value>\r\n\t    </error:variable>\r\n\t  </error:variables>\r\n\t  <error:xquery-version>1.0-ml</error:xquery-version>\r\n\t</error:frame>\r\n\t<error:frame>\r\n\t  <error:line>5</error:line>\r\n\t  <error:column>5</error:column>\r\n\t  <error:xquery-version>1.0-ml</error:xquery-version>\r\n\t</error:frame>\r\n      </error:stack></tests><teardown/></report></results></h:result-text>", "samplequery":"", "sampledata":"", "version":"7.0-nightly", "tofixin":"7.0-ea1", "fixedin":"7.0-ea1", "platform":"all", "memory":"", "processors":"", "note":"", "subscribers":[{"username":"ayuwono", "name":"Aries Yuwono", "email":"ayuwono@marklogic.com"}, {"username":"cgreer", "name":"Charles Greer", "email":"charles.greer@marklogic.com"}], "attachments":[], "relationships":[{"type":"", "to":""}], "clones":[], "cloneOf":"", "support":{"headline":"", "supportDescription":"", "publishStatus":"Never Publish", "tickets":[], "customerImpact":{"level":"N/A", "title":""}, "workaround":""}, "tags":["xdmp", "ayuwono"], "changeHistory":[{"time":"2012-12-27T02:35:17.141298-08:00", "updatedBy":{"username":"ayuwono", "name":"Aries Yuwono", "email":"ayuwono@marklogic.com"}, "change":{"assignTo":{"from":{"username":"ayuwono", "name":"Aries Yuwono", "email":"ayuwono@marklogic.com"}, "to":{"username":"cgreer", "name":"Charles Greer", "email":"charles.greer@marklogic.com"}}}, "files":[], "show":true}, {"time":"2013-01-30T16:19:25.597592-08:00", "updatedBy":{"username":"cgreer", "name":"Charles Greer", "email":"charles.greer@marklogic.com"}, "change":{"status":{"from":"", "to":"Test"}, "assignTo":{"from":{"username":"cgreer", "name":"Charles Greer", "email":"charles.greer@marklogic.com"}, "to":{"username":"ayuwono", "name":"Aries Yuwono", "email":"ayuwono@marklogic.com"}}}, "files":[], "show":true, "comment":"Hi Aries, just checked this, it's running clean for me.  Is it still broken?  Let's chat if so."}, {"time":"2013-01-30T16:19:25.597592-08:00", "updatedBy":{"username":"cgreer", "name":"Charles Greer", "email":"charles.greer@marklogic.com"}, "change":{"assignTo":{"from":{"username":"cgreer", "name":"Charles Greer", "email":"charles.greer@marklogic.com"}, "to":{"username":"ayuwono", "name":"Aries Yuwono", "email":"ayuwono@marklogic.com"}}}, "files":[], "show":true}, {"time":"2013-02-26T16:04:00.05102-08:00", "updatedBy":{"username":"ayuwono", "name":"Aries Yuwono", "email":"ayuwono@marklogic.com"}, "change":{"status":{"from":"", "to":"Ship"}, "assignTo":{"from":{"username":"ayuwono", "name":"Aries Yuwono", "email":"ayuwono@marklogic.com"}, "to":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}}}, "files":[], "show":true, "comment":"Verified passed on regression"}, {"time":"2013-02-26T16:04:00.05102-08:00", "updatedBy":{"username":"ayuwono", "name":"Aries Yuwono", "email":"ayuwono@marklogic.com"}, "change":{"assignTo":{"from":{"username":"ayuwono", "name":"Aries Yuwono", "email":"ayuwono@marklogic.com"}, "to":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}}}, "files":[], "show":true}], "updatedAt":"2013-02-26T16:04:00.05102-08:00", "fixedAt":"2013-01-30T16:19:25.597592-08:00", "fixedBy":{"username":"cgreer", "name":"Charles Greer", "email":"charles.greer@marklogic.com"}, "shippedAt":"2013-02-26T16:04:00.05102-08:00", "shippedBy":{"username":"ayuwono", "name":"Aries Yuwono", "email":"ayuwono@marklogic.com"}, "renderDescriptionAs":"normal"}