{"id":20273, "kind":"Bug", "createdAt":"2012-12-13T07:38:01.384708-08:00", "status":"Closed", "title":"In Application Builder, a new search doesn't reset the index", "category":"VizLogic-Widgets", "severity":"Major", "priority":{"level":"5", "title":""}, "submittedBy":{"username":"dcassel", "name":"Dave Cassel", "email":"dave.cassel@marklogic.com"}, "assignTo":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}, "description":"Build an App Builder application and give it enough data to have more than one page of results. On the initial search results page (empty search, all results), click to the second page of results. The URL will be something like \r\n\r\nhttp://localhost:8003/?q=&p=11\r\n\r\nNow type something in the search box that will only match a few results. (In my case, I have 27 docs and searched for \"manager\", which only appears in three of them.) The URL will be something like\r\n\r\nhttp://localhost:8003/?q=manager&p=11\r\n\r\nand the app will say \"No results found\". New search criteria should take the application back to the beginning of the new result set:\r\n\r\nhttp://localhost:8003/?q=manager&p=1\r\nor\r\nhttp://localhost:8003/?q=manager\r\n\r\nIt looks like this could be fixed either by adding \"page: 1\" to the #query submit handler in search.js or by having controller.js notice that the text of the query has changed. ", "samplequery":"", "sampledata":"", "version":"6.0-2", "tofixin":"6.0-3", "fixedin":"6.0-3", "platform":"all", "memory":"", "processors":"", "note":"Encountered on Mac OS X using Chrome and FF. ", "subscribers":[{"username":"dcassel", "name":"Dave Cassel", "email":"dave.cassel@marklogic.com"}, {"username":"ctaylor", "name":"Christophe Taylor", "email":"christophe.taylor@marklogic.com"}, {"username":"msarma", "name":"Meghalim Sarma", "email":"msarma@marklogic.com"}, {"username":"gghai", "name":"Gaurav Ghai", "email":"Gaurav.ghai@marklogic.com"}], "attachments":[], "relationships":[{"type":"", "to":""}], "clones":[21328], "cloneOf":"", "support":{"headline":"", "supportDescription":"", "publishStatus":"Never Publish", "tickets":[], "customerImpact":{"level":"N/A", "title":""}, "workaround":""}, "tags":["VizLogic-Widgets", "dcassel"], "changeHistory":[{"time":"2012-12-14T21:01:16.54491-08:00", "updatedBy":{"username":"gvaidees", "name":"Ganesh Vaideeswaran", "email":"Ganesh.Vaideeswaran@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"Christophe,\r\n\r\nPlease treat this as priority, since it is annoying to the user."}, {"time":"2012-12-14T21:01:16.54491-08:00", "updatedBy":{"username":"gvaidees", "name":"Ganesh Vaideeswaran", "email":"Ganesh.Vaideeswaran@marklogic.com"}, "change":{"status":{"from":"", "to":"Verify"}, "assignTo":{"from":{"username":"gvaidees", "name":"Ganesh Vaideeswaran", "email":"Ganesh.Vaideeswaran@marklogic.com"}, "to":{"username":"ctaylor", "name":"Christophe Taylor", "email":"christophe.taylor@marklogic.com"}}}, "files":[], "show":true}, {"time":"2012-12-14T21:01:16.54491-08:00", "updatedBy":{"username":"gvaidees", "name":"Ganesh Vaideeswaran", "email":"Ganesh.Vaideeswaran@marklogic.com"}, "change":{"assignTo":{"from":{"username":"gvaidees", "name":"Ganesh Vaideeswaran", "email":"Ganesh.Vaideeswaran@marklogic.com"}, "to":{"username":"ctaylor", "name":"Christophe Taylor", "email":"christophe.taylor@marklogic.com"}}}, "files":[], "show":true}, {"time":"2012-12-14T21:01:16.54491-08:00", "updatedBy":{"username":"gvaidees", "name":"Ganesh Vaideeswaran", "email":"Ganesh.Vaideeswaran@marklogic.com"}, "change":{"tofixin":{"from":"", "to":"6.0-3"}}, "files":[], "show":true}, {"time":"2012-12-28T12:25:03.007817-08:00", "updatedBy":{"username":"ctaylor", "name":"Christophe Taylor", "email":"christophe.taylor@marklogic.com"}, "change":{}, "files":[], "show":true, "svn":{"repository":"/project/engsvn", "revision":"125824", "paths":["xdmp/branches/b6_0/src/Assets/appbuilder/components/appbuilder-2.0/lib/controller.js"], "affectedBugs":[]}, "comment":"Bug:20273 - Reset pagination to page 1 when updating text search term, previously only updated when changing a facet. Very minor change"}, {"time":"2012-12-28T12:25:54.643714-08:00", "updatedBy":{"username":"ctaylor", "name":"Christophe Taylor", "email":"christophe.taylor@marklogic.com"}, "change":{}, "files":[], "show":true, "svn":{"repository":"/project/engsvn", "revision":"125825", "paths":["xdmp/trunk/src/Assets/appbuilder/components/appbuilder-2.0/lib/controller.js"], "affectedBugs":[]}, "comment":"Bug:20273 - Reset pagination to page 1 when updating text search term, previously only updated when changing a facet. Very minor change"}, {"time":"2012-12-28T12:27:02.211605-08:00", "updatedBy":{"username":"ctaylor", "name":"Christophe Taylor", "email":"christophe.taylor@marklogic.com"}, "change":{"status":{"from":"", "to":"Test"}, "assignTo":{"from":{"username":"ctaylor", "name":"Christophe Taylor", "email":"christophe.taylor@marklogic.com"}, "to":{"username":"msarma", "name":"Meghalim Sarma", "email":"msarma@marklogic.com"}}}, "files":[], "show":true, "comment":"minor change, added pagination reset to text search, previously only reset on facet change. committed to trunk and 6.0 branch."}, {"time":"2012-12-28T12:27:02.211605-08:00", "updatedBy":{"username":"ctaylor", "name":"Christophe Taylor", "email":"christophe.taylor@marklogic.com"}, "change":{"assignTo":{"from":{"username":"ctaylor", "name":"Christophe Taylor", "email":"christophe.taylor@marklogic.com"}, "to":{"username":"msarma", "name":"Meghalim Sarma", "email":"msarma@marklogic.com"}}}, "files":[], "show":true}, {"time":"2013-03-12T11:08:07.339742-07:00", "updatedBy":{"username":"msarma", "name":"Meghalim Sarma", "email":"msarma@marklogic.com"}, "change":{"assignTo":{"from":{"username":"msarma", "name":"Meghalim Sarma", "email":"msarma@marklogic.com"}, "to":{"username":"gghai", "name":"Gaurav Ghai", "email":"Gaurav.ghai@marklogic.com"}}}, "files":[], "show":true}, {"time":"2013-03-27T14:03:06.290991-07:00", "updatedBy":{"username":"gghai", "name":"Gaurav Ghai", "email":"Gaurav.ghai@marklogic.com"}, "change":{"status":{"from":"", "to":"Ship"}, "assignTo":{"from":{"username":"gghai", "name":"Gaurav Ghai", "email":"Gaurav.ghai@marklogic.com"}, "to":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}}}, "files":[], "show":true, "comment":"Verified on 03/27 6.0 nightly build . \r\n\r\nReset pagination to page 1 when updating text search term .\r\n\r\nThanks Christophe."}, {"time":"2013-03-27T14:03:06.290991-07:00", "updatedBy":{"username":"gghai", "name":"Gaurav Ghai", "email":"Gaurav.ghai@marklogic.com"}, "change":{"assignTo":{"from":{"username":"gghai", "name":"Gaurav Ghai", "email":"Gaurav.ghai@marklogic.com"}, "to":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}}}, "files":[], "show":true}], "updatedAt":"2013-03-27T14:03:06.290991-07:00", "fixedAt":"2012-12-28T12:27:02.211605-08:00", "fixedBy":{"username":"ctaylor", "name":"Christophe Taylor", "email":"christophe.taylor@marklogic.com"}, "shippedAt":"2013-03-27T14:03:06.290991-07:00", "shippedBy":{"username":"gghai", "name":"Gaurav Ghai", "email":"Gaurav.ghai@marklogic.com"}, "renderDescriptionAs":"normal"}