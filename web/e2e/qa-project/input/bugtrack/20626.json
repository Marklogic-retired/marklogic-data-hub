{"id":20626, "kind":"Task", "createdAt":"2013-01-29T11:09:35.661783-08:00", "status":"Fix", "title":"Synonym scoring in wildcard expansions", "category":"search", "severity":"Major", "priority":{"level":"2", "title":"Not required for product release"}, "days":null, "period":{"startDate":"", "endDate":""}, "submittedBy":{"username":"mary", "name":"Mary Holstege", "email":"mary@cerisent.com"}, "assignTo":{"username":"fxue", "name":"Fei Xue", "email":"Fei.Xue@marklogic.com"}, "description":"Use synonym scoring appropriately for wildcard expansions", "samplequery":"", "sampledata":"", "version":"7.0-nightly", "tofixin":"8.0-6", "fixedin":"", "platform":"all", "memory":"", "processors":"", "note":"", "subscribers":[{"username":"mary", "name":"Mary Holstege", "email":"mary@cerisent.com"}, {"username":"fxue", "name":"Fei Xue", "email":"Fei.Xue@marklogic.com"}, {"username":"msrinivasan", "name":"Mahalakshmi Srinivasan", "email":"mahalakshmi.srinivasan@marklogic.com"}], "attachments":[], "parent":{"type":"Sub-task", "parentId":"20625", "taskOrRfe":"task"}, "includeInTaskList":false, "proceduralTasks":{"Requirements Task":[], "Functional Specification Task":[], "Test Specification Task":[], "Test Automation Task":[], "Documentation Task":[]}, "subTasks":[], "tags":["search", "mary"], "changeHistory":[{"time":"2013-01-29T11:09:35.661783-08:00", "updatedBy":{"username":"mary", "name":"Mary Holstege", "email":"mary@cerisent.com"}, "change":{"assignTo":{"from":{"username":"mary", "name":"Mary Holstege", "email":"mary@cerisent.com"}, "to":{"username":"mary", "name":"Mary Holstege", "email":"mary@cerisent.com"}}}, "files":[], "show":true}, {"time":"2013-03-19T14:56:00.51166-07:00", "updatedBy":{"username":"fxue", "name":"Fei Xue", "email":"Fei.Xue@marklogic.com"}, "change":{"assignTo":{"from":{"username":"fxue", "name":"Fei Xue", "email":"Fei.Xue@marklogic.com"}, "to":{"username":"fxue", "name":"Fei Xue", "email":"Fei.Xue@marklogic.com"}}}, "files":[], "show":true}, {"time":"2013-03-19T14:56:00.51166-07:00", "updatedBy":{"username":"fxue", "name":"Fei Xue", "email":"Fei.Xue@marklogic.com"}, "change":{"tofixin":{"from":"7.0-1", "to":"7.0-ea2"}}, "files":[], "show":true}, {"time":"2013-04-04T18:09:19.678629-07:00", "updatedBy":{"username":"fxue", "name":"Fei Xue", "email":"Fei.Xue@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"Plan to fix in ea3"}, {"time":"2013-04-04T18:09:19.678629-07:00", "updatedBy":{"username":"fxue", "name":"Fei Xue", "email":"Fei.Xue@marklogic.com"}, "change":{"tofixin":{"from":"7.0-ea2", "to":"7.0-ea3"}}, "files":[], "show":true}, {"time":"2013-05-22T13:08:06.826754-07:00", "updatedBy":{"username":"fxue", "name":"Fei Xue", "email":"Fei.Xue@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"Outline:\r\n1. record position of seqv before and after expandWildcard() in tokenizeQuery\r\n2. in getOccurrenceQuery make separate or-queries for queries in between recorded positions and add synonym scoring."}, {"time":"2013-05-22T14:22:55.098596-07:00", "updatedBy":{"username":"fxue", "name":"Fei Xue", "email":"Fei.Xue@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"Alternative: register query that is produced by wildcard expansion to get it to work like synonym query."}, {"time":"2013-05-22T17:34:01.384585-07:00", "updatedBy":{"username":"fxue", "name":"Fei Xue", "email":"Fei.Xue@marklogic.com"}, "change":{}, "files":[], "show":true, "svn":{"repository":"/project/engsvn", "revision":"142175", "paths":["xdmp/trunk/src/SearchBuiltins.cpp"], "affectedBugs":[]}, "comment":"bug:20626 making prefix-postfix expansion query works as synonym"}, {"time":"2013-05-22T17:41:54.137916-07:00", "updatedBy":{"username":"fxue", "name":"Fei Xue", "email":"Fei.Xue@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"Talked to Mary about this task,\r\n1) make all prefix and postfix query synonym where they are constructed - done\r\n2) do some book keeping for full word expansion to work - could be tricky\r\n3) might be a bug in the area around using wordKeys instead of lexiconKeys for expanded full word query.\r\n     Would be much easier if it is the case and fixed."}, {"time":"2013-06-17T14:15:30.003238-07:00", "updatedBy":{"username":"fxue", "name":"Fei Xue", "email":"Fei.Xue@marklogic.com"}, "change":{"tofixin":{"from":"7.0-ea3", "to":"7.0-1"}}, "files":[], "show":true}, {"time":"2013-06-24T10:17:49.64773-07:00", "updatedBy":{"username":"fxue", "name":"Fei Xue", "email":"Fei.Xue@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"Finished part of task, pushing rest to 7.0-2"}, {"time":"2013-06-24T10:17:49.64773-07:00", "updatedBy":{"username":"fxue", "name":"Fei Xue", "email":"Fei.Xue@marklogic.com"}, "change":{"tofixin":{"from":"7.0-1", "to":"7.0-2"}}, "files":[], "show":true}, {"time":"2013-12-03T17:18:37.024799-08:00", "updatedBy":{"username":"fxue", "name":"Fei Xue", "email":"Fei.Xue@marklogic.com"}, "change":{"tofixin":{"from":"7.0-2", "to":"8.0-1"}}, "files":[], "show":true}, {"time":"2013-12-16T14:56:24.408643-08:00", "updatedBy":{"username":"mary", "name":"Mary Holstege", "email":"mary@cerisent.com"}, "change":{}, "files":[], "show":true, "svn":{"repository":"/project/engsvn", "revision":"157378", "paths":["xdmp/branches/b7_0/src/SearchBuiltins.cpp"], "affectedBugs":["25311"]}, "comment":"Bug:25311 missing use of synonym scoring for some prefix/postfix cases, cf bug:20626"}, {"time":"2014-11-17T16:00:53.015442-08:00", "updatedBy":{"username":"fxue", "name":"Fei Xue", "email":"Fei.Xue@marklogic.com"}, "change":{"tofixin":{"from":"8.0-1", "to":"8.0-2"}}, "files":[], "show":true}, {"time":"2015-03-11T16:56:29.160949-07:00", "updatedBy":{"username":"fxue", "name":"Fei Xue", "email":"Fei.Xue@marklogic.com"}, "change":{"tofixin":{"from":"8.0-2", "to":"8.0-3"}}, "files":[], "show":true}, {"time":"2015-05-05T15:25:21.340369-07:00", "updatedBy":{"username":"fxue", "name":"Fei Xue", "email":"Fei.Xue@marklogic.com"}, "change":{}, "files":[], "show":true, "svn":{"repository":"/project/engsvn", "revision":"198710", "paths":["xdmp/branches/b8_0/src/SearchBuiltins.cpp"], "affectedBugs":[]}, "comment":"bug:20626 add synonym scoring to full lexicon expansion and fix remaining prefix/postfix synonyms"}, {"time":"2015-05-05T15:57:06.898822-07:00", "updatedBy":{"username":"fxue", "name":"Fei Xue", "email":"Fei.Xue@marklogic.com"}, "change":{}, "files":[], "show":true, "svn":{"repository":"/project/engsvn", "revision":"198719", "paths":["xdmp/branches/b8_0/src/SearchBuiltins.cpp"], "affectedBugs":[]}, "comment":"bug:20626 don't create or-queyr if it has 0 children"}, {"time":"2015-05-05T15:59:49.166424-07:00", "updatedBy":{"username":"fxue", "name":"Fei Xue", "email":"Fei.Xue@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"xdmp:plan(cts:search(doc(),cts:word-query(\"bana*\",(\"lexicon-expand=full\",\"wildcarded\"))))//*:final-plan\r\n\r\n=> qry:or-query synonym=\"true\"\r\n\r\nxdmp:plan(cts:search(doc(),cts:word-query(\"b?na*\",(\"lexicon-expand=full\",\"wildcarded\"))))//*:final-plan\r\n\r\n=> qry:or-query synonym=\"true\"\r\n\r\ntwo synonym or query's , one for prefix and one for postfix\r\n\r\n\r\n\r\n"}, {"time":"2015-05-05T17:31:08.996559-07:00", "updatedBy":{"username":"fxue", "name":"Fei Xue", "email":"Fei.Xue@marklogic.com"}, "change":{}, "files":[], "show":true, "svn":{"repository":"/project/engsvn", "revision":"198733", "paths":["xdmp/branches/b7_0/src/SearchBuiltins.cpp"], "affectedBugs":[]}, "comment":"bug:20626 port to b7 branch"}, {"time":"2015-05-05T18:42:59.871506-07:00", "updatedBy":{"username":"fxue", "name":"Fei Xue", "email":"Fei.Xue@marklogic.com"}, "change":{}, "files":[], "show":true, "svn":{"repository":"/project/engsvn", "revision":"198737", "paths":["xdmp/trunk/src/SearchBuiltins.cpp"], "affectedBugs":[]}, "comment":"bug:20626 port to trunk"}, {"time":"2015-05-05T18:50:02.83007-07:00", "updatedBy":{"username":"fxue", "name":"Fei Xue", "email":"Fei.Xue@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"  "}, {"time":"2015-05-05T18:50:02.83007-07:00", "updatedBy":{"username":"fxue", "name":"Fei Xue", "email":"Fei.Xue@marklogic.com"}, "change":{"status":{"from":"Fix", "to":"Test"}, "assignTo":{"from":{"username":"fxue", "name":"Fei Xue", "email":"Fei.Xue@marklogic.com"}, "to":{"username":"fxue", "name":"Fei Xue", "email":"Fei.Xue@marklogic.com"}}}, "files":[], "show":true, "comment":"fixed on b8 trunk and b7"}, {"time":"2015-05-06T10:54:34.448533-07:00", "updatedBy":{"username":"fxue", "name":"Fei Xue", "email":"Fei.Xue@marklogic.com"}, "change":{"assignTo":{"from":{"username":"fxue", "name":"Fei Xue", "email":"Fei.Xue@marklogic.com"}, "to":{"username":"msrinivasan", "name":"Mahalakshmi Srinivasan", "email":"mahalakshmi.srinivasan@marklogic.com"}}}, "files":[], "show":true}, {"time":"2015-05-06T11:00:49.338692-07:00", "updatedBy":{"username":"fxue", "name":"Fei Xue", "email":"Fei.Xue@marklogic.com"}, "change":{"status":{"from":"Test", "to":"Fix"}, "assignTo":{"from":{"username":"fxue", "name":"Fei Xue", "email":"Fei.Xue@marklogic.com"}, "to":{"username":"fxue", "name":"Fei Xue", "email":"Fei.Xue@marklogic.com"}}}, "files":[], "show":true, "comment":"address regressions."}, {"time":"2015-05-06T11:00:49.338692-07:00", "updatedBy":{"username":"fxue", "name":"Fei Xue", "email":"Fei.Xue@marklogic.com"}, "change":{"assignTo":{"from":{"username":"fxue", "name":"Fei Xue", "email":"Fei.Xue@marklogic.com"}, "to":{"username":"fxue", "name":"Fei Xue", "email":"Fei.Xue@marklogic.com"}}}, "files":[], "show":true}, {"time":"2015-05-07T17:26:14.320423-07:00", "updatedBy":{"username":"fxue", "name":"Fei Xue", "email":"Fei.Xue@marklogic.com"}, "change":{}, "files":[], "show":true, "svn":{"repository":"/project/engsvn", "revision":"198949", "paths":["xdmp/trunk/src/SearchBuiltins.cpp"], "affectedBugs":[]}, "comment":"bug:20626 fix regression"}, {"time":"2015-05-07T17:40:19.857051-07:00", "updatedBy":{"username":"fxue", "name":"Fei Xue", "email":"Fei.Xue@marklogic.com"}, "change":{}, "files":[], "show":true, "svn":{"repository":"/project/engsvn", "revision":"198950", "paths":["xdmp/branches/b8_0/src/SearchBuiltins.cpp"], "affectedBugs":[]}, "comment":"bug:20626 fix regression"}, {"time":"2015-05-07T17:41:19.881681-07:00", "updatedBy":{"username":"fxue", "name":"Fei Xue", "email":"Fei.Xue@marklogic.com"}, "change":{}, "files":[], "show":true, "svn":{"repository":"/project/engsvn", "revision":"198951", "paths":["xdmp/branches/b7_0/src/SearchBuiltins.cpp"], "affectedBugs":[]}, "comment":"bug:20626 fix regression"}, {"time":"2015-05-12T15:00:15.373227-07:00", "updatedBy":{"username":"fxue", "name":"Fei Xue", "email":"Fei.Xue@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"Doing more in 8.0-4"}, {"time":"2015-05-12T15:00:15.373227-07:00", "updatedBy":{"username":"fxue", "name":"Fei Xue", "email":"Fei.Xue@marklogic.com"}, "change":{"tofixin":{"from":"8.0-3", "to":"8.0-4"}}, "files":[], "show":true}, {"time":"2015-08-25T22:09:57.213233-07:00", "updatedBy":{"username":"fxue", "name":"Fei Xue", "email":"Fei.Xue@marklogic.com"}, "change":{"tofixin":{"from":"8.0-4", "to":"8.0-5"}}, "files":[], "show":true}, {"time":"2016-02-11T22:40:37.384Z", "updatedBy":{"name":"Fei Xue", "email":"fei.xue@marklogic.com", "username":"fxue"}, "change":{"startDate":{"from":"", "to":""}, "endDate":{"from":"", "to":""}, "tofixin":{"from":"8.0-5", "to":"8.0-6"}}, "comment":"", "files":[]}], "updatedAt":"2016-02-11T22:40:37.384Z", "fixedAt":"2015-05-05T18:50:02.83007-07:00", "fixedBy":{"username":"fxue", "name":"Fei Xue", "email":"Fei.Xue@marklogic.com"}, "sentBackToFixAt":"2015-05-06T11:00:49.338692-07:00"}