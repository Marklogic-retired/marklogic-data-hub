{"id":20982, "kind":"Bug", "createdAt":"2013-03-01T01:50:56.726387-08:00", "status":"Closed", "title":"REGR: Test harness called mladmin abort on b7_0-ea1 Linux RH6 in test flex-rep-binary-with-push-local-forests.xml, as following XQuery did not finished in 30 minutes, which usually get complete.", "category":"xdmp", "severity":"Major", "priority":{"level":"5", "title":""}, "submittedBy":{"username":"sanand", "name":"Sumit Anand", "email":"Sumit.Anand@marklogic.com"}, "assignTo":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}, "description":"Test harness called mladmin abort on b7_0-ea1 Linux RH6 in test flex-rep-binary-with-push-local-forests.xml, as following XQuery did not finished in 30 minutes, which usually get complete.\r\n\r\nMachine name : rh6-intel64-70-test-1\r\nTest name : flex-rep-binary-with-push-local-forests.xml\r\nML Version : 20130228\r\nPath to Error Log : /space/builder/builds/linux64/b7_0-ea1/logs.20130228.0/reg-results/ErrorLog.txt\r\nPath to pstack log : /space/builder/builds/linux64/b7_0-ea1/logs.20130228.0/reg-results/pstack.log\r\nCrash type : Sigabrt\r\n\r\nComplete Stack trace:\r\n--------------------------------\r\n\r\nAbort in thread 139901010843456 pid 27304\r\nThread 55 (Thread 0x7f3d3e0df700 (LWP 24169)):\r\n#0 0x0000003f6f60d720 in sem_wait () from /lib64/libpthread.so.0\r\n#1 0x000000000376caf8 in svc::Semaphore::wait(bool) const ()\r\n#2 0x0000000003784975 in svc::StarterThread::run() ()\r\n#3 0x0000000003785480 in svc::Thread::top() ()\r\n#4 0x0000000003786049 in runThread ()\r\n#5 0x0000003f6f607851 in start_thread () from /lib64/libpthread.so.0\r\n#6 0x0000003f6f2e767d in clone () from /lib64/libc.so.6\r\nThread 54 (Thread 0x7f3d3e0c0700 (LWP 24187)):\r\n#0 0x0000003f6f60e84d in accept () from /lib64/libpthread.so.0\r\n#1 0x0000000003776d86 in svc::Socket::accept(sockaddr_in&) ()\r\n#2 0x0000000003451733 in xdmp::XDQPServerThread::run() ()\r\n#3 0x0000000003785480 in svc::Thread::top() ()\r\n#4 0x0000000003786049 in runThread ()\r\n#5 0x0000003f6f607851 in start_thread () from /lib64/libpthread.so.0\r\n#6 0x0000003f6f2e767d in clone () from /lib64/libc.so.6\r\nThread 53 (Thread 0x7f3d3e0a1700 (LWP 24188)):\r\n#0 0x0000003f6f60ed2d in nanosleep () from /lib64/libpthread.so.0\r\n#1 0x0000000003784621 in svc::Thread::sleep(unsigned int) ()\r\n#2 0x0000000001ede748 in xdmp::ClusterManager::clusterThread() ()\r\n#3 0x0000000003785480 in svc::Thread::top() ()\r\n#4 0x0000000003786049 in runThread ()\r\n#5 0x0000003f6f607851 in start_thread () from /lib64/libpthread.so.0\r\n#6 0x0000003f6f2e767d in clone () from /lib64/libc.so.6\r\nThread 52 (Thread 0x7f3aaa3ff700 (LWP 24190)):\r\n#0 0x0000003f6f60d720 in sem_wait () from /lib64/libpthread.so.0\r\n#1 0x000000000376caf8 in svc::Semaphore::wait(bool) const ()\r\n#2 0x0000000003787e22 in svc::PooledThread::run() ()\r\n#3 0x0000000003785480 in svc::Thread::top() ()\r\n#4 0x0000000003786049 in runThread ()\r\n#5 0x0000003f6f607851 in start_thread () from /lib64/libpthread.so.0\r\n#6 0x0000003f6f2e767d in clone () from /lib64/libc.so.6\r\nThread 51 (Thread 0x7f3aa9f81700 (LWP 24192)):\r\n#0 0x0000003f6f60d720 in sem_wait () from /lib64/libpthread.so.0\r\n#1 0x000000000376caf8 in svc::Semaphore::wait(bool) const ()\r\n#2 0x0000000003787e22 in svc::PooledThread::run() ()\r\n#3 0x0000000003785480 in svc::Thread::top() ()\r\n#4 0x0000000003786049 in runThread ()\r\n#5 0x0000003f6f607851 in start_thread () from /lib64/libpthread.so.0\r\n#6 0x0000003f6f2e767d in clone () from /lib64/libc.so.6\r\nThread 50 (Thread 0x7f3aa9703700 (LWP 24194)):\r\n#0 0x0000003f6f60e84d in accept () from /lib64/libpthread.so.0\r\n#1 0x0000000003776d86 in svc::Socket::accept(sockaddr_in&) ()\r\n#2 0x0000000001d7b18f in xdmp::AppServerThread::run() ()\r\n#3 0x0000000003785480 in svc::Thread::top() ()\r\n#4 0x0000000003786049 in runThread ()\r\n#5 0x0000003f6f607851 in start_thread () from /lib64/libpthread.so.0\r\n#6 0x0000003f6f2e767d in clone () from /lib64/libc.so.6\r\nThread 49 (Thread 0x7f3aa9b03700 (LWP 24195)):\r\n#0 0x0000003f6f60d720 in sem_wait () from /lib64/libpthread.so.0\r\n#1 0x000000000376caf8 in svc::Semaphore::wait(bool) const ()\r\n#2 0x0000000003787e22 in svc::PooledThread::run() ()\r\n#3 0x0000000003785480 in svc::Thread::top() ()\r\n#4 0x0000000003786049 in runThread ()\r\n#5 0x0000003f6f607851 in start_thread () from /lib64/libpthread.so.0\r\n#6 0x0000003f6f2e767d in clone () from /lib64/libc.so.6\r\nThread 48 (Thread 0x7f3d3e022700 (LWP 24196)):\r\n#0 0x0000003f6f60e84d in accept () from /lib64/libpthread.so.0\r\n#1 0x0000000003776d86 in svc::Socket::accept(sockaddr_in&) ()\r\n#2 0x0000000001d7b18f in xdmp::AppServerThread::run() ()\r\n#3 0x0000000003785480 in svc::Thread::top() ()\r\n#4 0x0000000003786049 in runThread ()\r\n#5 0x0000003f6f607851 in start_thread () from /lib64/libpthread.so.0\r\n#6 0x0000003f6f2e767d in clone () from /lib64/libc.so.6\r\nThread 47 (Thread 0x7f3aa87ff700 (LWP 24197)):\r\n#0 0x0000003f6f60d720 in sem_wait () from /lib64/libpthread.so.0\r\n#1 0x000000000376caf8 in svc::Semaphore::wait(bool) const ()\r\n#2 0x0000000003787e22 in svc::PooledThread::run() ()\r\n#3 0x0000000003785480 in svc::Thread::top() ()\r\n#4 0x0000000003786049 in runThread ()\r\n#5 0x0000003f6f607851 in start_thread () from /lib64/libpthread.so.0\r\n#6 0x0000003f6f2e767d in clone () from /lib64/libc.so.6\r\nThread 46 (Thread 0x7f3d3d0e0700 (LWP 24198)):\r\n#0 0x0000003f6f60d720 in sem_wait () from /lib64/libpthread.so.0\r\n#1 0x000000000376caf8 in svc::Semaphore::wait(bool) const ()\r\n#2 0x0000000003787e22 in svc::PooledThread::run() ()\r\n#3 0x0000000003785480 in svc::Thread::top() ()\r\n#4 0x0000000003786049 in runThread ()\r\n#5 0x0000003f6f607851 in start_thread () from /lib64/libpthread.so.0\r\n#6 0x0000003f6f2e767d in clone () from /lib64/libc.so.6\r\nThread 45 (Thread 0x7f3d3d04e700 (LWP 24199)):\r\n#0 0x0000003f6f60e84d in accept () from /lib64/libpthread.so.0\r\n#1 0x0000000003776d86 in svc::Socket::accept(sockaddr_in&) ()\r\n#2 0x0000000001d7b18f in xdmp::AppServerThread::run() ()\r\n#3 0x0000000003785480 in svc::Thread::top() ()\r\n#4 0x0000000003786049 in runThread ()\r\n#5 0x0000003f6f607851 in start_thread () from /lib64/libpthread.so.0\r\n#6 0x0000003f6f2e767d in clone () from /lib64/libc.so.6\r\nThread 44 (Thread 0x7f3aa7b80700 (LWP 24201)):\r\n#0 0x0000003f6f60e84d in accept () from /lib64/libpthread.so.0\r\n#1 0x0000000003776d86 in svc::Socket::accept(sockaddr_in&) ()\r\n#2 0x0000000001d7b18f in xdmp::AppServerThread::run() ()\r\n#3 0x0000000003785480 in svc::Thread::top() ()\r\n#4 0x0000000003786049 in runThread ()\r\n#5 0x0000003f6f607851 in start_thread () from /lib64/libpthread.so.0\r\n#6 0x0000003f6f2e767d in clone () from /lib64/libc.so.6\r\nThread 43 (Thread 0x7f3aa6fff700 (LWP 24202)):\r\n#0 0x0000003f6f60d720 in sem_wait () from /lib64/libpthread.so.0\r\n#1 0x000000000376caf8 in svc::Semaphore::wait(bool) const ()\r\n#2 0x0000000003787e22 in svc::PooledThread::run() ()\r\n#3 0x0000000003785480 in svc::Thread::top() ()\r\n#4 0x0000000003786049 in runThread ()\r\n#5 0x0000003f6f607851 in start_thread () from /lib64/libpthread.so.0\r\n#6 0x0000003f6f2e767d in clone () from /lib64/libc.so.6\r\nThread 42 (Thread 0x7f3d3d02f700 (LWP 24203)):\r\n#0 0x0000003f6f60e84d in accept () from /lib64/libpthread.so.0\r\n#1 0x0000000003776d86 in svc::Socket::accept(sockaddr_in&) ()\r\n#2 0x0000000001d7b18f in xdmp::AppServerThread::run() ()\r\n#3 0x0000000003785480 in svc::Thread::top() ()\r\n#4 0x0000000003786049 in runThread ()\r\n#5 0x0000003f6f607851 in start_thread () from /lib64/libpthread.so.0\r\n#6 0x0000003f6f2e767d in clone () from /lib64/libc.so.6\r\nThread 41 (Thread 0x7f3aa5fff700 (LWP 24205)):\r\n#0 0x0000003f6f60d720 in sem_wait () from /lib64/libpthread.so.0\r\n#1 0x000000000376caf8 in svc::Semaphore::wait(bool) const ()\r\n#2 0x0000000003787e22 in svc::PooledThread::run() ()\r\n#3 0x0000000003785480 in svc::Thread::top() ()\r\n#4 0x0000000003786049 in runThread ()\r\n#5 0x0000003f6f607851 in start_thread () from /lib64/libpthread.so.0\r\n#6 0x0000003f6f2e767d in clone () from /lib64/libc.so.6\r\nThread 40 (Thread 0x7f3aa7861700 (LWP 24206)):\r\n#0 0x0000003f6f60e84d in accept () from /lib64/libpthread.so.0\r\n#1 0x0000000003776d86 in svc::Socket::accept(sockaddr_in&) ()\r\n#2 0x0000000001d7b18f in xdmp::AppServerThread::run() ()\r\n#3 0x0000000003785480 in svc::Thread::top() ()\r\n#4 0x0000000003786049 in runThread ()\r\n#5 0x0000003f6f607851 in start_thread () from /lib64/libpthread.so.0\r\n#6 0x0000003f6f2e767d in clone () from /lib64/libc.so.6\r\nThread 39 (Thread 0x7f3aa57ff700 (LWP 24207)):\r\n#0 0x0000003f6f60d720 in sem_wait () from /lib64/libpthread.so.0\r\n#1 0x000000000376caf8 in svc::Semaphore::wait(bool) const ()\r\n#2 0x0000000003787e22 in svc::PooledThread::run() ()\r\n#3 0x0000000003785480 in svc::Thread::top() ()\r\n#4 0x0000000003786049 in runThread ()\r\n#5 0x0000003f6f607851 in start_thread () from /lib64/libpthread.so.0\r\n#6 0x0000003f6f2e767d in clone () from /lib64/libc.so.6\r\nThread 38 (Thread 0x7f3aa9464700 (LWP 24208)):\r\n#0 0x0000003f6f60e84d in accept () from /lib64/libpthread.so.0\r\n#1 0x0000000003776d86 in svc::Socket::accept(sockaddr_in&) ()\r\n#2 0x0000000001d7b18f in xdmp::AppServerThread::run() ()\r\n#3 0x0000000003785480 in svc::Thread::top() ()\r\n#4 0x0000000003786049 in runThread ()\r\n#5 0x0000003f6f607851 in start_thread () from /lib64/libpthread.so.0\r\n#6 0x0000003f6f2e767d in clone () from /lib64/libc.so.6\r\nThread 37 (Thread 0x7f3aa47ff700 (LWP 24209)):\r\n#0 0x0000003f6f60d720 in sem_wait () from /lib64/libpthread.so.0\r\n#1 0x000000000376caf8 in svc::Semaphore::wait(bool) const ()\r\n#2 0x0000000003787e22 in svc::PooledThread::run() ()\r\n#3 0x0000000003785480 in svc::Thread::top() ()\r\n#4 0x0000000003786049 in runThread ()\r\n#5 0x0000003f6f607851 in start_thread () from /lib64/libpthread.so.0\r\n#6 0x0000003f6f2e767d in clone () from /lib64/libc.so.6\r\nThread 36 (Thread 0x7f3aa9445700 (LWP 24210)):\r\n#0 0x0000003f6f60e84d in accept () from /lib64/libpthread.so.0\r\n#1 0x0000000003776d86 in svc::Socket::accept(sockaddr_in&) ()\r\n#2 0x0000000001d7b18f in xdmp::AppServerThread::run() ()\r\n#3 0x0000000003785480 in svc::Thread::top() ()\r\n#4 0x0000000003786049 in runThread ()\r\n#5 0x0000003f6f607851 in start_thread () from /lib64/libpthread.so.0\r\n#6 0x0000003f6f2e767d in clone () from /lib64/libc.so.6\r\nThread 35 (Thread 0x7f3aa9426700 (LWP 24212)):\r\n#0 0x0000003f6f60e84d in accept () from /lib64/libpthread.so.0\r\n#1 0x0000000003776d86 in svc::Socket::accept(sockaddr_in&) ()\r\n#2 0x0000000003439e7d in xdmp::XDBCServerThread::run() ()\r\n#3 0x0000000003785480 in svc::Thread::top() ()\r\n#4 0x0000000003786049 in runThread ()\r\n#5 0x0000003f6f607851 in start_thread () from /lib64/libpthread.so.0\r\n#6 0x0000003f6f2e767d in clone () from /lib64/libc.so.6\r\nThread 34 (Thread 0x7f3a98701700 (LWP 24242)):\r\n#0 0x0000003f6f60d720 in sem_wait () from /lib64/libpthread.so.0\r\n#1 0x000000000376caf8 in svc::Semaphore::wait(bool) const ()\r\n#2 0x0000000003787e22 in svc::PooledThread::run() ()\r\n#3 0x0000000003785480 in svc::Thread::top() ()\r\n#4 0x0000000003786049 in runThread ()\r\n#5 0x0000003f6f607851 in start_thread () from /lib64/libpthread.so.0\r\n#6 0x0000003f6f2e767d in clone () from /lib64/libc.so.6\r\nThread 33 (Thread 0x7f3a96983700 (LWP 24252)):\r\n#0 0x0000003f6f60d720 in sem_wait () from /lib64/libpthread.so.0\r\n#1 0x000000000376caf8 in svc::Semaphore::wait(bool) const ()\r\n#2 0x0000000003787e22 in svc::PooledThread::run() ()\r\n#3 0x0000000003785480 in svc::Thread::top() ()\r\n#4 0x0000000003786049 in runThread ()\r\n#5 0x0000003f6f607851 in start_thread () from /lib64/libpthread.so.0\r\n#6 0x0000003f6f2e767d in clone () from /lib64/libc.so.6\r\nThread 32 (Thread 0x7f3a96488700 (LWP 24259)):\r\n#0 0x0000003f6f60d720 in sem_wait () from /lib64/libpthread.so.0\r\n#1 0x000000000376caf8 in svc::Semaphore::wait(bool) const ()\r\n#2 0x0000000003787e22 in svc::PooledThread::run() ()\r\n#3 0x0000000003785480 in svc::Thread::top() ()\r\n#4 0x0000000003786049 in runThread ()\r\n#5 0x0000003f6f607851 in start_thread () from /lib64/libpthread.so.0\r\n#6 0x0000003f6f2e767d in clone () from /lib64/libc.so.6\r\nThread 31 (Thread 0x7f3a95681700 (LWP 24270)):\r\n#0 0x0000003f6f60d720 in sem_wait () from /lib64/libpthread.so.0\r\n#1 0x000000000376caf8 in svc::Semaphore::wait(bool) const ()\r\n#2 0x0000000003787e22 in svc::PooledThread::run() ()\r\n#3 0x0000000003785480 in svc::Thread::top() ()\r\n#4 0x0000000003786049 in runThread ()\r\n#5 0x0000003f6f607851 in start_thread () from /lib64/libpthread.so.0\r\n#6 0x0000003f6f2e767d in clone () from /lib64/libc.so.6\r\nThread 30 (Thread 0x7f3a95583700 (LWP 24272)):\r\n#0 0x0000003f6f60d720 in sem_wait () from /lib64/libpthread.so.0\r\n#1 0x000000000376caf8 in svc::Semaphore::wait(bool) const ()\r\n#2 0x0000000003787e22 in svc::PooledThread::run() ()\r\n#3 0x0000000003785480 in svc::Thread::top() ()\r\n#4 0x0000000003786049 in runThread ()\r\n#5 0x0000003f6f607851 in start_thread () from /lib64/libpthread.so.0\r\n#6 0x0000003f6f2e767d in clone () from /lib64/libc.so.6\r\nThread 29 (Thread 0x7f3a8b3ff700 (LWP 24273)):\r\n#0 0x0000003f6f60d720 in sem_wait () from /lib64/libpthread.so.0\r\n#1 0x000000000376caf8 in svc::Semaphore::wait(bool) const ()\r\n#2 0x0000000003787e22 in svc::PooledThread::run() ()\r\n#3 0x0000000003785480 in svc::Thread::top() ()\r\n#4 0x0000000003786049 in runThread ()\r\n#5 0x0000003f6f607851 in start_thread () from /lib64/libpthread.so.0\r\n#6 0x0000003f6f2e767d in clone () from /lib64/libc.so.6\r\nThread 28 (Thread 0x7f3a8b301700 (LWP 24275)):\r\n#0 0x0000003f6f60d720 in sem_wait () from /lib64/libpthread.so.0\r\n#1 0x000000000376caf8 in svc::Semaphore::wait(bool) const ()\r\n#2 0x0000000003787e22 in svc::PooledThread::run() ()\r\n#3 0x0000000003785480 in svc::Thread::top() ()\r\n#4 0x0000000003786049 in runThread ()\r\n#5 0x0000003f6f607851 in start_thread () from /lib64/libpthread.so.0\r\n#6 0x0000003f6f2e767d in clone () from /lib64/libc.so.6\r\nThread 27 (Thread 0x7f3a86380700 (LWP 24290)):\r\n#0 0x0000003f6f60d720 in sem_wait () from /lib64/libpthread.so.0\r\n#1 0x000000000376caf8 in svc::Semaphore::wait(bool) const ()\r\n#2 0x0000000003787e22 in svc::PooledThread::run() ()\r\n#3 0x0000000003785480 in svc::Thread::top() ()\r\n#4 0x0000000003786049 in runThread ()\r\n#5 0x0000003f6f607851 in start_thread () from /lib64/libpthread.so.0\r\n#6 0x0000003f6f2e767d in clone () from /lib64/libc.so.6\r\nThread 26 (Thread 0x7f3a827ff700 (LWP 24299)):\r\n#0 0x0000003f6f60d720 in sem_wait () from /lib64/libpthread.so.0\r\n#1 0x000000000376caf8 in svc::Semaphore::wait(bool) const ()\r\n#2 0x0000000003787e22 in svc::PooledThread::run() ()\r\n#3 0x0000000003785480 in svc::Thread::top() ()\r\n#4 0x0000000003786049 in runThread ()\r\n#5 0x0000003f6f607851 in start_thread () from /lib64/libpthread.so.0\r\n#6 0x0000003f6f2e767d in clone () from /lib64/libc.so.6\r\nThread 25 (Thread 0x7f3a7afff700 (LWP 24323)):\r\n#0 0x0000003f6f60d720 in sem_wait () from /lib64/libpthread.so.0\r\n#1 0x000000000376caf8 in svc::Semaphore::wait(bool) const ()\r\n#2 0x0000000003787e22 in svc::PooledThread::run() ()\r\n#3 0x0000000003785480 in svc::Thread::top() ()\r\n#4 0x0000000003786049 in runThread ()\r\n#5 0x0000003f6f607851 in start_thread () from /lib64/libpthread.so.0\r\n#6 0x0000003f6f2e767d in clone () from /lib64/libc.so.6\r\nThread 24 (Thread 0x7f3a8ad06700 (LWP 24325)):\r\n#0 0x0000003f6f60d720 in sem_wait () from /lib64/libpthread.so.0\r\n#1 0x000000000376caf8 in svc::Semaphore::wait(bool) const ()\r\n#2 0x0000000003787e22 in svc::PooledThread::run() ()\r\n#3 0x0000000003785480 in svc::Thread::top() ()\r\n#4 0x0000000003786049 in runThread ()\r\n#5 0x0000003f6f607851 in start_thread () from /lib64/libpthread.so.0\r\n#6 0x0000003f6f2e767d in clone () from /lib64/libc.so.6\r\nThread 23 (Thread 0x7f3a84702700 (LWP 24342)):\r\n#0 0x0000003f6f60d720 in sem_wait () from /lib64/libpthread.so.0\r\n#1 0x000000000376caf8 in svc::Semaphore::wait(bool) const ()\r\n#2 0x0000000003787e22 in svc::PooledThread::run() ()\r\n#3 0x0000000003785480 in svc::Thread::top() ()\r\n#4 0x0000000003786049 in runThread ()\r\n#5 0x0000003f6f607851 in start_thread () from /lib64/libpthread.so.0\r\n#6 0x0000003f6f2e767d in clone () from /lib64/libc.so.6\r\nThread 22 (Thread 0x7f3a717ff700 (LWP 24621)):\r\n#0 0x0000003f6f60d720 in sem_wait () from /lib64/libpthread.so.0\r\n#1 0x000000000376caf8 in svc::Semaphore::wait(bool) const ()\r\n#2 0x0000000003787e22 in svc::PooledThread::run() ()\r\n#3 0x0000000003785480 in svc::Thread::top() ()\r\n#4 0x0000000003786049 in runThread ()\r\n#5 0x0000003f6f607851 in start_thread () from /lib64/libpthread.so.0\r\n#6 0x0000003f6f2e767d in clone () from /lib64/libc.so.6\r\nThread 21 (Thread 0x7f3a76bff700 (LWP 24628)):\r\n#0 0x0000003f6f60d720 in sem_wait () from /lib64/libpthread.so.0\r\n#1 0x000000000376caf8 in svc::Semaphore::wait(bool) const ()\r\n#2 0x0000000003787e22 in svc::PooledThread::run() ()\r\n#3 0x0000000003785480 in svc::Thread::top() ()\r\n#4 0x0000000003786049 in runThread ()\r\n#5 0x0000003f6f607851 in start_thread () from /lib64/libpthread.so.0\r\n#6 0x0000003f6f2e767d in clone () from /lib64/libc.so.6\r\nThread 20 (Thread 0x7f3d35fff700 (LWP 24629)):\r\n#0 0x0000003f6f60d720 in sem_wait () from /lib64/libpthread.so.0\r\n#1 0x000000000376caf8 in svc::Semaphore::wait(bool) const ()\r\n#2 0x0000000003787e22 in svc::PooledThread::run() ()\r\n#3 0x0000000003785480 in svc::Thread::top() ()\r\n#4 0x0000000003786049 in runThread ()\r\n#5 0x0000003f6f607851 in start_thread () from /lib64/libpthread.so.0\r\n#6 0x0000003f6f2e767d in clone () from /lib64/libc.so.6\r\nThread 19 (Thread 0x7f3d37fff700 (LWP 24637)):\r\n#0 0x0000003f6f60ed2d in nanosleep () from /lib64/libpthread.so.0\r\n#1 0x0000000003784621 in svc::Thread::sleep(unsigned int) ()\r\n#2 0x00000000020df641 in xdmp::xdmp_sleep(svc::Handle< xdmp::OneArgBuiltinExpr > const&, xdmp::LocationInfo const&, xdmp::DynamicEnv&, svc::Handle const&, svc::Handle const&) ()\r\n#3 0x0000000001e8aaf6 in xdmp::OneArgBuiltinExpr::_eval(xdmp::DynamicEnv&, std::vector< svc::Handle, std::allocator<svc::Handle > > const&, svc::Handle&) const ()\r\n#4 0x0000000001e873d0 in xdmp::BuiltinEnv::doEval() ()\r\n#5 0x0000000001e8fcdf in xdmp::Value::builtinArg(xdmp::BuiltinEnv&) const ()\r\n#6 0x0000000001ea0f49 in xdmp::OneArgBuiltinExpr::eval(xdmp::DynamicEnv&, svc::Handle< xdmp::Value >&) const ()\r\n#7 0x0000000001a9f1b3 in xdmp::LetClause::flworEval(xdmp::FLWOREnv&, xdmp::FLWORExpr const&, unsigned long) const ()\r\n#8 0x0000000001a4d368 in xdmp::FLWORExpr::evalTail(xdmp::DynamicEnv&, xdmp::ValueAccumulator&, svc::Handle< xdmp::TailCall >&) const ()\r\n#9 0x0000000001a6323d in xdmp::FunctionTailCall::evalTail(xdmp::DynamicEnv&, xdmp::ValueAccumulator&, svc::Handle< xdmp::TailCall >&) ()\r\n#10 0x0000000001a620d3 in xdmp::FunctionCall::eval(xdmp::DynamicEnv&, svc::Handle< xdmp::Value >&) const ()\r\n#11 0x0000000001a9f1b3 in xdmp::LetClause::flworEval(xdmp::FLWOREnv&, xdmp::FLWORExpr const&, unsigned long) const ()\r\n#12 0x0000000001a4d368 in xdmp::FLWORExpr::evalTail(xdmp::DynamicEnv&, xdmp::ValueAccumulator&, svc::Handle< xdmp::TailCall >&) const ()\r\n#13 0x0000000001a6034f in xdmp::StatementExpr::eval(xdmp::DynamicEnv&, svc::Handle< xdmp::Value >&) const ()\r\n#14 0x000000000350d867 in xdmp::MainModule::eval(xdmp::DynamicEnv&, svc::Handle< xdmp::Value >&) const ()\r\n#15 0x0000000003525e50 in xdmp::Statement::_eval(xdmp::DynamicEnv&, svc::Handle< xdmp::StaticEnv > const&, svc::Handle const&, xdmp::SPARQLEnv*, svc::Handle const&, bool&) const ()\r\n#16 0x00000000035278f1 in xdmp::Statement::eval(xdmp::DynamicEnv&, svc::Handle< xdmp::StaticEnv > const&, svc::Handle const&, xdmp::SPARQLEnv*, svc::Handle const&, char const*, bool) const ()\r\n#17 0x00000000035288e9 in xdmp::Program::eval(xdmp::LocationInfo const&, xdmp::DynamicEnv&, svc::Handle< xdmp::StaticEnv > const&, svc::Handle const&, char const*, bool, bool, std::vector<svc::Handle, std::allocator<svc::Handle > >*) const ()\r\n#18 0x00000000034325f1 in xdmp::XDBCRequestTask::handleEval(xdmp::DynamicEnv&, svc::Handle< xdmp::StaticEnv > const&, svc::Handle&, bool, xdmp::Dialect) ()\r\n#19 0x0000000003436982 in xdmp::XDBCRequestTask::handleRequest(svc::Handle< xdmp::XDBCRequest >&) ()\r\n#20 0x000000000343840d in xdmp::XDBCRequestTask::run() ()\r\n#21 0x0000000003787f10 in svc::PooledThread::run() ()\r\n#22 0x0000000003785480 in svc::Thread::top() ()\r\n#23 0x0000000003786049 in runThread ()\r\n#24 0x0000003f6f607851 in start_thread () from /lib64/libpthread.so.0\r\n#25 0x0000003f6f2e767d in clone () from /lib64/libc.so.6\r\nThread 18 (Thread 0x7f3d347ff700 (LWP 24640)):\r\n#0 0x0000003f6f60d720 in sem_wait () from /lib64/libpthread.so.0\r\n#1 0x000000000376caf8 in svc::Semaphore::wait(bool) const ()\r\n#2 0x0000000003787e22 in svc::PooledThread::run() ()\r\n#3 0x0000000003785480 in svc::Thread::top() ()\r\n#4 0x0000000003786049 in runThread ()\r\n#5 0x0000003f6f607851 in start_thread () from /lib64/libpthread.so.0\r\n#6 0x0000003f6f2e767d in clone () from /lib64/libc.so.6\r\nThread 17 (Thread 0x7f3d397ff700 (LWP 24641)):\r\n#0 0x0000003f6f60e84d in accept () from /lib64/libpthread.so.0\r\n#1 0x0000000003776d86 in svc::Socket::accept(sockaddr_in&) ()\r\n#2 0x0000000001d7b18f in xdmp::AppServerThread::run() ()\r\n#3 0x0000000003785480 in svc::Thread::top() ()\r\n#4 0x0000000003786049 in runThread ()\r\n#5 0x0000003f6f607851 in start_thread () from /lib64/libpthread.so.0\r\n#6 0x0000003f6f2e767d in clone () from /lib64/libc.so.6\r\nThread 16 (Thread 0x7f3d397e0700 (LWP 24644)):\r\n#0 0x0000003f6f60e84d in accept () from /lib64/libpthread.so.0\r\n#1 0x0000000003776d86 in svc::Socket::accept(sockaddr_in&) ()\r\n#2 0x0000000001d7b18f in xdmp::AppServerThread::run() ()\r\n#3 0x0000000003785480 in svc::Thread::top() ()\r\n#4 0x0000000003786049 in runThread ()\r\n#5 0x0000003f6f607851 in start_thread () from /lib64/libpthread.so.0\r\n#6 0x0000003f6f2e767d in clone () from /lib64/libc.so.6\r\nThread 15 (Thread 0x7f3d327ff700 (LWP 24674)):\r\n#0 0x0000003f6f60d720 in sem_wait () from /lib64/libpthread.so.0\r\n#1 0x000000000376caf8 in svc::Semaphore::wait(bool) const ()\r\n#2 0x0000000003787e22 in svc::PooledThread::run() ()\r\n#3 0x0000000003785480 in svc::Thread::top() ()\r\n#4 0x0000000003786049 in runThread ()\r\n#5 0x0000003f6f607851 in start_thread () from /lib64/libpthread.so.0\r\n#6 0x0000003f6f2e767d in clone () from /lib64/libc.so.6\r\nThread 14 (Thread 0x7f3a89e82700 (LWP 24779)):\r\n#0 0x0000003f6f60d720 in sem_wait () from /lib64/libpthread.so.0\r\n#1 0x000000000376caf8 in svc::Semaphore::wait(bool) const ()\r\n#2 0x0000000003787e22 in svc::PooledThread::run() ()\r\n#3 0x0000000003785480 in svc::Thread::top() ()\r\n#4 0x0000000003786049 in runThread ()\r\n#5 0x0000003f6f607851 in start_thread () from /lib64/libpthread.so.0\r\n#6 0x0000003f6f2e767d in clone () from /lib64/libc.so.6\r\nThread 13 (Thread 0x7f3d3a5f8700 (LWP 26487)):\r\n#0 0x0000003f6f60d720 in sem_wait () from /lib64/libpthread.so.0\r\n#1 0x000000000376caf8 in svc::Semaphore::wait(bool) const ()\r\n#2 0x0000000003787e22 in svc::PooledThread::run() ()\r\n#3 0x0000000003785480 in svc::Thread::top() ()\r\n#4 0x0000000003786049 in runThread ()\r\n#5 0x0000003f6f607851 in start_thread () from /lib64/libpthread.so.0\r\n#6 0x0000003f6f2e767d in clone () from /lib64/libc.so.6\r\nThread 12 (Thread 0x7f3a88780700 (LWP 26611)):\r\n#0 0x0000003f6f60d720 in sem_wait () from /lib64/libpthread.so.0\r\n#1 0x000000000376caf8 in svc::Semaphore::wait(bool) const ()\r\n#2 0x0000000003787e22 in svc::PooledThread::run() ()\r\n#3 0x0000000003785480 in svc::Thread::top() ()\r\n#4 0x0000000003786049 in runThread ()\r\n#5 0x0000003f6f607851 in start_thread () from /lib64/libpthread.so.0\r\n#6 0x0000003f6f2e767d in clone () from /lib64/libc.so.6\r\nThread 11 (Thread 0x7f3a8ad85700 (LWP 26729)):\r\n#0 0x0000003f6f60d720 in sem_wait () from /lib64/libpthread.so.0\r\n#1 0x000000000376caf8 in svc::Semaphore::wait(bool) const ()\r\n#2 0x0000000003787e22 in svc::PooledThread::run() ()\r\n#3 0x0000000003785480 in svc::Thread::top() ()\r\n#4 0x0000000003786049 in runThread ()\r\n#5 0x0000003f6f607851 in start_thread () from /lib64/libpthread.so.0\r\n#6 0x0000003f6f2e767d in clone () from /lib64/libc.so.6\r\nThread 10 (Thread 0x7f3d38981700 (LWP 26744)):\r\n#0 0x0000003f6f60d720 in sem_wait () from /lib64/libpthread.so.0\r\n#1 0x000000000376caf8 in svc::Semaphore::wait(bool) const ()\r\n#2 0x0000000003787e22 in svc::PooledThread::run() ()\r\n#3 0x0000000003785480 in svc::Thread::top() ()\r\n#4 0x0000000003786049 in runThread ()\r\n#5 0x0000003f6f607851 in start_thread () from /lib64/libpthread.so.0\r\n#6 0x0000003f6f2e767d in clone () from /lib64/libc.so.6\r\nThread 9 (Thread 0x7f3aaa000700 (LWP 27046)):\r\n#0 0x0000003f6f60d720 in sem_wait () from /lib64/libpthread.so.0\r\n#1 0x000000000376caf8 in svc::Semaphore::wait(bool) const ()\r\n#2 0x0000000003787e22 in svc::PooledThread::run() ()\r\n#3 0x0000000003785480 in svc::Thread::top() ()\r\n#4 0x0000000003786049 in runThread ()\r\n#5 0x0000003f6f607851 in start_thread () from /lib64/libpthread.so.0\r\n#6 0x0000003f6f2e767d in clone () from /lib64/libc.so.6\r\nThread 8 (Thread 0x7f3d394b6700 (LWP 27129)):\r\n#0 0x0000003f6f60d720 in sem_wait () from /lib64/libpthread.so.0\r\n#1 0x000000000376caf8 in svc::Semaphore::wait(bool) const ()\r\n#2 0x0000000003787e22 in svc::PooledThread::run() ()\r\n#3 0x0000000003785480 in svc::Thread::top() ()\r\n#4 0x0000000003786049 in runThread ()\r\n#5 0x0000003f6f607851 in start_thread () from /lib64/libpthread.so.0\r\n#6 0x0000003f6f2e767d in clone () from /lib64/libc.so.6\r\nThread 7 (Thread 0x7f3d3a09d700 (LWP 27143)):\r\n#0 0x0000003f6f60d720 in sem_wait () from /lib64/libpthread.so.0\r\n#1 0x000000000376caf8 in svc::Semaphore::wait(bool) const ()\r\n#2 0x0000000003787e22 in svc::PooledThread::run() ()\r\n#3 0x0000000003785480 in svc::Thread::top() ()\r\n#4 0x0000000003786049 in runThread ()\r\n#5 0x0000003f6f607851 in start_thread () from /lib64/libpthread.so.0\r\n#6 0x0000003f6f2e767d in clone () from /lib64/libc.so.6\r\nThread 6 (Thread 0x7f3d3a6fe700 (LWP 27183)):\r\n#0 0x0000003f6f60d720 in sem_wait () from /lib64/libpthread.so.0\r\n#1 0x000000000376caf8 in svc::Semaphore::wait(bool) const ()\r\n#2 0x0000000003787e22 in svc::PooledThread::run() ()\r\n#3 0x0000000003785480 in svc::Thread::top() ()\r\n#4 0x0000000003786049 in runThread ()\r\n#5 0x0000003f6f607851 in start_thread () from /lib64/libpthread.so.0\r\n#6 0x0000003f6f2e767d in clone () from /lib64/libc.so.6\r\nThread 5 (Thread 0x7f3d37381700 (LWP 27189)):\r\n#0 0x0000003f6f60d720 in sem_wait () from /lib64/libpthread.so.0\r\n#1 0x000000000376caf8 in svc::Semaphore::wait(bool) const ()\r\n#2 0x0000000003787e22 in svc::PooledThread::run() ()\r\n#3 0x0000000003785480 in svc::Thread::top() ()\r\n#4 0x0000000003786049 in runThread ()\r\n#5 0x0000003f6f607851 in start_thread () from /lib64/libpthread.so.0\r\n#6 0x0000003f6f2e767d in clone () from /lib64/libc.so.6\r\nThread 4 (Thread 0x7f3d3a47b700 (LWP 27193)):\r\n#0 0x0000003f6f60d720 in sem_wait () from /lib64/libpthread.so.0\r\n#1 0x000000000376caf8 in svc::Semaphore::wait(bool) const ()\r\n#2 0x0000000003787e22 in svc::PooledThread::run() ()\r\n#3 0x0000000003785480 in svc::Thread::top() ()\r\n#4 0x0000000003786049 in runThread ()\r\n#5 0x0000003f6f607851 in start_thread () from /lib64/libpthread.so.0\r\n#6 0x0000003f6f2e767d in clone () from /lib64/libc.so.6\r\nThread 3 (Thread 0x7f3d37400700 (LWP 27194)):\r\n#0 0x0000003f6f60d720 in sem_wait () from /lib64/libpthread.so.0\r\n#1 0x000000000376caf8 in svc::Semaphore::wait(bool) const ()\r\n#2 0x0000000003787e22 in svc::PooledThread::run() ()\r\n#3 0x0000000003785480 in svc::Thread::top() ()\r\n#4 0x0000000003786049 in runThread ()\r\n#5 0x0000003f6f607851 in start_thread () from /lib64/libpthread.so.0\r\n#6 0x0000003f6f2e767d in clone () from /lib64/libc.so.6\r\nThread 2 (Thread 0x7f3d3a4fa700 (LWP 27257)):\r\n#0 0x0000003f6f60d720 in sem_wait () from /lib64/libpthread.so.0\r\n#1 0x000000000376caf8 in svc::Semaphore::wait(bool) const ()\r\n#2 0x0000000003787e22 in svc::PooledThread::run() ()\r\n#3 0x0000000003785480 in svc::Thread::top() ()\r\n#4 0x0000000003786049 in runThread ()\r\n#5 0x0000003f6f607851 in start_thread () from /lib64/libpthread.so.0\r\n#6 0x0000003f6f2e767d in clone () from /lib64/libc.so.6\r\nThread 1 (Thread 0x7f3d3e0e1740 (LWP 24168)):\r\n#0 0x0000003f6f60f09d in waitpid () from /lib64/libpthread.so.0\r\n#1 0x0000000002ec6390 in xdmp::pstack() ()\r\n#2 0x0000000002ec66b5 in pstackSignalAction ()\r\n#3 < signal handler called >\r\n#4 0x0000003f6f60ed2d in nanosleep () from /lib64/libpthread.so.0\r\n#5 0x0000000003784621 in svc::Thread::sleep(unsigned int) ()\r\n#6 0x0000000002ee2879 in xdmp::Server::background() ()\r\n#7 0x0000000002ef88e5 in xdmp::run() ()\r\n#8 0x0000000002efc477 in xdmp::daemon(int, char const**) ()\r\n#9 0x0000003f6f21ecdd in __libc_start_main () from /lib64/libc.so.6\r\n#10 0x0000000000af7e59 in _start ()\t\r\n", "samplequery":"", "sampledata":"", "version":"7.0-nightly", "tofixin":"7.0-ea1", "fixedin":"N/A", "platform":"linux(64-bit)", "memory":"", "processors":"", "note":"", "subscribers":[{"username":"sanand", "name":"Sumit Anand", "email":"Sumit.Anand@marklogic.com"}, {"username":"rpolasani", "name":"Raghu Polasani", "email":"raghu.polasani@marklogic.com"}, {"username":"rhu", "name":"Ron Hu", "email":"ron.hu@marklogic.com"}, {"username":"sverma", "name":"Shiva Verma", "email":"shiva.verma@marklogic.com"}, {"username":"msrinivasan", "name":"Mahalakshmi Srinivasan", "email":"mahalakshmi.srinivasan@marklogic.com"}], "attachments":[{"name":"Error Log", "uri":"root/support/bugtracking/attachments/20982/ErrorLog.zip"}, {"name":"flex-rep-binary-with-push-local-forests.xml pstack log", "uri":"root/support/bugtracking/attachments/20982/pstack.log"}], "relationships":[{"type":"", "to":""}], "clones":[], "cloneOf":"", "support":{"headline":"", "supportDescription":"", "publishStatus":"Not Ready", "tickets":[], "customerImpact":{"level":"N/A", "title":""}, "workaround":""}, "tags":["xdmp", "sanand"], "changeHistory":[{"time":"2013-03-01T01:50:56.726387-08:00", "updatedBy":{"username":"sanand", "name":"Sumit Anand", "email":"Sumit.Anand@marklogic.com"}, "change":{"assignTo":{"from":{"username":"sanand", "name":"Sumit Anand", "email":"Sumit.Anand@marklogic.com"}, "to":{"username":"rhu", "name":"Ron Hu", "email":"ron.hu@marklogic.com"}}}, "files":[], "show":true}, {"time":"2013-03-01T02:17:45.717502-08:00", "updatedBy":{"username":"sanand", "name":"Sumit Anand", "email":"Sumit.Anand@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"Suspected Xquery : \r\n\r\n\r\nxquery version \"1.0-ml\";\r\n        xdmp:spawn(\"/MarkLogic/flexrep/tasks/push-local-forests.xqy\");\r\n        xquery version \"1.0-ml\";\r\n        import module namespace inc-docs=\"http://marklogic.com/inc-docs\" at \"/include-docs.xqy\";\r\n        inc-docs:check-docs-done((), 10, 90000)\r\n\r\n\r\n\r\n xquery version \"1.0-ml\";\r\n        declare namespace adm=\"http://marklogic.com/xdmp/admin\";\r\n        declare namespace error=\"http://marklogic.com/xdmp/error\";\r\n\r\n        import module \"http://marklogic.com/xdmp/admin\" at \"/MarkLogic/admin.xqy\";\r\n        let $c := adm:get-configuration()\r\n        let $dbid := adm:database-get-id($c, \"flex-rep35-m\")\r\n        let $asid := adm:forest-get-id($c, \"flex-rep35-m\")\r\n\r\n        let $c := adm:forest-delete($c,adm:forest-get-id($c,\"flex-rep35-m\"), fn:true())\r\n        let $c := adm:forest-delete($c,adm:forest-get-id($c,\"flex-rep35-t\"), fn:true())\r\n        let $c := adm:forest-delete($c,adm:forest-get-id($c,\"flex-rep35-m-trig\"), fn:true())\r\n        return\r\n            adm:save-configuration($c)"}, {"time":"2013-03-01T10:54:43.52235-08:00", "updatedBy":{"username":"rhu", "name":"Ron Hu", "email":"ron.hu@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"Raghu,\r\nIs this related to xdmp:eval/invoke retries or RHEL 6.0 system hang issue?"}, {"time":"2013-03-01T10:54:43.52235-08:00", "updatedBy":{"username":"rhu", "name":"Ron Hu", "email":"ron.hu@marklogic.com"}, "change":{"assignTo":{"from":{"username":"rhu", "name":"Ron Hu", "email":"ron.hu@marklogic.com"}, "to":{"username":"rpolasani", "name":"Raghu Polasani", "email":"raghu.polasani@marklogic.com"}}}, "files":[], "show":true}, {"time":"2013-03-02T11:19:53.34628-08:00", "updatedBy":{"username":"rpolasani", "name":"Raghu Polasani", "email":"raghu.polasani@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"can you see if you can reproduce."}, {"time":"2013-03-02T11:19:53.34628-08:00", "updatedBy":{"username":"rpolasani", "name":"Raghu Polasani", "email":"raghu.polasani@marklogic.com"}, "change":{"assignTo":{"from":{"username":"rpolasani", "name":"Raghu Polasani", "email":"raghu.polasani@marklogic.com"}, "to":{"username":"msrinivasan", "name":"Mahalakshmi Srinivasan", "email":"mahalakshmi.srinivasan@marklogic.com"}}}, "files":[], "show":true}, {"time":"2013-03-05T10:46:44.212626-08:00", "updatedBy":{"username":"msrinivasan", "name":"Mahalakshmi Srinivasan", "email":"mahalakshmi.srinivasan@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"We have not seen this in regression for the past 5 days. I have not been able to reproduce this issue locally while running all the flex-rep-binary tests. I'm going to run the suite on the build machine today to see if I can reproduce."}, {"time":"2013-03-07T17:26:00.541874-08:00", "updatedBy":{"username":"msrinivasan", "name":"Mahalakshmi Srinivasan", "email":"mahalakshmi.srinivasan@marklogic.com"}, "change":{"status":{"from":"", "to":"Closed"}, "assignTo":{"from":{"username":"msrinivasan", "name":"Mahalakshmi Srinivasan", "email":"mahalakshmi.srinivasan@marklogic.com"}, "to":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}}}, "files":[], "show":true, "comment":"I just ran the flex-rep-binary test suite on the build machine on 7.0-ea1_20130307 and there was no hang in this test. There has been no hang in regression after 02/28 build too. Hence closing this bug and will open a separate bug of we see some hang or crash."}], "updatedAt":"2013-03-07T17:26:00.541874-08:00", "closedAt":"2013-03-07T17:26:00.541874-08:00", "closedBy":{"username":"msrinivasan", "name":"Mahalakshmi Srinivasan", "email":"mahalakshmi.srinivasan@marklogic.com"}, "renderDescriptionAs":"normal"}