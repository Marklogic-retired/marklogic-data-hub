{"id":20817, "kind":"Bug", "createdAt":"2013-02-18T07:47:16.644047-08:00", "status":"Closed", "title":"Test Harness called mladmin abort during test bug5034.xml on 5.0 nightly of 02/18", "category":"xdmp", "severity":"Catastrophic", "priority":{"level":"5", "title":""}, "submittedBy":{"username":"ksaxena", "name":"Kapil Saxena", "email":"kapil.saxena@marklogic.com"}, "assignTo":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}, "description":"ML Version: 20130218\r\nPlatform: Linux64 - rh6\r\nMachine Name: rh6-intel64-43-test-2.marklogic.com\r\nPath to Logs: /space/builder/builds/linux64/b5_0/logs.20130218.0/reg-results\r\n***********************************************************************************************************************************************\r\n \r\nThere was no trace available in the ErrorLog.txt, however following is seen:\r\n##################################################################################################################\r\n2013-02-18 06:08:55.766 Debug: Opening journal /var/opt/MarkLogic/Forests/dls2/Journals/Journal1 0..8 at {fsn=8, off=8088, sk=18167336402238118641}\r\n2013-02-18 06:08:55.766 Debug: Recovering undo on forest dls2\r\n2013-02-18 06:08:55.766 Debug: Recovered undo at endTimestamp 13611898404211450 minQueryTimestamp 0 on forest dls2\r\nAbort in thread 140157523261248 pid 5067\r\n2013-02-18 06:08:55.770 Debug: Detecting indexes for database Security\r\n2013-02-18 06:08:55.772 Debug: Detecting indexes for database Triggers\r\n2013-02-18 06:08:55.772 Debug: Detected indexes for database Security: sln\r\n2013-02-18 06:08:55.772 Debug: Detecting compatibility for database Security\r\n2013-02-18 06:08:55.772 Debug: Detected indexes for database Triggers: sln\r\n2013-02-18 06:08:55.772 Debug: Detecting compatibility for database Triggers\r\n2013-02-18 06:08:56.534 Debug: RuleBasedCollation http://marklogic.com/collation/\r\n2013-02-18 06:39:38.140 Debug: Detected compatibility for database Triggers\r\n2013-02-18 06:39:38.179 Debug: Detecting indexes for database Schemas\r\n2013-02-18 06:39:38.186 Debug: Detected indexes for database Schemas: sln\r\n2013-02-18 06:39:38.186 Debug: Detecting compatibility for database Schemas\r\n2013-02-18 06:39:38.187 Debug: Detecting indexes for database Last-Login\r\n2013-02-18 06:39:38.192 Error: DatabaseOnlineTask::run: Security Error: SVC-EXTIME: Time limit exceeded\r\n2013-02-18 06:39:38.193 Debug: Detecting indexes for database Security\r\n2013-02-18 06:39:38.197 Debug: Detected indexes for database Last-Login: sln\r\n2013-02-18 06:39:38.197 Debug: Detecting compatibility for database Last-Login\r\n2013-02-18 06:39:38.198 Debug: Detected compatibility for database Last-Login\r\n2013-02-18 06:39:38.199 Notice: QAxdbcServer: SVC-EXTIME: Time limit exceeded\r\n2013-02-18 06:39:38.199 Notice: QAxdbcServer:  [0.9-ml]\r\n\r\n\r\n\r\nFollowing is seen in qa-stdout:\r\n############################################\r\nMon Feb 18 06:08:45 PST 2013: creating threads...\r\nMon Feb 18 06:08:45 PST 2013: starting...\r\nwaiting 2 second for before checking for restart\r\nWaiting restart\r\nwaiting 2 second for before checking for restart\r\nWaiting restart\r\nwaiting 2 second for before checking for restart\r\nWaiting restart\r\nTaking stack trace with a total of one minute sleep\r\ndate +%Y%m%d%H%M%S >> /space/builder/builds/linux64/b5_0/logs.20130218.0/reg-results/pstack.log; sudo /usr/local/sbin/mladmin pstack >> /space/builder/builds/linux64/b5_0/logs.20130218.0/reg-results/pstack.log 2>> /space/builder/builds/linux64/b5_0/logs.20130218.0/reg-results/pstack.log; sleep 30;date +%Y%m%d%H%M%S >> /space/builder/builds/linux64/b5_0/logs.20130218.0/reg-results/pstack.log; sudo /usr/local/sbin/mladmin pstack >> /space/builder/builds/linux64/b5_0/logs.20130218.0/reg-results/pstack.log 2>> /space/builder/builds/linux64/b5_0/logs.20130218.0/reg-results/pstack.log\r\nKilling Server last query to run\r\nsudo /usr/local/sbin/mladmin abort\r\nWaiting restart\r\nAborting MarkLogic: [  OK  ]\r\nKilling Server done\r\nMon Feb 18 06:39:39 PST 2013: Reporting results...\r\nMon Feb 18 06:39:39 PST 2013: Writing results to /space/builder/builds/linux64/b5_0/qa/scripts/results/bug5034.xml\r\nbug5034.xml : Passed\r\n#####################################################################################################\r\n\r\nNote: \r\n1. Since this test passed, there was no failing Xquery.\r\n2. Attached is pstack just before call to abort was made.", "samplequery":"", "sampledata":"", "version":"5.0-nightly", "tofixin":"5.0-5", "fixedin":"N/A", "platform":"linux(64-bit)", "memory":"", "processors":"", "note":"", "subscribers":[{"username":"ksaxena", "name":"Kapil Saxena", "email":"kapil.saxena@marklogic.com"}, {"username":"rhu", "name":"Ron Hu", "email":"ron.hu@marklogic.com"}, {"username":"wfeick", "name":"Wayne Feick", "email":"wfeick@marklogic.com"}], "attachments":[{"name":"pstack log", "uri":"root/support/bugtracking/attachments/20817/pstack.log"}], "relationships":[{"type":"", "to":""}], "clones":[], "cloneOf":"", "support":{"headline":"", "supportDescription":"", "publishStatus":"Not Ready", "tickets":[], "customerImpact":{"level":"N/A", "title":""}, "workaround":""}, "tags":["xdmp", "ksaxena"], "changeHistory":[{"time":"2013-02-18T07:47:16.644047-08:00", "updatedBy":{"username":"ksaxena", "name":"Kapil Saxena", "email":"kapil.saxena@marklogic.com"}, "change":{"assignTo":{"from":{"username":"ksaxena", "name":"Kapil Saxena", "email":"kapil.saxena@marklogic.com"}, "to":{"username":"rhu", "name":"Ron Hu", "email":"ron.hu@marklogic.com"}}}, "files":[], "show":true}, {"time":"2013-02-18T09:05:46.120843-08:00", "updatedBy":{"username":"wfeick", "name":"Wayne Feick", "email":"wfeick@marklogic.com"}, "change":{"assignTo":{"from":{"username":"wfeick", "name":"Wayne Feick", "email":"wfeick@marklogic.com"}, "to":{"username":"wfeick", "name":"Wayne Feick", "email":"wfeick@marklogic.com"}}}, "files":[], "show":true}, {"time":"2013-02-18T09:08:30.672448-08:00", "updatedBy":{"username":"wfeick", "name":"Wayne Feick", "email":"wfeick@marklogic.com"}, "change":{"status":{"from":"", "to":"Closed"}, "assignTo":{"from":{"username":"wfeick", "name":"Wayne Feick", "email":"wfeick@marklogic.com"}, "to":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}}}, "files":[], "show":true, "comment":"Duplicate of 20816."}, {"time":"2013-02-18T09:08:30.672448-08:00", "updatedBy":{"username":"wfeick", "name":"Wayne Feick", "email":"wfeick@marklogic.com"}, "change":{"assignTo":{"from":{"username":"wfeick", "name":"Wayne Feick", "email":"wfeick@marklogic.com"}, "to":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}}}, "files":[], "show":true}], "updatedAt":"2013-02-18T09:08:30.672448-08:00", "closedAt":"2013-02-18T09:08:30.672448-08:00", "closedBy":{"username":"wfeick", "name":"Wayne Feick", "email":"wfeick@marklogic.com"}, "renderDescriptionAs":"normal"}