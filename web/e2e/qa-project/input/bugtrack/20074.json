{"id":20074, "kind":"Bug", "createdAt":"2012-11-13T09:10:40.242525-08:00", "status":"Closed", "title":"pretty-print does not throw an error as expected", "category":"xdmp", "severity":"Major", "priority":{"level":"5", "title":""}, "submittedBy":{"username":"jmakeig", "name":"Justin Makeig", "email":"jmakeig@marklogic.com"}, "assignTo":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}, "description":"I would expect the following code to throw an error:\r\n\r\nxquery version \"1.0-ml\";\r\nxdmp:pretty-print('for $i in (1 to 10) return i')\r\n\r\nWith out the pretty-print wrapper I get\r\n\r\n XDMP-DOLLAR: (err:XPST0003) Missing $ before variable i\r\n\r\nBut with the pretty-print I get\r\n\r\nfor $i in 1 to 10\r\nreturn i", "samplequery":"", "sampledata":"", "version":"6.0-1", "tofixin":"N/A", "fixedin":"N/A", "platform":"OS X", "memory":"", "processors":"", "note":"", "subscribers":[{"username":"jmakeig", "name":"Justin Makeig", "email":"jmakeig@marklogic.com"}, {"username":"rhu", "name":"Ron Hu", "email":"ron.hu@marklogic.com"}], "attachments":[], "relationships":[{"type":"", "to":""}], "clones":[], "cloneOf":"", "support":{"headline":"", "supportDescription":"", "publishStatus":"Not Ready", "tickets":[], "customerImpact":{"level":"N/A", "title":""}, "workaround":""}, "tags":["xdmp", "jmakeig"], "changeHistory":[{"time":"2012-11-13T09:10:40.242525-08:00", "updatedBy":{"username":"jmakeig", "name":"Justin Makeig", "email":"jmakeig@marklogic.com"}, "change":{"assignTo":{"from":{"username":"jmakeig", "name":"Justin Makeig", "email":"jmakeig@marklogic.com"}, "to":{"username":"rhu", "name":"Ron Hu", "email":"ron.hu@marklogic.com"}}}, "files":[], "show":true}, {"time":"2012-11-13T11:04:04.467875-08:00", "updatedBy":{"username":"cjl", "name":"Christopher Lindblad", "email":"cjl@cerisent.com"}, "change":{"status":{"from":"", "to":"Closed"}, "assignTo":{"from":{"username":"cjl", "name":"Christopher Lindblad", "email":"cjl@cerisent.com"}, "to":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}}}, "files":[], "show":true, "comment":"This is not a bug.\r\nxdmp:pretty-print just parses and then prints the parse tree.\r\nIt doesn't do static analysis.\r\nSo it can detect parse errors but so it doesn't detect static errors.\r\nThe text is a grammatically correct XQuery, as \"i\" parses as a single-step relative path expression.\r\nIf you want to detect static errors you can use xdmp:eval with the static-check option."}, {"time":"2012-11-13T11:04:04.467875-08:00", "updatedBy":{"username":"cjl", "name":"Christopher Lindblad", "email":"cjl@cerisent.com"}, "change":{"assignTo":{"from":{"username":"cjl", "name":"Christopher Lindblad", "email":"cjl@cerisent.com"}, "to":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}}}, "files":[], "show":true}], "updatedAt":"2012-11-13T11:04:04.467875-08:00", "closedAt":"2012-11-13T11:04:04.467875-08:00", "closedBy":{"username":"cjl", "name":"Christopher Lindblad", "email":"cjl@cerisent.com"}, "renderDescriptionAs":"normal"}