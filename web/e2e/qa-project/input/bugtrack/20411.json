{"id":20411, "kind":"Bug", "createdAt":"2013-01-09T11:34:13.550785-08:00", "status":"Closed", "title":"cts:element-word-query() is not returning results  for different distance-weight values other than 0", "category":"search", "severity":"Major", "priority":{"level":"5", "title":""}, "submittedBy":{"username":"skottam", "name":"Sravan Kottam", "email":"Sravan.Kottam@marklogic.com"}, "assignTo":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}, "description":"\r\nProximityboost tests are failing in regression in all the branches.\r\n\r\nsample query from proximityboost.xml\r\n\r\nxquery version \"1.0-ml\";\r\n    try{\r\n        for $d in (-17,-16,-15,-1,0,1,15,16,17)\r\n        for $doc in  cts:search(fn:collection(),cts:element-word-query(xs:QName(\"near\"),(\"cat\",\"dog\"),fn:concat(\"distance-weight=\",$d)))\r\n         return\r\n        (\"\r\n\",\"distance-weight=\",$d,\" \", base-uri($doc),\"==>\",cts:score($doc),\" \")\r\n\r\n        }\r\n    catch($ex)\r\n        { $ex/*:code/text() }\r\n\r\n Returns values for only\r\ndistance-weight=0 /test/near.xml==>36864\r\ndistance-weight=0 /test/far.xml==>36864<\r\n\r\n\r\n", "samplequery":"", "sampledata":"", "version":"5.0-nightly", "tofixin":"5.0-5", "fixedin":"N/A", "platform":"all", "memory":"", "processors":"", "note":"", "subscribers":[{"username":"skottam", "name":"Sravan Kottam", "email":"Sravan.Kottam@marklogic.com"}], "attachments":[], "relationships":[{"type":"", "to":""}], "clones":[], "cloneOf":"", "support":{"headline":"", "supportDescription":"", "publishStatus":"Not Ready", "tickets":[], "customerImpact":{"level":"N/A", "title":""}, "workaround":""}, "tags":["search", "skottam"], "changeHistory":[{"time":"2013-01-09T11:34:13.550785-08:00", "updatedBy":{"username":"skottam", "name":"Sravan Kottam", "email":"Sravan.Kottam@marklogic.com"}, "change":{"assignTo":{"from":{"username":"skottam", "name":"Sravan Kottam", "email":"Sravan.Kottam@marklogic.com"}, "to":{"username":"mary", "name":"Mary Holstege", "email":"mary@cerisent.com"}}}, "files":[], "show":true}, {"time":"2013-01-09T11:38:35.686889-08:00", "updatedBy":{"username":"skottam", "name":"Sravan Kottam", "email":"Sravan.Kottam@marklogic.com"}, "change":{"status":{"from":"", "to":"Closed"}, "assignTo":{"from":{"username":"skottam", "name":"Sravan Kottam", "email":"Sravan.Kottam@marklogic.com"}, "to":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}}}, "files":[], "show":true, "comment":"this is a duplicate of the bug 20398"}], "updatedAt":"2013-01-09T11:38:35.686889-08:00", "closedAt":"2013-01-09T11:38:35.686889-08:00", "closedBy":{"username":"skottam", "name":"Sravan Kottam", "email":"Sravan.Kottam@marklogic.com"}, "renderDescriptionAs":"normal"}