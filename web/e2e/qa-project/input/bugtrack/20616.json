{"id":20616, "kind":"Bug", "createdAt":"2013-01-28T15:11:47.830455-08:00", "status":"Closed", "title":"a large part of the result is shown as white spaces in query console", "category":"Query Console", "severity":"Minor", "priority":{"level":"5", "title":""}, "submittedBy":{"username":"lling", "name":"Ling Ling", "email":"ling.ling@marklogic.com"}, "assignTo":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}, "description":"when I click on this document to see the content in query console, the beginning are a large part of white spaces. I was thinking is was the problem of json transformation, but when I save this document into disk, the result is good. \r\n\r\nHere's the steps to reproduce:\r\n\r\n----------------------------------------------------------------\r\nxdmp:document-load(\"/space/lling/b6_0/qa/testdata/wiki/Abraham Lincoln\", <options xmlns=\"xdmp:document-load\">\r\n      <uri>lincoln.xml</uri>\r\n      <repair>none</repair>\r\n      <permissions>{xdmp:default-permissions()}</permissions>\r\n    </options>)\r\n----------------------------------------------------------------\r\nxquery version \"1.0-ml\";\r\nimport module namespace json=\"http://marklogic.com/xdmp/json\"\r\n at \"/MarkLogic/json/json.xqy\";\r\n \r\njson:transform-to-json(fn:doc(\"lincoln.xml\"), json:config(\"full\"))\r\n----------------------------------------------------------------\r\nNow you'll see the result is like\r\n\r\n<results warning=\"atomic item\">                           (:a lot of whit spaces:)                         f government-held land...\r\n----------------------------------------------------------------\r\n You could also save it to database and click the file in query console, same things above\r\n\r\nxquery version \"1.0-ml\";\r\nimport module namespace json=\"http://marklogic.com/xdmp/json\"\r\n at \"/MarkLogic/json/json.xqy\";\r\n \r\nlet $a :=json:transform-to-json(fn:doc(\"lincoln.xml\"), json:config(\"full\"))\r\nreturn xdmp:document-insert(\"badresult\", document{$a})\r\n----------------------------------------------------------------\r\n\r\nTo verify the result, you could save this document to disk to see the result is good\r\n\r\nxdmp:save(\"/tmp/badresult.txt\", fn:doc(\"lincoln.json\"))\r\n\r\n", "samplequery":"", "sampledata":"", "version":"7.0-nightly", "tofixin":"7.0-ea1", "fixedin":"7.0-ea1", "platform":"all", "memory":"", "processors":"", "note":"", "subscribers":[{"username":"lling", "name":"Ling Ling", "email":"ling.ling@marklogic.com"}, {"username":"ctaylor", "name":"Christophe Taylor", "email":"christophe.taylor@marklogic.com"}, {"username":"gvaidees", "name":"Ganesh Vaideeswaran", "email":"Ganesh.Vaideeswaran@marklogic.com"}, {"username":"sbrooks", "name":"Scott Brooks", "email":"Scott.Brooks@marklogic.com"}, {"username":"sreddy", "name":"Sudhakar Reddy", "email":"sreddy@marklogic.com"}], "attachments":[{"name":"Abraham Lincoln", "uri":"root/support/bugtracking/attachments/20615/Abraham Lincoln"}, {"name":"badresult.txt", "uri":"root/support/bugtracking/attachments/20615/badresult.txt"}], "relationships":[{"type":"", "to":""}], "clones":[], "cloneOf":20615, "support":{"headline":"", "supportDescription":"", "publishStatus":"Not Ready", "tickets":[], "customerImpact":{"level":"N/A", "title":""}, "workaround":""}, "tags":["Query Console", "lling"], "changeHistory":[{"time":"2013-01-28T15:11:47.830455-08:00", "updatedBy":{"username":"lling", "name":"Ling Ling", "email":"ling.ling@marklogic.com"}, "change":{"assignTo":{"from":{"username":"lling", "name":"Ling Ling", "email":"ling.ling@marklogic.com"}, "to":{"username":"gvaidees", "name":"Ganesh Vaideeswaran", "email":"Ganesh.Vaideeswaran@marklogic.com"}}}, "files":[], "show":true}, {"time":"2013-01-28T15:27:23.216361-08:00", "updatedBy":{"username":"lling", "name":"Ling Ling", "email":"ling.ling@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"Also in 7.0 when viewed as Text"}, {"time":"2013-01-28T16:40:23.396937-08:00", "updatedBy":{"username":"dsokolsky", "name":"Danny Sokolsky", "email":"dsokolsky@marklogic.com"}, "change":{"tofixin":{"from":"", "to":"7.0-ea1"}}, "files":[], "show":true}, {"time":"2013-01-28T16:53:11.076612-08:00", "updatedBy":{"username":"gvaidees", "name":"Ganesh Vaideeswaran", "email":"Ganesh.Vaideeswaran@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"Scott,\r\n\r\nFeel free to assign to Christophe"}, {"time":"2013-01-28T16:53:11.076612-08:00", "updatedBy":{"username":"gvaidees", "name":"Ganesh Vaideeswaran", "email":"Ganesh.Vaideeswaran@marklogic.com"}, "change":{"assignTo":{"from":{"username":"gvaidees", "name":"Ganesh Vaideeswaran", "email":"Ganesh.Vaideeswaran@marklogic.com"}, "to":{"username":"sbrooks", "name":"Scott Brooks", "email":"Scott.Brooks@marklogic.com"}}}, "files":[], "show":true}, {"time":"2013-01-28T16:54:44.083242-08:00", "updatedBy":{"username":"sbrooks", "name":"Scott Brooks", "email":"Scott.Brooks@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"Sending to Christophe, master of our new parser."}, {"time":"2013-01-28T16:54:44.083242-08:00", "updatedBy":{"username":"sbrooks", "name":"Scott Brooks", "email":"Scott.Brooks@marklogic.com"}, "change":{"assignTo":{"from":{"username":"sbrooks", "name":"Scott Brooks", "email":"Scott.Brooks@marklogic.com"}, "to":{"username":"ctaylor", "name":"Christophe Taylor", "email":"christophe.taylor@marklogic.com"}}}, "files":[], "show":true}, {"time":"2013-02-01T23:55:55.892529-08:00", "updatedBy":{"username":"gvaidees", "name":"Ganesh Vaideeswaran", "email":"Ganesh.Vaideeswaran@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"Can you try this with latest build on 7.0"}, {"time":"2013-02-01T23:55:55.892529-08:00", "updatedBy":{"username":"gvaidees", "name":"Ganesh Vaideeswaran", "email":"Ganesh.Vaideeswaran@marklogic.com"}, "change":{"assignTo":{"from":{"username":"gvaidees", "name":"Ganesh Vaideeswaran", "email":"Ganesh.Vaideeswaran@marklogic.com"}, "to":{"username":"lling", "name":"Ling Ling", "email":"ling.ling@marklogic.com"}}}, "files":[], "show":true}, {"time":"2013-02-27T12:33:52.30773-08:00", "updatedBy":{"username":"msarma", "name":"Meghalim Sarma", "email":"msarma@marklogic.com"}, "change":{"status":{"from":"", "to":"Test"}, "assignTo":{"from":{"username":"msarma", "name":"Meghalim Sarma", "email":"msarma@marklogic.com"}, "to":{"username":"lling", "name":"Ling Ling", "email":"ling.ling@marklogic.com"}}}, "files":[], "show":true, "comment":"It should be fixed as we update code mirror..Please try on latest "}, {"time":"2013-03-05T16:10:32.573353-08:00", "updatedBy":{"username":"lling", "name":"Ling Ling", "email":"ling.ling@marklogic.com"}, "change":{"status":{"from":"", "to":"Fix"}, "assignTo":{"from":{"username":"lling", "name":"Ling Ling", "email":"ling.ling@marklogic.com"}, "to":{"username":"gvaidees", "name":"Ganesh Vaideeswaran", "email":"Ganesh.Vaideeswaran@marklogic.com"}}}, "files":[], "show":true, "comment":"I tried it on 7.0-ea1-20120305, all xml, json and html format works fine, but the text format still doesn't work well."}, {"time":"2013-03-05T16:10:32.573353-08:00", "updatedBy":{"username":"lling", "name":"Ling Ling", "email":"ling.ling@marklogic.com"}, "change":{"assignTo":{"from":{"username":"lling", "name":"Ling Ling", "email":"ling.ling@marklogic.com"}, "to":{"username":"gvaidees", "name":"Ganesh Vaideeswaran", "email":"Ganesh.Vaideeswaran@marklogic.com"}}}, "files":[], "show":true}, {"time":"2013-03-05T16:11:27.704741-08:00", "updatedBy":{"username":"gvaidees", "name":"Ganesh Vaideeswaran", "email":"Ganesh.Vaideeswaran@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"Christophe, Not a must for EA1. But, would be good to take this down"}, {"time":"2013-03-05T16:11:27.704741-08:00", "updatedBy":{"username":"gvaidees", "name":"Ganesh Vaideeswaran", "email":"Ganesh.Vaideeswaran@marklogic.com"}, "change":{"assignTo":{"from":{"username":"gvaidees", "name":"Ganesh Vaideeswaran", "email":"Ganesh.Vaideeswaran@marklogic.com"}, "to":{"username":"ctaylor", "name":"Christophe Taylor", "email":"christophe.taylor@marklogic.com"}}}, "files":[], "show":true}, {"time":"2013-03-06T16:13:45.76392-08:00", "updatedBy":{"username":"sbrooks", "name":"Scott Brooks", "email":"Scott.Brooks@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"Since Christophe is out I decided to look into this issue.  I spoke with Ling Ling and the issue she is seeing in TEXT output is handled by the fix I just put in for: http://bugtrack.marklogic.com/21029  adding the \"word-wrap\" property.\r\n\r\nAfter tossing that CSS change into her inspector, she was able to see her TEXT output just fine, verifying that this bug is fixed in all modes.\r\n"}, {"time":"2013-03-06T16:13:45.76392-08:00", "updatedBy":{"username":"sbrooks", "name":"Scott Brooks", "email":"Scott.Brooks@marklogic.com"}, "change":{"assignTo":{"from":{"username":"sbrooks", "name":"Scott Brooks", "email":"Scott.Brooks@marklogic.com"}, "to":{"username":"sbrooks", "name":"Scott Brooks", "email":"Scott.Brooks@marklogic.com"}}}, "files":[], "show":true}, {"time":"2013-03-06T16:14:38.344496-08:00", "updatedBy":{"username":"sbrooks", "name":"Scott Brooks", "email":"Scott.Brooks@marklogic.com"}, "change":{"status":{"from":"", "to":"Test"}, "assignTo":{"from":{"username":"sbrooks", "name":"Scott Brooks", "email":"Scott.Brooks@marklogic.com"}, "to":{"username":"sreddy", "name":"Sudhakar Reddy", "email":"sreddy@marklogic.com"}}}, "files":[], "show":true, "comment":"Sending off to test!"}, {"time":"2013-03-06T16:14:38.344496-08:00", "updatedBy":{"username":"sbrooks", "name":"Scott Brooks", "email":"Scott.Brooks@marklogic.com"}, "change":{"assignTo":{"from":{"username":"sbrooks", "name":"Scott Brooks", "email":"Scott.Brooks@marklogic.com"}, "to":{"username":"sreddy", "name":"Sudhakar Reddy", "email":"sreddy@marklogic.com"}}}, "files":[], "show":true}, {"time":"2013-03-07T16:30:04.558057-08:00", "updatedBy":{"username":"sreddy", "name":"Sudhakar Reddy", "email":"sreddy@marklogic.com"}, "change":{"assignTo":{"from":{"username":"sreddy", "name":"Sudhakar Reddy", "email":"sreddy@marklogic.com"}, "to":{"username":"lling", "name":"Ling Ling", "email":"ling.ling@marklogic.com"}}}, "files":[], "show":true}, {"time":"2013-03-07T17:20:59.807046-08:00", "updatedBy":{"username":"sbrooks", "name":"Scott Brooks", "email":"Scott.Brooks@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"She'll need to update to the current EA1 in order to see the change."}, {"time":"2013-03-08T11:24:20.916329-08:00", "updatedBy":{"username":"lling", "name":"Ling Ling", "email":"ling.ling@marklogic.com"}, "change":{"status":{"from":"", "to":"Ship"}, "assignTo":{"from":{"username":"lling", "name":"Ling Ling", "email":"ling.ling@marklogic.com"}, "to":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}}}, "files":[], "show":true, "comment":"verified on today's ea1 build. Because it only happens in web browser, no test added to regression. "}, {"time":"2013-03-08T11:24:20.916329-08:00", "updatedBy":{"username":"lling", "name":"Ling Ling", "email":"ling.ling@marklogic.com"}, "change":{"assignTo":{"from":{"username":"lling", "name":"Ling Ling", "email":"ling.ling@marklogic.com"}, "to":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}}}, "files":[], "show":true}], "updatedAt":"2013-03-08T11:24:20.916329-08:00", "fixedAt":"2013-03-06T16:14:38.344496-08:00", "fixedBy":{"username":"sbrooks", "name":"Scott Brooks", "email":"Scott.Brooks@marklogic.com"}, "shippedAt":"2013-03-08T11:24:20.916329-08:00", "shippedBy":{"username":"lling", "name":"Ling Ling", "email":"ling.ling@marklogic.com"}, "renderDescriptionAs":"normal"}