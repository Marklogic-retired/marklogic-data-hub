{"id":20935, "kind":"Task", "createdAt":"2013-02-26T02:55:55.899872-08:00", "status":"Closed", "title":"review replacing older schema introspection techniques with newer schema component API lib", "category":"Common API", "severity":"Minor", "priority":{"level":"5", "title":""}, "days":null, "period":{"startDate":null, "endDate":null}, "submittedBy":{"username":"jfuller", "name":"Jim Fuller", "email":"jim.fuller@marklogic.com"}, "assignTo":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}, "description":"Throughout management API (and perhaps other places) we read schema information ... with new schema component library functions, it may behoove us to review refactoring and replacing older approaches.\r\n\r\ni've started a page here to outline our usage and the capabilites of the current library https://wiki.marklogic.com/display/ENGINEERING/Schema+Component+API\r\n\r\n", "samplequery":"", "sampledata":"", "version":"7.0-nightly", "tofixin":"8.0-1", "fixedin":"N/A", "platform":"all", "memory":"", "processors":"", "note":"", "subscribers":[{"username":"jfuller", "name":"Jim Fuller", "email":"jim.fuller@marklogic.com"}, {"username":"gvaidees", "name":"Ganesh Vaideeswaran", "email":"Ganesh.Vaideeswaran@marklogic.com"}, {"username":"mary", "name":"Mary Holstege", "email":"mary@cerisent.com"}], "attachments":[], "includeInTaskList":false, "proceduralTasks":{"Requirements Task":[], "Functional Specification Task":[], "Test Specification Task":[], "Test Automation Task":[], "Documentation Task":[]}, "subTasks":[], "tags":["Common API", "jfuller"], "changeHistory":[{"time":"2013-02-26T02:55:55.899872-08:00", "updatedBy":{"username":"jfuller", "name":"Jim Fuller", "email":"jim.fuller@marklogic.com"}, "change":{"assignTo":{"from":{"username":"jfuller", "name":"Jim Fuller", "email":"jim.fuller@marklogic.com"}, "to":{"username":"jfuller", "name":"Jim Fuller", "email":"jim.fuller@marklogic.com"}}}, "files":[], "show":true}, {"time":"2013-02-26T07:15:46.968121-08:00", "updatedBy":{"username":"cjl", "name":"Christopher Lindblad", "email":"cjl@cerisent.com"}, "change":{}, "files":[], "show":true, "comment":"In my opinion the current implementation of the Schema Component API is not up to product quality standards.\r\nIf we are going to start using it in product features we need to fix it."}, {"time":"2013-02-26T07:31:27.890855-08:00", "updatedBy":{"username":"jfuller", "name":"Jim Fuller", "email":"jim.fuller@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"some background - Currently this defect is more orientated to vnext of MarkLogic and not 7.\r\n\r\nthat being said I do plan to use a minor aspect of schema component api in v7 to resolve unit information from schema ... \r\n\r\nthe new approach represents a 1-2 magnitude speed up on current approach (which reads schema, walks the tree, etc) eg. reading from whats already in memory is much quicker. \r\n\r\nEvery call on metrics and status  Management API would benefit from this speed up (and greatly simplified code as well).\r\n\r\nplan of action = I will pursue with Mary first then include you (and others) in a broader discussion. Does that seem reasonable next steps ?"}, {"time":"2013-03-01T14:15:55.749526-08:00", "updatedBy":{"username":"jfuller", "name":"Jim Fuller", "email":"jim.fuller@marklogic.com"}, "change":{"status":{"from":"", "to":"New"}, "assignTo":{"from":{"username":"jfuller", "name":"Jim Fuller", "email":"jim.fuller@marklogic.com"}, "to":{"username":"gvaidees", "name":"Ganesh Vaideeswaran", "email":"Ganesh.Vaideeswaran@marklogic.com"}}}, "files":[], "show":true, "comment":"based on update from MaryH, my recc is that for v7 we keep application of schema component very narrow (eg. just to extract units/description from annotations).\r\n\r\nI think this turns into an RFE and punts to vnext, routing to Ganesh for validation that this is appropriate. "}, {"time":"2013-03-01T14:15:55.749526-08:00", "updatedBy":{"username":"jfuller", "name":"Jim Fuller", "email":"jim.fuller@marklogic.com"}, "change":{"assignTo":{"from":{"username":"jfuller", "name":"Jim Fuller", "email":"jim.fuller@marklogic.com"}, "to":{"username":"gvaidees", "name":"Ganesh Vaideeswaran", "email":"Ganesh.Vaideeswaran@marklogic.com"}}}, "files":[], "show":true}, {"time":"2013-03-01T14:15:55.749526-08:00", "updatedBy":{"username":"jfuller", "name":"Jim Fuller", "email":"jim.fuller@marklogic.com"}, "change":{"tofixin":{"from":"7.0-1", "to":"8.0-1"}}, "files":[], "show":true}, {"time":"2013-03-01T14:17:52.182846-08:00", "updatedBy":{"username":"gvaidees", "name":"Ganesh Vaideeswaran", "email":"Ganesh.Vaideeswaran@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"If Mary is OK with this, I am fine with this approach. "}, {"time":"2013-03-01T14:21:10.814315-08:00", "updatedBy":{"username":"jfuller", "name":"Jim Fuller", "email":"jim.fuller@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"Mary confirmed (after discussion with CBL)  that she will be (and already has) upgraded sc:* funcs  ... this means for our current usage for dowsing units from schema are fine. \r\n\r\nthough, I think what I would like to avoid for v7 is consideration of using any more schema component functions, which this defect is concerned with eg. I think we need to analyze more the impact of such refactors with broader application in vnext."}, {"time":"2013-04-05T13:36:04.006212-07:00", "updatedBy":{"username":"dsokolsky", "name":"Danny Sokolsky", "email":"dsokolsky@marklogic.com"}, "change":{"status":{"from":"", "to":"Verify"}, "assignTo":{"from":{"username":"dsokolsky", "name":"Danny Sokolsky", "email":"dsokolsky@marklogic.com"}, "to":{"username":"gvaidees", "name":"Ganesh Vaideeswaran", "email":"Ganesh.Vaideeswaran@marklogic.com"}}}, "files":[], "show":true}, {"time":"2013-04-05T14:20:21.178974-07:00", "updatedBy":{"username":"jfuller", "name":"Jim Fuller", "email":"jim.fuller@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"Note, this has been done and integrated into trunk a few weeks ago."}, {"time":"2013-12-12T16:43:28.042684-08:00", "updatedBy":{"username":"gvaidees", "name":"Ganesh Vaideeswaran", "email":"Ganesh.Vaideeswaran@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"Colleen,\r\n\r\nNot sure whom to assign this to you. Sending your way for disposal. Thx"}, {"time":"2013-12-12T16:43:28.042684-08:00", "updatedBy":{"username":"gvaidees", "name":"Ganesh Vaideeswaran", "email":"Ganesh.Vaideeswaran@marklogic.com"}, "change":{"assignTo":{"from":{"username":"gvaidees", "name":"Ganesh Vaideeswaran", "email":"Ganesh.Vaideeswaran@marklogic.com"}, "to":{"username":"cwhitney", "name":"Colleen  Whitney", "email":"colleen.whitney@marklogic.com"}}}, "files":[], "show":true}, {"time":"2014-05-09T14:25:46.044553-07:00", "updatedBy":{"username":"cwhitney", "name":"Colleen  Whitney", "email":"colleen.whitney@marklogic.com"}, "change":{"status":{"from":null, "to":"Closed"}, "assignTo":{"from":{"username":"cwhitney", "name":"Colleen  Whitney", "email":"colleen.whitney@marklogic.com"}, "to":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}}}, "files":[], "show":true, "comment":"I'm going to close this, I don't think there's any action to take here."}], "updatedAt":"2014-05-09T14:25:46.044553-07:00", "closedAt":"2014-05-09T14:25:46.044553-07:00", "closedBy":{"username":"cwhitney", "name":"Colleen  Whitney", "email":"colleen.whitney@marklogic.com"}}