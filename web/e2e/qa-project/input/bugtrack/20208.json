{"id":20208, "kind":"Bug", "createdAt":"2012-12-04T16:05:23.517093-08:00", "status":"Closed", "title":"App server request stack traces no longer work in 5.0-4", "category":"Debug API", "severity":"Critical", "priority":{"level":"5", "title":""}, "submittedBy":{"username":"fsalonga", "name":"Frank Salonga", "email":"franklin.salonga@marklogic.com"}, "assignTo":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}, "description":"from this case: https://help.marklogic.com/staff/Tickets/Ticket/View/12169\r\n\r\nIf you submit a long running query into CQ/QC, then go to the Status page for the corresponding App Server in the Admin UI, you'll see the request with a \"[stack]\" link that should provide you with stack information. That works in 4.2-9.2, but fails in 5.0-4 and 6.0-1.1/6.0-2 with the following message:\r\n\r\n500:Internal Server Error\r\nDBG:NODEBUGGER: dbg:attach(xs:unsignedLong(\"40301...\")) -- Request not being debugged: 40301...\r\nIn /request-stack.xqy on line 245\r\n", "samplequery":"", "sampledata":"", "version":"6.0-2", "tofixin":"6.0-3", "fixedin":"6.0-3", "platform":"linux(64-bit)", "memory":"", "processors":"", "note":"", "subscribers":[{"username":"fsalonga", "name":"Frank Salonga", "email":"franklin.salonga@marklogic.com"}, {"username":"ali", "name":"Aries Li", "email":"ali@marklogic.com"}, {"username":"bmo", "name":"Brian Mo", "email":"brian.mo@marklogic.com"}, {"username":"rpolasani", "name":"Raghu Polasani", "email":"raghu.polasani@marklogic.com"}], "attachments":[], "relationships":[{"type":"", "to":""}], "clones":[], "cloneOf":20189, "support":{"headline":"Application server request stack trace regression in 6.0-2", "supportDescription":"If you try to obtain a stack trace for a long running query, via the Admin UI Application Server's Status page, an:Internal Server Error \"DBG:NODEBUGGER ... -- Request not being debugged\" error will be returned.\r\n", "publishStatus":"Publish", "tickets":[], "customerImpact":{"level":"High", "title":"Significant business impact with no reasonable workaround"}, "workaround":""}, "tags":["Debug API", "fsalonga"], "changeHistory":[{"time":"2012-12-05T10:26:13.98051-08:00", "updatedBy":{"username":"gvaidees", "name":"Ganesh Vaideeswaran", "email":"Ganesh.Vaideeswaran@marklogic.com"}, "change":{"assignTo":{"from":{"username":"gvaidees", "name":"Ganesh Vaideeswaran", "email":"Ganesh.Vaideeswaran@marklogic.com"}, "to":{"username":"bmo", "name":"Brian Mo", "email":"brian.mo@marklogic.com"}}}, "files":[], "show":true}, {"time":"2012-12-05T10:26:13.98051-08:00", "updatedBy":{"username":"gvaidees", "name":"Ganesh Vaideeswaran", "email":"Ganesh.Vaideeswaran@marklogic.com"}, "change":{"tofixin":{"from":"", "to":"5.0-5"}}, "files":[], "show":true}, {"time":"2012-12-06T07:39:38.148399-08:00", "updatedBy":{"username":"cjl", "name":"Christopher Lindblad", "email":"cjl@cerisent.com"}, "change":{"tofixin":{"from":"", "to":"6.0-3"}}, "files":[], "show":true}, {"time":"2012-12-28T13:49:53.427886-08:00", "updatedBy":{"username":"ali", "name":"Aries Li", "email":"ali@marklogic.com"}, "change":{"status":{"from":"", "to":"Fix"}, "assignTo":{"from":{"username":"ali", "name":"Aries Li", "email":"ali@marklogic.com"}, "to":{"username":"ali", "name":"Aries Li", "email":"ali@marklogic.com"}}}, "files":[], "show":true}, {"time":"2012-12-28T13:49:53.427886-08:00", "updatedBy":{"username":"ali", "name":"Aries Li", "email":"ali@marklogic.com"}, "change":{"assignTo":{"from":{"username":"ali", "name":"Aries Li", "email":"ali@marklogic.com"}, "to":{"username":"ali", "name":"Aries Li", "email":"ali@marklogic.com"}}}, "files":[], "show":true}, {"time":"2012-12-28T14:28:36.476349-08:00", "updatedBy":{"username":"ali", "name":"Aries Li", "email":"ali@marklogic.com"}, "change":{}, "files":[], "show":true, "svn":{"repository":"/project/engsvn", "revision":"125838", "paths":["xdmp/branches/b6_0/src/Debug.cpp"], "affectedBugs":[]}, "comment":"Bug:20208\ndbg_attach creates a new debugger if there isn't an existing one"}, {"time":"2012-12-28T16:15:20.09528-08:00", "updatedBy":{"username":"ali", "name":"Aries Li", "email":"ali@marklogic.com"}, "change":{}, "files":[], "show":true, "svn":{"repository":"/project/engsvn", "revision":"125844", "paths":["xdmp/trunk/src/Debug.cpp"], "affectedBugs":[]}, "comment":"Bug:20208\ndbg_attach creates a new debugger if there isn't an existing one"}, {"time":"2012-12-28T16:16:50.130171-08:00", "updatedBy":{"username":"ali", "name":"Aries Li", "email":"ali@marklogic.com"}, "change":{"status":{"from":"", "to":"Test"}, "assignTo":{"from":{"username":"ali", "name":"Aries Li", "email":"ali@marklogic.com"}, "to":{"username":"rpolasani", "name":"Raghu Polasani", "email":"raghu.polasani@marklogic.com"}}}, "files":[], "show":true, "comment":"Clicking \"[stack]\" link should provide stack information now.\r\nPlease also test to see if there is any other regression."}, {"time":"2012-12-28T16:16:50.130171-08:00", "updatedBy":{"username":"ali", "name":"Aries Li", "email":"ali@marklogic.com"}, "change":{"assignTo":{"from":{"username":"ali", "name":"Aries Li", "email":"ali@marklogic.com"}, "to":{"username":"rpolasani", "name":"Raghu Polasani", "email":"raghu.polasani@marklogic.com"}}}, "files":[], "show":true}, {"time":"2013-01-23T17:31:22.81826-08:00", "updatedBy":{"username":"lling", "name":"Ling Ling", "email":"ling.ling@marklogic.com"}, "change":{"assignTo":{"from":{"username":"lling", "name":"Ling Ling", "email":"ling.ling@marklogic.com"}, "to":{"username":"aabbas", "name":"Adeel Abbas", "email":"Adeel.Abbas@marklogic.com"}}}, "files":[], "show":true}, {"time":"2013-01-25T05:03:53.997894-08:00", "updatedBy":{"username":"aabbas", "name":"Adeel Abbas", "email":"Adeel.Abbas@marklogic.com"}, "change":{"status":{"from":"", "to":"Ship"}, "assignTo":{"from":{"username":"aabbas", "name":"Adeel Abbas", "email":"Adeel.Abbas@marklogic.com"}, "to":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}}}, "files":[], "show":true, "comment":"added test AdminUIBug20189 in 6.0"}, {"time":"2013-04-22T16:25:17.822992-07:00", "updatedBy":{"username":"rpelton", "name":"Rick Pelton", "email":"rick.pelton@marklogic.com"}, "change":{"status":{"from":"", "to":"Closed"}, "assignTo":{"from":{"username":"rpelton", "name":"Rick Pelton", "email":"rick.pelton@marklogic.com"}, "to":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}}}, "files":[], "show":true}], "updatedAt":"2013-04-22T16:25:17.822992-07:00", "fixedAt":"2012-12-28T16:16:50.130171-08:00", "fixedBy":{"username":"ali", "name":"Aries Li", "email":"ali@marklogic.com"}, "shippedAt":"2013-01-25T05:03:53.997894-08:00", "shippedBy":{"username":"aabbas", "name":"Adeel Abbas", "email":"Adeel.Abbas@marklogic.com"}, "closedAt":"2013-04-22T16:25:17.822992-07:00", "closedBy":{"username":"rpelton", "name":"Rick Pelton", "email":"rick.pelton@marklogic.com"}, "renderDescriptionAs":"normal"}