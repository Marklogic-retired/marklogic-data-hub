{"id":20925, "kind":"Bug", "createdAt":"2013-02-25T15:55:16.714014-08:00", "status":"Closed", "title":"Packaging REST API should not mention of html as a supported type in error messages as it is not a supported format", "category":"Config Management", "severity":"Major", "priority":{"level":"5", "title":""}, "submittedBy":{"username":"msarma", "name":"Meghalim Sarma", "email":"msarma@marklogic.com"}, "assignTo":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}, "description":"build used: 0225 7.0-ea1\r\n\r\nWhen you mention a invalid format (ex: foo) for Packaging rest API, it gives an error message saying \"Invalid type: invalid is not one of xml|json|html\". Error message should not mention html as html is not a supported format.\r\n\r\n\r\nSteps to recreate:\r\n1. Run the following query\r\nxquery version \"1.0-ml\";\r\nlet $response := xdmp:http-get(\"http://localhost:8002/manage/v1/databases/Documents/package?format=invalid\",\r\n     <options xmlns=\"xdmp:http\">\r\n       <authentication method=\"digest\">\r\n         <username>manage</username>\r\n         <password>manage</password>\r\n       </authentication>\r\n     </options>)\r\n     \r\n     return $response[2]\r\n\r\nAnd you will see the error message.", "samplequery":"", "sampledata":"", "version":"7.0-nightly", "tofixin":"7.0-ea3", "fixedin":"7.0-ea3", "platform":"all", "memory":"", "processors":"", "note":"", "subscribers":[{"username":"msarma", "name":"Meghalim Sarma", "email":"msarma@marklogic.com"}, {"username":"nwalsh", "name":"Norman Walsh", "email":"norman.walsh@marklogic.com"}], "attachments":[], "relationships":[{"type":"", "to":""}], "clones":[], "cloneOf":"", "support":{"headline":"", "supportDescription":"", "publishStatus":"Not Ready", "tickets":[], "customerImpact":{"level":"N/A", "title":""}, "workaround":""}, "tags":["Config Management", "msarma"], "changeHistory":[{"time":"2013-02-25T15:55:16.714014-08:00", "updatedBy":{"username":"msarma", "name":"Meghalim Sarma", "email":"msarma@marklogic.com"}, "change":{"assignTo":{"from":{"username":"msarma", "name":"Meghalim Sarma", "email":"msarma@marklogic.com"}, "to":{"username":"nwalsh", "name":"Norman Walsh", "email":"norman.walsh@marklogic.com"}}}, "files":[], "show":true}, {"time":"2013-04-23T11:42:59.406039-07:00", "updatedBy":{"username":"nwalsh", "name":"Norman Walsh", "email":"norman.walsh@marklogic.com"}, "change":{"tofixin":{"from":"7.0-ea2", "to":"7.0-ea3"}}, "files":[], "show":true}, {"time":"2013-05-22T08:17:31.346836-07:00", "updatedBy":{"username":"nwalsh", "name":"Norman Walsh", "email":"norman.walsh@marklogic.com"}, "change":{"status":{"from":"", "to":"Test"}, "assignTo":{"from":{"username":"nwalsh", "name":"Norman Walsh", "email":"norman.walsh@marklogic.com"}, "to":{"username":"msarma", "name":"Meghalim Sarma", "email":"msarma@marklogic.com"}}}, "files":[], "show":true, "comment":"It turns out that the general conversion functionality of the management API means that *html* does work. I've updated the funcspec accordingly."}, {"time":"2013-05-22T08:17:31.346836-07:00", "updatedBy":{"username":"nwalsh", "name":"Norman Walsh", "email":"norman.walsh@marklogic.com"}, "change":{"assignTo":{"from":{"username":"nwalsh", "name":"Norman Walsh", "email":"norman.walsh@marklogic.com"}, "to":{"username":"msarma", "name":"Meghalim Sarma", "email":"msarma@marklogic.com"}}}, "files":[], "show":true}, {"time":"2013-05-28T14:47:21.852499-07:00", "updatedBy":{"username":"msarma", "name":"Meghalim Sarma", "email":"msarma@marklogic.com"}, "change":{"status":{"from":"", "to":"Ship"}, "assignTo":{"from":{"username":"msarma", "name":"Meghalim Sarma", "email":"msarma@marklogic.com"}, "to":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}}}, "files":[], "show":true}, {"time":"2013-05-28T14:47:21.852499-07:00", "updatedBy":{"username":"msarma", "name":"Meghalim Sarma", "email":"msarma@marklogic.com"}, "change":{"assignTo":{"from":{"username":"msarma", "name":"Meghalim Sarma", "email":"msarma@marklogic.com"}, "to":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}}}, "files":[], "show":true}], "updatedAt":"2013-05-28T14:47:21.852499-07:00", "fixedAt":"2013-05-22T08:17:31.346836-07:00", "fixedBy":{"username":"nwalsh", "name":"Norman Walsh", "email":"norman.walsh@marklogic.com"}, "shippedAt":"2013-05-28T14:47:21.852499-07:00", "shippedBy":{"username":"msarma", "name":"Meghalim Sarma", "email":"msarma@marklogic.com"}, "renderDescriptionAs":"normal"}