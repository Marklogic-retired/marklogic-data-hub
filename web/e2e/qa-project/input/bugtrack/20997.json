{"id":20997, "kind":"Bug", "createdAt":"2013-03-01T16:45:47.479895-08:00", "status":"Closed", "title":"REGR:BuiltApp: Pie chart configured with UnsignedInt datatype does not render properly", "category":"App Builder", "severity":"Major", "priority":{"level":"5", "title":""}, "submittedBy":{"username":"sreddy", "name":"Sudhakar Reddy", "email":"sreddy@marklogic.com"}, "assignTo":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}, "description":"Deploy app with Pie chart configured with 'unsignedint' constraint\r\nPie chart looks weird . see screenshot. It appears same on all browsers", "samplequery":"Query to setup dataset:\r\n for $i in 1 to 9\r\nreturn\r\nxdmp:document-insert(concat(\"doc-\",$i,\".xml\"),\r\n<AllDataTypes>\r\n    <int>{$i}</int>\r\n    <unsignedInt>{$i}</unsignedInt>\r\n    <date>{concat(\"2001-01-0\",$i)}</date>\r\n    <float>{concat($i,$i,$i,\".\",$i,$i)}</float>\r\n    <decimal>{concat($i,$i,\".\",$i,$i)}</decimal>\r\n    <long>{concat($i,$i,$i,$i,$i)}</long>\r\n    <unsignedLong>{concat($i,$i,$i,$i,$i)}</unsignedLong>\r\n    <double>{concat($i,$i,$i,$i)}</double>\r\n    <time>{concat(\"0\",$i,\":\",\"0\",$i,\":\",\"0\",$i)}</time>\r\n    <ateTime>{concat(\"2001-01-0\",$i,\"T01:01:01\")}</dateTime>\r\n    <gYear>{concat(\"200\",$i)}</gYear>\r\n    <gYearMonth>{concat(\"2001-0\",$i)}</gYearMonth>\r\n    <gMonth>{concat(\"--0\",$i)}</gMonth>\r\n    <gDay>{concat(\"---0\",$i)}</gDay>\r\n    <yearMonthDuration>{concat(\"P\",$i,\"Y\",$i,\"M\")}</yearMonthDuration>\r\n    <dayTimeDuration>{concat(\"P\",$i,\"DT\",$i,\"H\")}</dayTimeDuration>\r\n    <anyURI>{concat(\"anyURI\",$i)}</anyURI>\r\n    <string>{concat(\"string\",$i)}</string>\r\n</AllDataTypes>, xdmp:permission('app-user', 'read'), (), ())\r\n  \r\nCreate a element range index for \"unsignedint\"", "sampledata":"", "version":"7.0-nightly", "tofixin":"7.0-ea1", "fixedin":"N/A", "platform":"all", "memory":"", "processors":"", "note":"", "subscribers":[{"username":"sreddy", "name":"Sudhakar Reddy", "email":"sreddy@marklogic.com"}, {"username":"gvaidees", "name":"Ganesh Vaideeswaran", "email":"Ganesh.Vaideeswaran@marklogic.com"}, {"username":"ehennum", "name":"Erik Hennum", "email":"erik.hennum@marklogic.com"}], "attachments":[{"name":"unsignedint-piechart.JPG", "uri":"root/support/bugtracking/attachments/20997/unsignedint-piechart.JPG"}, {"name":"unsignedint-charts.JPG", "uri":"root/support/bugtracking/attachments/20997/unsignedint-charts.JPG"}], "relationships":[{"type":"", "to":""}], "clones":[], "cloneOf":"", "support":{"headline":"", "supportDescription":"", "publishStatus":"Not Ready", "tickets":[], "customerImpact":{"level":"N/A", "title":""}, "workaround":""}, "tags":["App Builder", "sreddy"], "changeHistory":[{"time":"2013-03-01T16:45:47.479895-08:00", "updatedBy":{"username":"sreddy", "name":"Sudhakar Reddy", "email":"sreddy@marklogic.com"}, "change":{"assignTo":{"from":{"username":"sreddy", "name":"Sudhakar Reddy", "email":"sreddy@marklogic.com"}, "to":{"username":"gvaidees", "name":"Ganesh Vaideeswaran", "email":"Ganesh.Vaideeswaran@marklogic.com"}}}, "files":[], "show":true}, {"time":"2013-03-01T16:51:38.101579-08:00", "updatedBy":{"username":"gvaidees", "name":"Ganesh Vaideeswaran", "email":"Ganesh.Vaideeswaran@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"Please treat this as high priority."}, {"time":"2013-03-01T16:59:03.948803-08:00", "updatedBy":{"username":"sreddy", "name":"Sudhakar Reddy", "email":"sreddy@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"I think the improper rendering has to do with the values for being plotted.\r\nThe values the chart is plotting are all unsignedInt except for one value which coming as \"true\" instead of integer 1. No documents in the dataset has \"true\" for unsignedInt element or any element for that matter.\r\nAttached screenshot shows bar/column/line charts - all of them have one of the values as \"true\" even though data set does not have that value"}, {"time":"2013-03-01T17:11:14.844187-08:00", "updatedBy":{"username":"gvaidees", "name":"Ganesh Vaideeswaran", "email":"Ganesh.Vaideeswaran@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"This could be back end related issue"}, {"time":"2013-03-03T00:11:32.615669-08:00", "updatedBy":{"username":"gvaidees", "name":"Ganesh Vaideeswaran", "email":"Ganesh.Vaideeswaran@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"Sudhakar, Are you sure this worked in 6.0 the same way? I am seeing that when the value of the element is 1, backend returns a value of true which causing issues. I need confirmation that this worked correctly in 6.0\r\n\r\nIf it did, this could be a Search API or server issue"}, {"time":"2013-03-03T00:24:07.79327-08:00", "updatedBy":{"username":"sreddy", "name":"Sudhakar Reddy", "email":"sreddy@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"This bug was caught by the regression test. I'm pretty sure that this issue did not exist when I automated it."}, {"time":"2013-03-04T09:55:09.602254-08:00", "updatedBy":{"username":"gvaidees", "name":"Ganesh Vaideeswaran", "email":"Ganesh.Vaideeswaran@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"Erik & Charles are looking at this issue"}, {"time":"2013-03-04T10:10:48.150567-08:00", "updatedBy":{"username":"ehennum", "name":"Erik Hennum", "email":"erik.hennum@marklogic.com"}, "change":{"status":{"from":"", "to":"Fix"}, "assignTo":{"from":{"username":"ehennum", "name":"Erik Hennum", "email":"erik.hennum@marklogic.com"}, "to":{"username":"ehennum", "name":"Erik Hennum", "email":"erik.hennum@marklogic.com"}}}, "files":[], "show":true, "comment":"A change for QBE blew up search response - same root cause as 20996."}, {"time":"2013-03-04T10:10:48.150567-08:00", "updatedBy":{"username":"ehennum", "name":"Erik Hennum", "email":"erik.hennum@marklogic.com"}, "change":{"assignTo":{"from":{"username":"ehennum", "name":"Erik Hennum", "email":"erik.hennum@marklogic.com"}, "to":{"username":"ehennum", "name":"Erik Hennum", "email":"erik.hennum@marklogic.com"}}}, "files":[], "show":true}, {"time":"2013-03-04T10:14:08.69676-08:00", "updatedBy":{"username":"ehennum", "name":"Erik Hennum", "email":"erik.hennum@marklogic.com"}, "change":{"status":{"from":"", "to":"Closed"}, "assignTo":{"from":{"username":"ehennum", "name":"Erik Hennum", "email":"erik.hennum@marklogic.com"}, "to":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}}}, "files":[], "show":true, "comment":"duplicate of 20996"}, {"time":"2013-03-04T10:14:08.69676-08:00", "updatedBy":{"username":"ehennum", "name":"Erik Hennum", "email":"erik.hennum@marklogic.com"}, "change":{"assignTo":{"from":{"username":"ehennum", "name":"Erik Hennum", "email":"erik.hennum@marklogic.com"}, "to":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}}}, "files":[], "show":true}], "updatedAt":"2013-03-04T10:14:08.69676-08:00", "closedAt":"2013-03-04T10:14:08.69676-08:00", "closedBy":{"username":"ehennum", "name":"Erik Hennum", "email":"erik.hennum@marklogic.com"}, "renderDescriptionAs":"normal", "renderSampleQueryAs":"normal"}