{"id":20351, "kind":"Bug", "createdAt":"2012-12-28T12:41:00.611217-08:00", "status":"Closed", "title":"QConsole - Output views show previous successful output even after erroring out in the next query execution attempt", "category":"Query Console", "severity":"Minor", "priority":{"level":"5", "title":""}, "submittedBy":{"username":"sreddy", "name":"Sudhakar Reddy", "email":"sreddy@marklogic.com"}, "assignTo":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}, "description":"This may or may not be a bug.\r\n\r\nSteps to repro:\r\n1. Run default query \r\n2. All output views show hello world output as expected\r\n3. Now make a deliberate syntax error in the query\r\n4. Select any view and run the query\r\n5. The error is thrown as expected in the current view\r\n6. But when switched to other views they still show hello world output from previous query\r\n\r\nExpected - The current behavior may be misleading because when switched to different view after encountering an error it would appear as if the switched view executes the query without erroring. \r\nAfter encountering error in any view, other views should probably display that execution encountered error or something more UX friendly\r\n", "samplequery":"", "sampledata":"", "version":"7.0-nightly", "tofixin":"7.0-1", "fixedin":"7.0-1", "platform":"all", "memory":"", "processors":"", "note":"", "subscribers":[{"username":"sreddy", "name":"Sudhakar Reddy", "email":"sreddy@marklogic.com"}, {"username":"myawitz", "name":"Mitch Yawitz", "email":"mitchell.yawitz@marklogic.com"}, {"username":"sbrooks", "name":"Scott Brooks", "email":"Scott.Brooks@marklogic.com"}], "attachments":[], "relationships":[{"type":"", "to":""}], "clones":[], "cloneOf":"", "support":{"headline":"", "supportDescription":"", "publishStatus":"Never Publish", "tickets":[], "customerImpact":{"level":"N/A", "title":""}, "workaround":""}, "tags":["Query Console", "sreddy"], "changeHistory":[{"time":"2012-12-28T12:41:00.611217-08:00", "updatedBy":{"username":"sreddy", "name":"Sudhakar Reddy", "email":"sreddy@marklogic.com"}, "change":{"assignTo":{"from":{"username":"sreddy", "name":"Sudhakar Reddy", "email":"sreddy@marklogic.com"}, "to":{"username":"myawitz", "name":"Mitch Yawitz", "email":"mitchell.yawitz@marklogic.com"}}}, "files":[], "show":true}, {"time":"2012-12-28T12:41:48.398976-08:00", "updatedBy":{"username":"sreddy", "name":"Sudhakar Reddy", "email":"sreddy@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"Mitch - Could you please confirm the correct UX for this usecase"}, {"time":"2012-12-28T13:40:22.250278-08:00", "updatedBy":{"username":"myawitz", "name":"Mitch Yawitz", "email":"mitchell.yawitz@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"As per the wireframes. the result and profile panes should be cleared when the Run button is clicked, but not when the active tab is changed. Changing view modes doesn't change the tab, and all modes should be treated as views on the same result, so all views of the result pane should show the equivalent result in the selected format. I assume there is no \"format\" for an error message, so it should be shown as-is in all format views.\r\n"}, {"time":"2012-12-28T13:40:22.250278-08:00", "updatedBy":{"username":"myawitz", "name":"Mitch Yawitz", "email":"mitchell.yawitz@marklogic.com"}, "change":{"assignTo":{"from":{"username":"myawitz", "name":"Mitch Yawitz", "email":"mitchell.yawitz@marklogic.com"}, "to":{"username":"sreddy", "name":"Sudhakar Reddy", "email":"sreddy@marklogic.com"}}}, "files":[], "show":true}, {"time":"2012-12-28T13:57:45.524611-08:00", "updatedBy":{"username":"sreddy", "name":"Sudhakar Reddy", "email":"sreddy@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"Mitch,\r\nIf I understand correctly, you agree that its a bug, am i right?\r\nThis use case a little tricky because the syntax or server exceptions are returned from the server. I'm not sure if there is a way to store the returned exception and show in all view modes. \r\nOtherwise, for the error to persist in other view, query has to executed in the switched view which is against UX we have in place currently\r\n\r\nScott - you have any opinion on this use case?"}, {"time":"2012-12-28T14:16:10.950969-08:00", "updatedBy":{"username":"myawitz", "name":"Mitch Yawitz", "email":"mitchell.yawitz@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"Yes, it's a bug.\r\n\r\nAs I understand it, the query is not re-run when switching view modes--it's just re-displayed (but reformatted) based on the same result that was initially returned. If an error is returned, it too should just be re-displayed in each tab (reformatted as needed, but probably not needed for this case)."}, {"time":"2012-12-28T14:19:51.326673-08:00", "updatedBy":{"username":"sreddy", "name":"Sudhakar Reddy", "email":"sreddy@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"Thanks Mitch.\r\nAssigning to Scotty!"}, {"time":"2012-12-28T14:19:51.326673-08:00", "updatedBy":{"username":"sreddy", "name":"Sudhakar Reddy", "email":"sreddy@marklogic.com"}, "change":{"assignTo":{"from":{"username":"sreddy", "name":"Sudhakar Reddy", "email":"sreddy@marklogic.com"}, "to":{"username":"sbrooks", "name":"Scott Brooks", "email":"Scott.Brooks@marklogic.com"}}}, "files":[], "show":true}, {"time":"2012-12-28T14:46:25.817508-08:00", "updatedBy":{"username":"sbrooks", "name":"Scott Brooks", "email":"Scott.Brooks@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"woo hoo!  :)"}, {"time":"2013-01-21T16:20:26.333496-08:00", "updatedBy":{"username":"sbrooks", "name":"Scott Brooks", "email":"Scott.Brooks@marklogic.com"}, "change":{}, "files":[], "show":true, "svn":{"repository":"/project/engsvn", "revision":"128625", "paths":["xdmp/trunk/src/Apps/qconsole/static/js/qconsole.js"], "affectedBugs":[]}, "comment":"Bug:20351 - fixed error output display on switching between output modes."}, {"time":"2013-01-21T16:20:37.121475-08:00", "updatedBy":{"username":"sbrooks", "name":"Scott Brooks", "email":"Scott.Brooks@marklogic.com"}, "change":{"status":{"from":"", "to":"Test"}, "assignTo":{"from":{"username":"sbrooks", "name":"Scott Brooks", "email":"Scott.Brooks@marklogic.com"}, "to":{"username":"sreddy", "name":"Sudhakar Reddy", "email":"sreddy@marklogic.com"}}}, "files":[], "show":true, "comment":"sending to test."}, {"time":"2013-01-21T16:20:37.121475-08:00", "updatedBy":{"username":"sbrooks", "name":"Scott Brooks", "email":"Scott.Brooks@marklogic.com"}, "change":{"assignTo":{"from":{"username":"sbrooks", "name":"Scott Brooks", "email":"Scott.Brooks@marklogic.com"}, "to":{"username":"sreddy", "name":"Sudhakar Reddy", "email":"sreddy@marklogic.com"}}}, "files":[], "show":true}, {"time":"2013-02-26T15:47:25.182215-08:00", "updatedBy":{"username":"msarma", "name":"Meghalim Sarma", "email":"msarma@marklogic.com"}, "change":{"assignTo":{"from":{"username":"msarma", "name":"Meghalim Sarma", "email":"msarma@marklogic.com"}, "to":{"username":"aabbas", "name":"Adeel Abbas", "email":"Adeel.Abbas@marklogic.com"}}}, "files":[], "show":true}, {"time":"2013-02-28T03:30:32.055986-08:00", "updatedBy":{"username":"aabbas", "name":"Adeel Abbas", "email":"Adeel.Abbas@marklogic.com"}, "change":{"status":{"from":"", "to":"Ship"}, "assignTo":{"from":{"username":"aabbas", "name":"Adeel Abbas", "email":"Adeel.Abbas@marklogic.com"}, "to":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}}}, "files":[], "show":true, "comment":"working fine, Verified in build 20130227, Hence shipped"}], "updatedAt":"2013-02-28T03:30:32.055986-08:00", "fixedAt":"2013-01-21T16:20:37.121475-08:00", "fixedBy":{"username":"sbrooks", "name":"Scott Brooks", "email":"Scott.Brooks@marklogic.com"}, "shippedAt":"2013-02-28T03:30:32.055986-08:00", "shippedBy":{"username":"aabbas", "name":"Adeel Abbas", "email":"Adeel.Abbas@marklogic.com"}, "renderDescriptionAs":"normal"}