{"id":20740, "kind":"Bug", "createdAt":"2013-02-07T17:12:18.489701-08:00", "status":"Closed", "title":"Intermittent crash in SPARQL.cpp", "category":"xdmp", "severity":"Major", "priority":{"level":"5", "title":""}, "submittedBy":{"username":"mdubinko", "name":"Micah  Dubinko", "email":"mdubinko@marklogic.com"}, "assignTo":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}, "description":"I could not reliably reproduce this...it happened less than one time in 10.\r\n\r\nAssertion failed: (object.notNull()), function TripleVal, file SPARQL.cpp, line 7476.\r\nOperation was loading a ntriples files via graph store API POST.\r\n\r\nThe environment was:\r\nREST API instance established on port 8005\r\n\r\nIssuing the following command line:\r\ncurl  -X POST --anyauth --user admin:admin -d @kennedy.ntriples -H \"Content-type:text/json\"  \"http://localhost:8005/v1/graph?default\"\r\n\r\n(The exact syntax here is changing rapidly...in particular, the workaround content-type of text/json will be different soon.) The underlying code that executes is basically\r\n    semi:insert-triples($graph,$triples,map:map())\r\nwhere semi: is from semantics/sem-impl.xqy", "samplequery":"", "sampledata":"", "version":"7.0-nightly", "tofixin":"7.0-ea2", "fixedin":"7.0-ea2", "platform":"all", "memory":"", "processors":"", "note":"", "subscribers":[{"username":"mdubinko", "name":"Micah  Dubinko", "email":"mdubinko@marklogic.com"}, {"username":"jsnelson", "name":"John Snelson", "email":"jsnelson@marklogic.com"}, {"username":"rpolasani", "name":"Raghu Polasani", "email":"raghu.polasani@marklogic.com"}, {"username":"lling", "name":"Ling Ling", "email":"ling.ling@marklogic.com"}], "attachments":[{"name":"Data file used when the bug exhibited", "uri":"root/support/bugtracking/attachments/20740/kennedy.ntriples"}], "relationships":[{"type":"", "to":""}], "clones":[], "cloneOf":"", "support":{"headline":"", "supportDescription":"", "publishStatus":"Not Ready", "tickets":[], "customerImpact":{"level":"N/A", "title":""}, "workaround":""}, "tags":["xdmp", "mdubinko"], "changeHistory":[{"time":"2013-02-07T17:12:18.489701-08:00", "updatedBy":{"username":"mdubinko", "name":"Micah  Dubinko", "email":"mdubinko@marklogic.com"}, "change":{"assignTo":{"from":{"username":"mdubinko", "name":"Micah  Dubinko", "email":"mdubinko@marklogic.com"}, "to":{"username":"jsnelson", "name":"John Snelson", "email":"jsnelson@marklogic.com"}}}, "files":[], "show":true}, {"time":"2013-02-07T23:46:37.009147-08:00", "updatedBy":{"username":"jsnelson", "name":"John Snelson", "email":"jsnelson@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"I don't understand why that would only happen sometimes. This is probably data dependant - can you attach an RDF file that reproduces the error?"}, {"time":"2013-02-08T10:17:49.932736-08:00", "updatedBy":{"username":"mdubinko", "name":"Micah  Dubinko", "email":"mdubinko@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"Kennedy.ntriples attached"}, {"time":"2013-02-11T07:58:53.233469-08:00", "updatedBy":{"username":"jsnelson", "name":"John Snelson", "email":"jsnelson@marklogic.com"}, "change":{}, "files":[], "show":true, "svn":{"repository":"/project/engsvn", "revision":"131271", "paths":["xdmp/trunk/src/SPARQLParser.cpp"], "affectedBugs":[]}, "comment":"bug:20740 Check for bad triples and skip them"}, {"time":"2013-02-12T10:43:25.713697-08:00", "updatedBy":{"username":"dsokolsky", "name":"Danny Sokolsky", "email":"dsokolsky@marklogic.com"}, "change":{"tofixin":{"from":"", "to":"7.0-ea1"}}, "files":[], "show":true}, {"time":"2013-02-15T02:48:20.733581-08:00", "updatedBy":{"username":"jsnelson", "name":"John Snelson", "email":"jsnelson@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"I think this is fixed, but I'll leave it open for a while to see if anything else comes up. Moving to 7.0-ea2."}, {"time":"2013-02-15T02:48:20.733581-08:00", "updatedBy":{"username":"jsnelson", "name":"John Snelson", "email":"jsnelson@marklogic.com"}, "change":{"tofixin":{"from":"7.0-ea1", "to":"7.0-ea2"}}, "files":[], "show":true}, {"time":"2013-04-19T04:47:36.640946-07:00", "updatedBy":{"username":"jsnelson", "name":"John Snelson", "email":"jsnelson@marklogic.com"}, "change":{"status":{"from":"", "to":"Test"}, "assignTo":{"from":{"username":"jsnelson", "name":"John Snelson", "email":"jsnelson@marklogic.com"}, "to":{"username":"rpolasani", "name":"Raghu Polasani", "email":"raghu.polasani@marklogic.com"}}}, "files":[], "show":true, "comment":"I think this is fixed - it hasn't been reported again since EA1. I never had a way to reproduce this, so I don't know how to test it."}, {"time":"2013-04-19T04:47:36.640946-07:00", "updatedBy":{"username":"jsnelson", "name":"John Snelson", "email":"jsnelson@marklogic.com"}, "change":{"assignTo":{"from":{"username":"jsnelson", "name":"John Snelson", "email":"jsnelson@marklogic.com"}, "to":{"username":"rpolasani", "name":"Raghu Polasani", "email":"raghu.polasani@marklogic.com"}}}, "files":[], "show":true}, {"time":"2013-05-03T13:28:10.416757-07:00", "updatedBy":{"username":"rpolasani", "name":"Raghu Polasani", "email":"raghu.polasani@marklogic.com"}, "change":{"assignTo":{"from":{"username":"rpolasani", "name":"Raghu Polasani", "email":"raghu.polasani@marklogic.com"}, "to":{"username":"lling", "name":"Ling Ling", "email":"ling.ling@marklogic.com"}}}, "files":[], "show":true}, {"time":"2013-05-07T14:25:30.406825-07:00", "updatedBy":{"username":"lling", "name":"Ling Ling", "email":"ling.ling@marklogic.com"}, "change":{}, "files":[], "show":true, "svn":{"repository":"/project/engsvn", "revision":"141019", "paths":["qa/trunk/scripts/tests/bug20740.xml", "qa/trunk/scripts/list/00semantics.txt", "qa/trunk/scripts/keys/bug20740.xml", "qa/trunk/testdata/bug20740_kennedy.ntriples"], "affectedBugs":[]}, "comment":"bug:20740"}, {"time":"2013-05-07T14:27:09.958472-07:00", "updatedBy":{"username":"lling", "name":"Ling Ling", "email":"ling.ling@marklogic.com"}, "change":{"status":{"from":"", "to":"Ship"}, "assignTo":{"from":{"username":"lling", "name":"Ling Ling", "email":"ling.ling@marklogic.com"}, "to":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}}}, "files":[], "show":true, "comment":"Add a test for inserting kennedy data to 8005/v1/graphs?default. The content type now is text/plain"}, {"time":"2013-05-07T14:27:09.958472-07:00", "updatedBy":{"username":"lling", "name":"Ling Ling", "email":"ling.ling@marklogic.com"}, "change":{"assignTo":{"from":{"username":"lling", "name":"Ling Ling", "email":"ling.ling@marklogic.com"}, "to":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}}}, "files":[], "show":true}], "updatedAt":"2013-05-07T14:27:09.958472-07:00", "fixedAt":"2013-04-19T04:47:36.640946-07:00", "fixedBy":{"username":"jsnelson", "name":"John Snelson", "email":"jsnelson@marklogic.com"}, "shippedAt":"2013-05-07T14:27:09.958472-07:00", "shippedBy":{"username":"lling", "name":"Ling Ling", "email":"ling.ling@marklogic.com"}, "renderDescriptionAs":"normal"}