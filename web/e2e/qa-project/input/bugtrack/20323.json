{"id":20323, "kind":"Bug", "createdAt":"2012-03-28T10:56:51.680253-07:00", "status":"Closed", "title":"ISYS filters don't extract mimetype for XML files", "category":"xdmp", "severity":"Major", "priority":{"level":"5", "title":""}, "submittedBy":{"username":"crichey", "name":"Clark Richey", "email":"clark.richey@marklogic.com"}, "assignTo":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}, "description":"XML files have no MIME type associated with them by ISYS. No other metadata is extracted either but MIME type at least should be extracted to keep things consistent with other file types", "samplequery":"", "sampledata":"", "version":"6.0-nightly", "tofixin":"6.0-3", "fixedin":"6.0-3", "platform":"all", "memory":"", "processors":"", "note":"", "subscribers":[{"username":"crichey", "name":"Clark Richey", "email":"clark.richey@marklogic.com"}, {"username":"smiller", "name":"Scott Miller", "email":"Scott.Miller@marklogic.com"}, {"username":"sthirumavalavan", "name":"Subhadra Thirumavalavan", "email":"subhadra.thirumavalavan@marklogic.com"}], "attachments":[], "relationships":[{"type":"", "to":""}], "clones":[], "cloneOf":16680, "support":{"headline":"xdmp:document-filter() on a file with extension \".xml\" may not have an XML content type (such as \"application/xml\") extracted.", "supportDescription":"xdmp:document-filter() on a file with extension \".xml\" may not have an XML content type (such as \"application/xml\") extracted.", "publishStatus":"Publish", "tickets":[], "customerImpact":{"level":"N/A", "title":""}, "workaround":""}, "tags":["xdmp", "crichey"], "changeHistory":[{"time":"2012-03-29T16:13:38.693649-07:00", "updatedBy":{"username":"rhu", "name":"Ron Hu", "email":"ron.hu@marklogic.com"}, "change":{"status":{"from":"", "to":"Verify"}, "assignTo":{"from":{"username":"rhu", "name":"Ron Hu", "email":"ron.hu@marklogic.com"}, "to":{"username":"smiller", "name":"Scott Miller", "email":"Scott.Miller@marklogic.com"}}}, "files":[], "show":true}, {"time":"2012-03-29T16:13:38.693649-07:00", "updatedBy":{"username":"rhu", "name":"Ron Hu", "email":"ron.hu@marklogic.com"}, "change":{"assignTo":{"from":{"username":"rhu", "name":"Ron Hu", "email":"ron.hu@marklogic.com"}, "to":{"username":"smiller", "name":"Scott Miller", "email":"Scott.Miller@marklogic.com"}}}, "files":[], "show":true}, {"time":"2012-12-12T16:11:17.810574-08:00", "updatedBy":{"username":"rhu", "name":"Ron Hu", "email":"ron.hu@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"Consult Mary on this bug to decide what mimetype should be.  "}, {"time":"2012-12-20T10:32:19.185828-08:00", "updatedBy":{"username":"smiller", "name":"Scott Miller", "email":"Scott.Miller@marklogic.com"}, "change":{"status":{"from":"", "to":"Fix"}, "assignTo":{"from":{"username":"smiller", "name":"Scott Miller", "email":"Scott.Miller@marklogic.com"}, "to":{"username":"smiller", "name":"Scott Miller", "email":"Scott.Miller@marklogic.com"}}}, "files":[], "show":true, "comment":"It's looking like MarkLogic is reserializing XML files but in\r\na way that strips the XML decl, which Isys depends on\r\nfor deducing the \"application/xml\" MIME type.  So this is\r\nMarkLogic's fault, not Isys's, i.e. my job to fix.\r\n"}, {"time":"2012-12-21T15:27:26.679014-08:00", "updatedBy":{"username":"dsokolsky", "name":"Danny Sokolsky", "email":"dsokolsky@marklogic.com"}, "change":{"tofixin":{"from":"", "to":"6.0-3"}}, "files":[], "show":true}, {"time":"2012-12-23T08:58:23.290164-08:00", "updatedBy":{"username":"smiller", "name":"Scott Miller", "email":"Scott.Miller@marklogic.com"}, "change":{}, "files":[], "show":true, "svn":{"repository":"/project/engsvn", "revision":"125202", "paths":["xdmp/trunk/src/Converters/cvtisys/convert.cpp"], "affectedBugs":[]}, "comment":"bug:20323 (clone of 16680) - deduce 'application/xml' MIME type from .xml file extension"}, {"time":"2012-12-23T09:07:57.251252-08:00", "updatedBy":{"username":"smiller", "name":"Scott Miller", "email":"Scott.Miller@marklogic.com"}, "change":{}, "files":[], "show":true, "svn":{"repository":"/project/engsvn", "revision":"125206", "paths":["xdmp/branches/b6_0/src/Converters/cvtisys/convert.cpp"], "affectedBugs":[]}, "comment":"bug:20323 (clone of 16680) - deduce 'application/xml' MIME type from .xml file extension"}, {"time":"2012-12-23T09:12:22.709043-08:00", "updatedBy":{"username":"smiller", "name":"Scott Miller", "email":"Scott.Miller@marklogic.com"}, "change":{"status":{"from":"", "to":"Test"}, "assignTo":{"from":{"username":"smiller", "name":"Scott Miller", "email":"Scott.Miller@marklogic.com"}, "to":{"username":"sthirumavalavan", "name":"Subhadra Thirumavalavan", "email":"subhadra.thirumavalavan@marklogic.com"}}}, "files":[], "show":true, "comment":"Fixed in trunk and b6_0 (and b5_0 as 16680).\r\nDeduce \"application/xml\" MIME type from \".xml\" file\r\nextension.  MarkLogic strips the XML declaration from\r\nthe node serialized for Isys's consumption; that's what\r\nthe problem was before; it's possible to force it to be included,\r\nbut that perturbs the text style, so just adding the manual\r\nfile name check as less disruptive to compatibility."}, {"time":"2012-12-23T09:12:22.709043-08:00", "updatedBy":{"username":"smiller", "name":"Scott Miller", "email":"Scott.Miller@marklogic.com"}, "change":{"assignTo":{"from":{"username":"smiller", "name":"Scott Miller", "email":"Scott.Miller@marklogic.com"}, "to":{"username":"sthirumavalavan", "name":"Subhadra Thirumavalavan", "email":"subhadra.thirumavalavan@marklogic.com"}}}, "files":[], "show":true}, {"time":"2013-01-15T11:35:15.315697-08:00", "updatedBy":{"username":"sthirumavalavan", "name":"Subhadra Thirumavalavan", "email":"subhadra.thirumavalavan@marklogic.com"}, "change":{"status":{"from":"", "to":"Ship"}, "assignTo":{"from":{"username":"sthirumavalavan", "name":"Subhadra Thirumavalavan", "email":"subhadra.thirumavalavan@marklogic.com"}, "to":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}}}, "files":[], "show":true, "comment":"Properties of 062-XML-Record-XML-XMLrecord_sample1.xml\r\ncontent-type===&gt;application/xml"}, {"time":"2013-01-15T11:35:15.315697-08:00", "updatedBy":{"username":"sthirumavalavan", "name":"Subhadra Thirumavalavan", "email":"subhadra.thirumavalavan@marklogic.com"}, "change":{"assignTo":{"from":{"username":"sthirumavalavan", "name":"Subhadra Thirumavalavan", "email":"subhadra.thirumavalavan@marklogic.com"}, "to":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}}}, "files":[], "show":true}, {"time":"2013-04-22T16:32:38.027032-07:00", "updatedBy":{"username":"rpelton", "name":"Rick Pelton", "email":"rick.pelton@marklogic.com"}, "change":{"status":{"from":"", "to":"Closed"}, "assignTo":{"from":{"username":"rpelton", "name":"Rick Pelton", "email":"rick.pelton@marklogic.com"}, "to":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}}}, "files":[], "show":true}], "updatedAt":"2013-04-22T16:32:38.027032-07:00", "fixedAt":"2012-12-23T09:12:22.709043-08:00", "fixedBy":{"username":"smiller", "name":"Scott Miller", "email":"Scott.Miller@marklogic.com"}, "shippedAt":"2013-01-15T11:35:15.315697-08:00", "shippedBy":{"username":"sthirumavalavan", "name":"Subhadra Thirumavalavan", "email":"subhadra.thirumavalavan@marklogic.com"}, "closedAt":"2013-04-22T16:32:38.027032-07:00", "closedBy":{"username":"rpelton", "name":"Rick Pelton", "email":"rick.pelton@marklogic.com"}, "renderDescriptionAs":"normal"}