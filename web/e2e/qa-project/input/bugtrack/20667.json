{"id":20667, "kind":"Bug", "createdAt":"2013-01-31T12:05:19.130316-08:00", "status":"Closed", "title":"spurious XDMP-BAD probeByHash exceptions happen sometimes in clustered configurations", "category":"xdmp", "severity":"Major", "priority":{"level":"5", "title":""}, "submittedBy":{"username":"cjl", "name":"Christopher Lindblad", "email":"cjl@cerisent.com"}, "assignTo":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}, "description":"DatabaseQueryPath::probeByHash should not throw an XDMP-BAD exception.\r\nInstead it do the same thing that DatabaseQueryPath::probe does.\r\n\r\nThe fix to bug 18319 was not the right fix.\r\nxdmp:default-permissions() should not be classified as an update.\r\nIt is not an update.\r\n", "samplequery":"", "sampledata":"", "version":"6.0-1", "tofixin":"6.0-3", "fixedin":"6.0-3", "platform":"all", "memory":"", "processors":"", "note":"", "subscribers":[{"username":"cjl", "name":"Christopher Lindblad", "email":"cjl@cerisent.com"}], "attachments":[], "relationships":[{"type":"", "to":""}], "clones":[], "cloneOf":20666, "support":{"headline":"Spurious XDMP-BAD probeByHash error occured in clustered configurations", "supportDescription":"Sometimes queries fail with XDMP-BAD probeByHash for no apparent reason.", "publishStatus":"Publish", "tickets":[], "customerImpact":{"level":"Low", "title":"Minimal business impact or reasonable workaround is available"}, "workaround":""}, "tags":["xdmp", "cjl"], "changeHistory":[{"time":"2013-01-31T12:05:19.130316-08:00", "updatedBy":{"username":"cjl", "name":"Christopher Lindblad", "email":"cjl@cerisent.com"}, "change":{"assignTo":{"from":{"username":"cjl", "name":"Christopher Lindblad", "email":"cjl@cerisent.com"}, "to":{"username":"cjl", "name":"Christopher Lindblad", "email":"cjl@cerisent.com"}}}, "files":[], "show":true}, {"time":"2013-01-31T12:25:20.414933-08:00", "updatedBy":{"username":"cjl", "name":"Christopher Lindblad", "email":"cjl@cerisent.com"}, "change":{}, "files":[], "show":true, "svn":{"repository":"/project/engsvn", "revision":"130167", "paths":["xdmp/branches/b6_0/src/Security.cpp", "xdmp/branches/b6_0/src/ForestQuery.cpp", "xdmp/branches/b6_0/src/DatabaseQuery.cpp", "xdmp/branches/b6_0/src/AdminBuiltins.cpp"], "affectedBugs":[]}, "comment":"bug:20667"}, {"time":"2013-01-31T12:44:19.597255-08:00", "updatedBy":{"username":"cjl", "name":"Christopher Lindblad", "email":"cjl@cerisent.com"}, "change":{}, "files":[], "show":true, "svn":{"repository":"/project/engsvn", "revision":"130171", "paths":["xdmp/branches/b6_0/src/DatabaseQuery.cpp"], "affectedBugs":[]}, "comment":"bug:20667"}, {"time":"2013-01-31T13:42:22.962872-08:00", "updatedBy":{"username":"dsokolsky", "name":"Danny Sokolsky", "email":"dsokolsky@marklogic.com"}, "change":{"tofixin":{"from":"", "to":"6.0-3"}}, "files":[], "show":true}, {"time":"2013-02-01T14:03:18.845493-08:00", "updatedBy":{"username":"cjl", "name":"Christopher Lindblad", "email":"cjl@cerisent.com"}, "change":{"status":{"from":"", "to":"Test"}, "assignTo":{"from":{"username":"cjl", "name":"Christopher Lindblad", "email":"cjl@cerisent.com"}, "to":{"username":"rpolasani", "name":"Raghu Polasani", "email":"raghu.polasani@marklogic.com"}}}, "files":[], "show":true, "comment":"fixed in 5.0-20130201\r\nbug18319.xml still passes now with xdmp:default-permissions() not being defined as an update"}, {"time":"2013-02-01T14:03:18.845493-08:00", "updatedBy":{"username":"cjl", "name":"Christopher Lindblad", "email":"cjl@cerisent.com"}, "change":{"assignTo":{"from":{"username":"cjl", "name":"Christopher Lindblad", "email":"cjl@cerisent.com"}, "to":{"username":"rpolasani", "name":"Raghu Polasani", "email":"raghu.polasani@marklogic.com"}}}, "files":[], "show":true}, {"time":"2013-04-01T17:00:06.715073-07:00", "updatedBy":{"username":"rpolasani", "name":"Raghu Polasani", "email":"raghu.polasani@marklogic.com"}, "change":{"status":{"from":"", "to":"Ship"}, "assignTo":{"from":{"username":"rpolasani", "name":"Raghu Polasani", "email":"raghu.polasani@marklogic.com"}, "to":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}}}, "files":[], "show":true, "comment":"made sure bug18327.xml is passing in regression."}, {"time":"2013-04-22T16:21:34.87522-07:00", "updatedBy":{"username":"rpelton", "name":"Rick Pelton", "email":"rick.pelton@marklogic.com"}, "change":{"status":{"from":"", "to":"Closed"}, "assignTo":{"from":{"username":"rpelton", "name":"Rick Pelton", "email":"rick.pelton@marklogic.com"}, "to":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}}}, "files":[], "show":true}], "updatedAt":"2013-04-22T16:21:34.87522-07:00", "fixedAt":"2013-02-01T14:03:18.845493-08:00", "fixedBy":{"username":"cjl", "name":"Christopher Lindblad", "email":"cjl@cerisent.com"}, "shippedAt":"2013-04-01T17:00:06.715073-07:00", "shippedBy":{"username":"rpolasani", "name":"Raghu Polasani", "email":"raghu.polasani@marklogic.com"}, "closedAt":"2013-04-22T16:21:34.87522-07:00", "closedBy":{"username":"rpelton", "name":"Rick Pelton", "email":"rick.pelton@marklogic.com"}, "renderDescriptionAs":"normal"}