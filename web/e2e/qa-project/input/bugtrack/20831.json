{"id":20831, "kind":"Bug", "createdAt":"2013-02-19T04:56:54.877184-08:00", "status":"Closed", "title":"More results returned by cts:search with case-sensitive cts:word-query ", "category":"search", "severity":"Major", "priority":{"level":"5", "title":""}, "submittedBy":{"username":"iagrawal", "name":"Isha Agrawal", "email":"iagrawal@marklogic.com"}, "assignTo":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}, "description":"More results returned by cts:search with case-sensitive cts:word-query \r\n\r\nTest Name:cts_search_linux.xml\r\nML Version: 20130218\r\n\r\nSteps to reproduce:\r\n\r\n1. Create Db and forest.\r\n2. Run following query for setup:\r\ndefault element namespace=\"http://marklogic.com/xdmp/database\" let $db := xs:string(xdmp:database(\"ctssearchlinux\")) let $index := xs:string(index-of(xdmp:read-cluster-config-file(\"databases.xml\")//database-name/text(),\"ctssearchlinux\")) let $string := concat(\"http://localhost:8001/add-fragment-roots-go.xqy?section=database&amp;database=\",$db,\"&amp;index=\",$index,\"&amp;fragment-root-1-uri=&amp;fragment-root-1-localname=MedlineCitation\")  return xdmp:http-get($string,<options xmlns=\"xdmp:http\"><authentication method=\"digest\"><username>admin</username><password>admin</password></authentication></options>)\r\n\r\n3. Disable stemmed-searches \r\n4. Enable word searches.\r\n5. Load test data:\r\n\r\nxdmp:load(\"QA_HOME/testdata/2.2/medline03n0331.xml\",\"medline.xml\")\r\n\r\n6. Run Xquery:\r\n\r\ncount(cts:search(//MedlineCitation, cts:word-query(\"cardiovascular diseases\",\"case-sensitive\")))\r\n\r\nActual Result:134\r\nExpected: 34", "samplequery":"", "sampledata":"", "version":"7.0-nightly", "tofixin":"7.0-ea1", "fixedin":"7.0-ea1", "platform":"all", "memory":"", "processors":"", "note":"", "subscribers":[{"username":"iagrawal", "name":"Isha Agrawal", "email":"iagrawal@marklogic.com"}, {"username":"gchinchwadkar", "name":"Gajanan Chinchwadkar", "email":"Gajanan.Chinchwadkar@marklogic.com"}, {"username":"rhu", "name":"Ron Hu", "email":"ron.hu@marklogic.com"}], "attachments":[], "relationships":[{"type":"", "to":""}], "clones":[], "cloneOf":"", "support":{"headline":"", "supportDescription":"", "publishStatus":"Not Ready", "tickets":[], "customerImpact":{"level":"N/A", "title":""}, "workaround":""}, "tags":["search", "iagrawal"], "changeHistory":[{"time":"2013-02-19T04:56:54.877184-08:00", "updatedBy":{"username":"iagrawal", "name":"Isha Agrawal", "email":"iagrawal@marklogic.com"}, "change":{"assignTo":{"from":{"username":"iagrawal", "name":"Isha Agrawal", "email":"iagrawal@marklogic.com"}, "to":{"username":"rhu", "name":"Ron Hu", "email":"ron.hu@marklogic.com"}}}, "files":[], "show":true}, {"time":"2013-02-19T15:27:47.059005-08:00", "updatedBy":{"username":"rhu", "name":"Ron Hu", "email":"ron.hu@marklogic.com"}, "change":{"assignTo":{"from":{"username":"rhu", "name":"Ron Hu", "email":"ron.hu@marklogic.com"}, "to":{"username":"gchinchwadkar", "name":"Gajanan Chinchwadkar", "email":"Gajanan.Chinchwadkar@marklogic.com"}}}, "files":[], "show":true}, {"time":"2013-02-19T16:02:12.282255-08:00", "updatedBy":{"username":"gchinchwadkar", "name":"Gajanan Chinchwadkar", "email":"Gajanan.Chinchwadkar@marklogic.com"}, "change":{"status":{"from":"", "to":"Test"}, "assignTo":{"from":{"username":"gchinchwadkar", "name":"Gajanan Chinchwadkar", "email":"Gajanan.Chinchwadkar@marklogic.com"}, "to":{"username":"iagrawal", "name":"Isha Agrawal", "email":"iagrawal@marklogic.com"}}}, "files":[], "show":true, "comment":"I just backed-out a small enhancement from fields code. That fixed this."}, {"time":"2013-02-19T16:02:12.282255-08:00", "updatedBy":{"username":"gchinchwadkar", "name":"Gajanan Chinchwadkar", "email":"Gajanan.Chinchwadkar@marklogic.com"}, "change":{"assignTo":{"from":{"username":"gchinchwadkar", "name":"Gajanan Chinchwadkar", "email":"Gajanan.Chinchwadkar@marklogic.com"}, "to":{"username":"iagrawal", "name":"Isha Agrawal", "email":"iagrawal@marklogic.com"}}}, "files":[], "show":true}, {"time":"2013-02-20T03:12:30.6247-08:00", "updatedBy":{"username":"iagrawal", "name":"Isha Agrawal", "email":"iagrawal@marklogic.com"}, "change":{"status":{"from":"", "to":"Closed"}, "assignTo":{"from":{"username":"iagrawal", "name":"Isha Agrawal", "email":"iagrawal@marklogic.com"}, "to":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}}}, "files":[], "show":true, "comment":"As per above comment, the test bug6635.xml is passing now.Verified on ML Version 20130219-1800 sandbox run. Hence,closing the bug"}, {"time":"2013-02-20T03:12:30.6247-08:00", "updatedBy":{"username":"iagrawal", "name":"Isha Agrawal", "email":"iagrawal@marklogic.com"}, "change":{"assignTo":{"from":{"username":"iagrawal", "name":"Isha Agrawal", "email":"iagrawal@marklogic.com"}, "to":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}}}, "files":[], "show":true}], "updatedAt":"2013-02-20T03:12:30.6247-08:00", "fixedAt":"2013-02-19T16:02:12.282255-08:00", "fixedBy":{"username":"gchinchwadkar", "name":"Gajanan Chinchwadkar", "email":"Gajanan.Chinchwadkar@marklogic.com"}, "closedAt":"2013-02-20T03:12:30.6247-08:00", "closedBy":{"username":"iagrawal", "name":"Isha Agrawal", "email":"iagrawal@marklogic.com"}, "renderDescriptionAs":"normal"}