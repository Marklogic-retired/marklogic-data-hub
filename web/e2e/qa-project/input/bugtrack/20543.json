{"id":20543, "kind":"Bug", "createdAt":"2011-11-10T16:26:34.709279-08:00", "status":"Will not fix", "title":"DEPBUG_23325:After upgrade if we first go to the admin page of a node which does not have security forests in it, a blank page comes up instead of development-agree.xqy", "category":"adminGUI", "severity":"Major", "priority":{"level":"2", "title":"Not required for product release"}, "submittedBy":{"username":"msarma", "name":"Meghalim Sarma", "email":"msarma@marklogic.com"}, "assignTo":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}, "description":"During upgrade testing, I came across this issue that if you navigate to a D node after upgrade, then all you see is a blank screen and there is no way to accept the agreement from a D node. First we must go to a E node and accept the aggrement (for that node) and then do to D node 8001 to see development-agree.xqy.\r\n\r\nMy understanding is that user should be able to accept the agreement from any node in the cluster.\r\n\r\nSteps to reproduce the bug:\r\n1. Create a cluster of two nodes.\r\n2. Now upgrade both the nodes and start the server on both\r\n3. Go to D node 8001 first and you will notice that you see a blank screen.\r\n4. Go to E node 8001 and accept the aggrement for that node.\r\n5. Now go to D node 8001 and you should be landing on development-agree.xqy page.\r\n\r\n", "samplequery":"", "sampledata":"", "version":"7.0-nightly", "tofixin":"7.0-4", "fixedin":"N/A", "platform":"all", "memory":"", "processors":"", "note":"", "subscribers":[{"username":"msarma", "name":"Meghalim Sarma", "email":"msarma@marklogic.com"}, {"username":"cjl", "name":"Christopher Lindblad", "email":"cjl@cerisent.com"}, {"username":"cwhitney", "name":"Colleen  Whitney", "email":"colleen.whitney@marklogic.com"}, {"username":"gvaidees", "name":"Ganesh Vaideeswaran", "email":"Ganesh.Vaideeswaran@marklogic.com"}, {"username":"bmo", "name":"Brian Mo", "email":"brian.mo@marklogic.com"}, {"username":"dgorbet", "name":"David Gorbet", "email":"David.Gorbet@marklogic.com"}], "attachments":[], "relationships":[{"type":"", "to":""}], "clones":[23325, 25009], "cloneOf":15692, "support":{"headline":"", "supportDescription":"", "publishStatus":"Not Ready", "tickets":[], "customerImpact":{"level":"N/A", "title":""}, "workaround":""}, "tags":["adminGUI", "msarma"], "changeHistory":[{"time":"2011-11-10T16:26:34.709279-08:00", "updatedBy":{"username":"msarma", "name":"Meghalim Sarma", "email":"msarma@marklogic.com"}, "change":{"assignTo":{"from":{"username":"msarma", "name":"Meghalim Sarma", "email":"msarma@marklogic.com"}, "to":{"username":"wwallach", "name":"Walt Wallach", "email":"wwallach@marklogic.com"}}}, "files":[], "show":true}, {"time":"2011-11-10T16:46:18.041889-08:00", "updatedBy":{"username":"msarma", "name":"Meghalim Sarma", "email":"msarma@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"When I say E node, I mean the node that  has the Security forest and D node is a node which does not have security forest on it."}, {"time":"2011-11-10T17:20:14.492884-08:00", "updatedBy":{"username":"wwallach", "name":"Walt Wallach", "email":"wwallach@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"Not sure if this is upgrade specific. Did it used to work correctly?"}, {"time":"2011-11-10T17:20:14.492884-08:00", "updatedBy":{"username":"wwallach", "name":"Walt Wallach", "email":"wwallach@marklogic.com"}, "change":{"assignTo":{"from":{"username":"wwallach", "name":"Walt Wallach", "email":"wwallach@marklogic.com"}, "to":{"username":"cwhitney", "name":"Colleen  Whitney", "email":"colleen.whitney@marklogic.com"}}}, "files":[], "show":true}, {"time":"2012-01-20T14:36:07.941815-08:00", "updatedBy":{"username":"cwhitney", "name":"Colleen  Whitney", "email":"colleen.whitney@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"5.0-3 triage notes:  this should be addressed but at lower priority."}, {"time":"2012-12-09T00:21:07.212716-08:00", "updatedBy":{"username":"gvaidees", "name":"Ganesh Vaideeswaran", "email":"Ganesh.Vaideeswaran@marklogic.com"}, "change":{"assignTo":{"from":{"username":"gvaidees", "name":"Ganesh Vaideeswaran", "email":"Ganesh.Vaideeswaran@marklogic.com"}, "to":{"username":"gvaidees", "name":"Ganesh Vaideeswaran", "email":"Ganesh.Vaideeswaran@marklogic.com"}}}, "files":[], "show":true}, {"time":"2012-12-26T23:08:43.406353-08:00", "updatedBy":{"username":"gvaidees", "name":"Ganesh Vaideeswaran", "email":"Ganesh.Vaideeswaran@marklogic.com"}, "change":{"assignTo":{"from":{"username":"gvaidees", "name":"Ganesh Vaideeswaran", "email":"Ganesh.Vaideeswaran@marklogic.com"}, "to":{"username":"bmo", "name":"Brian Mo", "email":"brian.mo@marklogic.com"}}}, "files":[], "show":true}, {"time":"2013-01-23T13:15:17.266151-08:00", "updatedBy":{"username":"dsokolsky", "name":"Danny Sokolsky", "email":"dsokolsky@marklogic.com"}, "change":{"tofixin":{"from":"", "to":"7.0-ea1"}}, "files":[], "show":true}, {"time":"2013-02-20T15:50:24.427357-08:00", "updatedBy":{"username":"bmo", "name":"Brian Mo", "email":"brian.mo@marklogic.com"}, "change":{"tofixin":{"from":"7.0-ea1", "to":"7.0-1"}}, "files":[], "show":true}, {"time":"2013-07-25T16:41:51.267777-07:00", "updatedBy":{"username":"gvaidees", "name":"Ganesh Vaideeswaran", "email":"Ganesh.Vaideeswaran@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"I have sent an email to Christopher asking about this defect. The server (in this case on Node D) sends a 500. Here is what I am seeing access log - \r\n\r\n\r\n172.18.3.233 - admin [24/Jul/2013:22:12:13 -0700] \"GET / HTTP/1.1\" 500 - - \"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/28.0.1500.72 Safari/537.36\"\r\n\r\nUnless, the server can send a different error code (or throw an exception) that can be handled by the code, the UI cannot do much. \r\n\r\nI will wait for a reply from Chris."}, {"time":"2013-07-26T22:15:33.958359-07:00", "updatedBy":{"username":"gvaidees", "name":"Ganesh Vaideeswaran", "email":"Ganesh.Vaideeswaran@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"Spoke with Chris. He is going to take a look at this and seen what the server needs to do to send an error back to the client instead of resetting the connection.\r\n\r\nOnce he is done with his end of the change, we will see what needs to be in the UI"}, {"time":"2013-07-28T20:46:30.829494-07:00", "updatedBy":{"username":"gvaidees", "name":"Ganesh Vaideeswaran", "email":"Ganesh.Vaideeswaran@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"Created 23325 or Chris to fix server side"}, {"time":"2013-10-07T12:59:57.529203-07:00", "updatedBy":{"username":"dsokolsky", "name":"Danny Sokolsky", "email":"dsokolsky@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"I think this bug is probably no longer an issue after the changes to the installation.  If that is the case, then we should close this bug."}, {"time":"2013-12-03T14:53:35.321283-08:00", "updatedBy":{"username":"bmo", "name":"Brian Mo", "email":"brian.mo@marklogic.com"}, "change":{"assignTo":{"from":{"username":"bmo", "name":"Brian Mo", "email":"brian.mo@marklogic.com"}, "to":{"username":"dgorbet", "name":"David Gorbet", "email":"David.Gorbet@marklogic.com"}}}, "files":[], "show":true}, {"time":"2014-06-09T18:43:37.890687-07:00", "updatedBy":{"username":"dgorbet", "name":"David Gorbet", "email":"David.Gorbet@marklogic.com"}, "change":{"status":{"from":"Verify", "to":"Will not fix"}, "assignTo":{"from":{"username":"dgorbet", "name":"David Gorbet", "email":"David.Gorbet@marklogic.com"}, "to":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}}}, "files":[], "show":true, "comment":"Not worth fixing in 6.0 because: (1) most customers should be upgrading to 7.0; (2) for the few customers who upgrade to 6.0, this is relatively minor, we've lived with it without significant incident for a long time, and I'd rather spend our energy on more important development activities."}, {"time":"2014-06-09T18:43:37.890687-07:00", "updatedBy":{"username":"dgorbet", "name":"David Gorbet", "email":"David.Gorbet@marklogic.com"}, "change":{"assignTo":{"from":{"username":"dgorbet", "name":"David Gorbet", "email":"David.Gorbet@marklogic.com"}, "to":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}}}, "files":[], "show":true}], "updatedAt":"2014-06-09T18:43:37.890687-07:00", "renderDescriptionAs":"normal"}