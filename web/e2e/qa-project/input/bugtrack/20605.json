{"id":20605, "kind":"Task", "createdAt":"2011-12-15T08:59:35.233307-08:00", "status":"Closed", "title":"Give Shiva information to fix up schema regression trests", "category":"xdmp", "severity":"Minor", "priority":{"level":"5", "title":""}, "days":null, "period":{"startDate":null, "endDate":null}, "submittedBy":{"username":"mary", "name":"Mary Holstege", "email":"mary@cerisent.com"}, "assignTo":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}, "description":"", "samplequery":"", "sampledata":"", "version":"6.0-nightly", "tofixin":"5.0-5", "fixedin":"5.0-5", "platform":"all", "memory":"", "processors":"", "note":"", "subscribers":[{"username":"mary", "name":"Mary Holstege", "email":"mary@cerisent.com"}, {"username":"sverma", "name":"Shiva Verma", "email":"shiva.verma@marklogic.com"}], "attachments":[{"name":"MSFT load script", "uri":"root/support/bugtracking/attachments/15952/msload.xqy"}, {"name":"MSFT validation (strict)", "uri":"root/support/bugtracking/attachments/15952/ms1.xqy"}, {"name":"SUN load script", "uri":"root/support/bugtracking/attachments/15952/sunload.xqy"}, {"name":"SUN validation (strict)", "uri":"root/support/bugtracking/attachments/15952/sun1.xqy"}, {"name":"NIST validation (strict)", "uri":"root/support/bugtracking/attachments/15952/nist1.xqy"}, {"name":"Boeing load script", "uri":"root/support/bugtracking/attachments/15952/bload.xqy"}, {"name":"Boeing validation (strict)", "uri":"root/support/bugtracking/attachments/15952/boeing1.xqy"}], "includeInTaskList":false, "proceduralTasks":{"Requirements Task":[], "Functional Specification Task":[], "Test Specification Task":[], "Test Automation Task":[], "Documentation Task":[]}, "subTasks":[], "tags":["xdmp", "mary"], "changeHistory":[{"time":"2011-12-15T08:59:35.233307-08:00", "updatedBy":{"username":"mary", "name":"Mary Holstege", "email":"mary@cerisent.com"}, "change":{"assignTo":{"from":{"username":"mary", "name":"Mary Holstege", "email":"mary@cerisent.com"}, "to":{"username":"mary", "name":"Mary Holstege", "email":"mary@cerisent.com"}}}, "files":[], "show":true}, {"time":"2011-12-21T08:06:51.710088-08:00", "updatedBy":{"username":"mary", "name":"Mary Holstege", "email":"mary@cerisent.com"}, "change":{}, "files":[], "show":true, "comment":"I am attaching the scripts I use with schema testing. The regression scripts differ both in how they load the schemas and in how they setup the validation.  I would recommend you replace the queries in the regression scripts with these. I run these as standalone scripts and the last time I measured the results I get are: (numbers are number of failed tests)\r\nSun:\r\nsuntest: 13\r\nattribute group def: 9\r\nattr decl: 19\r\nattr use: 1\r\ncomplex type: 4\r\nelem decl: 16\r\nid constraints: 0\r\nmodel group: 0\r\nmodel group def: 0\r\nnotations: 0\r\nsimple type: 2\r\nschema: 0\r\nwildcard: 2\r\nTOTAL: 57\r\n\r\nmsft:\r\nadditional: 22\r\nannotations: 0\r\nattr group: 4\r\nattr decl: 4\r\ncomplex type: 6\r\ndatatypes: 36\r\nelt: 13\r\nerr: 1\r\ngroup: 0\r\nidentity constraints: 9\r\nmodel group: 1\r\nnotations: 1\r\nparticles: 15\r\nregex: 73\r\nschema: 6\r\nsimple type: 4\r\nwildcards: 10\r\nTOTAL: 204\r\n\r\nBoeing: 2\r\n\r\nNIST: 104"}, {"time":"2011-12-21T08:16:08.156902-08:00", "updatedBy":{"username":"mary", "name":"Mary Holstege", "email":"mary@cerisent.com"}, "change":{"status":{"from":"", "to":"Test"}, "assignTo":{"from":{"username":"mary", "name":"Mary Holstege", "email":"mary@cerisent.com"}, "to":{"username":"sverma", "name":"Shiva Verma", "email":"shiva.verma@marklogic.com"}}}, "files":[], "show":true, "comment":"The MSFT and SUN scripts are the ones I have modified most heavily, IIRC, as they have the most interesting tests and the most setup/execution issues.  MSFT is is bad about putting in place good schema locations and SUN is bad about declaring all the necessary files in the metadata.\r\n\r\nI hope this is enough for you to make some forward progress."}, {"time":"2011-12-21T08:16:08.156902-08:00", "updatedBy":{"username":"mary", "name":"Mary Holstege", "email":"mary@cerisent.com"}, "change":{"assignTo":{"from":{"username":"mary", "name":"Mary Holstege", "email":"mary@cerisent.com"}, "to":{"username":"sverma", "name":"Shiva Verma", "email":"shiva.verma@marklogic.com"}}}, "files":[], "show":true}, {"time":"2012-01-22T23:54:59.315225-08:00", "updatedBy":{"username":"ksaxena", "name":"Kapil Saxena", "email":"kapil.saxena@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"Hi Shiva,\r\n\r\nI have commented the following affected tests in regression:\r\n\r\nschema_boeing.xml\t\t\t\t\t\r\nschema_misc_bugs2.xml\r\nschema_msft.xml\t\r\nschema_nist.xml\r\nschema_sun.xml\r\n\r\nOnce, this task is complete, kindly enable the tests back or let me know.\r\n\r\nThanks\r\nKapil"}, {"time":"2012-02-01T07:26:35.577892-08:00", "updatedBy":{"username":"ksaxena", "name":"Kapil Saxena", "email":"kapil.saxena@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"The above mentioned tests have been commented in both 5.0 and 4.2 branches."}, {"time":"2012-09-24T10:23:12.283216-07:00", "updatedBy":{"username":"sverma", "name":"Shiva Verma", "email":"shiva.verma@marklogic.com"}, "change":{"tofixin":{"from":"5.0-4", "to":"5.0-5"}}, "files":[], "show":true}, {"time":"2012-09-24T10:23:33.815181-07:00", "updatedBy":{"username":"sverma", "name":"Shiva Verma", "email":"shiva.verma@marklogic.com"}, "change":{"tofixin":{"from":"5.0-4", "to":"5.0-5"}}, "files":[], "show":true}, {"time":"2013-01-28T10:10:36.728179-08:00", "updatedBy":{"username":"sverma", "name":"Shiva Verma", "email":"shiva.verma@marklogic.com"}, "change":{"status":{"from":null, "to":"Ship"}, "assignTo":{"from":{"username":"sverma", "name":"Shiva Verma", "email":"shiva.verma@marklogic.com"}, "to":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}}}, "files":[], "show":true, "comment":"The test has been changed and the intermittent sub-tests has been commented with mail already sent to Mary\r\n\r\n"}, {"time":"2013-01-28T10:10:36.728179-08:00", "updatedBy":{"username":"sverma", "name":"Shiva Verma", "email":"shiva.verma@marklogic.com"}, "change":{"assignTo":{"from":{"username":"sverma", "name":"Shiva Verma", "email":"shiva.verma@marklogic.com"}, "to":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}}}, "files":[], "show":true}, {"time":"2013-01-28T16:38:13.716871-08:00", "updatedBy":{"username":"dsokolsky", "name":"Danny Sokolsky", "email":"dsokolsky@marklogic.com"}, "change":{"tofixin":{"from":"", "to":"5.0-nightly"}}, "files":[], "show":true}, {"time":"2013-02-25T17:04:13.572371-08:00", "updatedBy":{"username":"rpelton", "name":"Rick Pelton", "email":"rick.pelton@marklogic.com"}, "change":{"status":{"from":null, "to":"Closed"}, "assignTo":{"from":{"username":"rpelton", "name":"Rick Pelton", "email":"rick.pelton@marklogic.com"}, "to":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}}}, "files":[], "show":true}], "updatedAt":"2013-02-25T17:04:13.572371-08:00", "fixedAt":"2011-12-21T08:16:08.156902-08:00", "fixedBy":{"username":"mary", "name":"Mary Holstege", "email":"mary@cerisent.com"}, "shippedAt":"2013-01-28T10:10:36.728179-08:00", "shippedBy":{"username":"sverma", "name":"Shiva Verma", "email":"shiva.verma@marklogic.com"}, "closedAt":"2013-02-25T17:04:13.572371-08:00", "closedBy":{"username":"rpelton", "name":"Rick Pelton", "email":"rick.pelton@marklogic.com"}}