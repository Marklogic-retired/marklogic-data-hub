{"id":20969, "kind":"Task", "createdAt":"2013-02-28T01:49:09.679781-08:00", "status":"Closed", "title":"XCC suite is disabled in 7.0-ea1 regression of Linux and Solaris Cluster ", "category":"xdmp", "severity":"Major", "priority":{"level":"5", "title":""}, "days":null, "period":{"startDate":null, "endDate":null}, "submittedBy":{"username":"sanand", "name":"Sumit Anand", "email":"Sumit.Anand@marklogic.com"}, "assignTo":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}, "description":"Hi Ling, \r\n   \r\nAs this test suite is causing 7.0-ea1 regression to get hang. I have commented this test suite in 7.0-ea1 nightly regression.\r\n\r\n\r\n\r\nExample : \r\n\r\nHere what I seen in qa-stdout.txt \r\n\r\nLinux 64 Cluster\r\nMachine name : rh5-intel64-70-test-3\r\n\r\nPath to Log : /space/builder/builds/linux64/b7_0-ea1/logs.20130225.0/reg-results\r\n\r\nIt started in test.xcc.xa, here what I see in qa-stdout.txt\r\n\r\n    [junit] Running com.marklogic.xa.TestXABug15486\r\n    [junit] This is a cluster\r\n    [junit] Tests run: 1, Failures: 0, Errors: 0, Time elapsed: 1.457 sec\r\n    [junit] Running com.marklogic.xa.TestXADelist\r\n    [junit] javax.transaction.xa.XAException\r\n    [junit]     at com.marklogic.xcc.impl.XAResourceImpl.start(XAResourceImpl.java:185)\r\n    [junit]     at com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionImple.enlistResource(TransactionImple.java:629)\r\n    [junit]     at com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionImple.enlistResource(TransactionImple.java:390)\r\n    [junit]     at com.marklogic.xa.TestXADelist.testInsertNotCommitBetweenDelistEnlist1(TestXADelist.java:1002)\r\n    [junit]     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    [junit]     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n    [junit]     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n    [junit]     at java.lang.reflect.Method.invoke(Method.java:597)\r\n    [junit]     at junit.framework.TestCase.runTest(TestCase.java:154)\r\n.\r\n.\r\n.\r\n.\r\n.\r\n.\r\n[junit]     at com.marklogic.xcc.impl.handlers.AbstractRequestController.runRequest(AbstractRequestController.java:124)\r\n    [junit]     at com.marklogic.xcc.impl.SessionImpl.submitRequestInternal(SessionImpl.java:388)\r\n    [junit]     at com.marklogic.xcc.impl.XAResourceImpl.commit(XAResourceImpl.java:266)\r\n    [junit]     ... 16 more\r\n    [junit] Caused by: java.io.IOException: Broken pipe\r\n    [junit]     at sun.nio.ch.FileDispatcher.write0(Native Method)\r\n    [junit]     at sun.nio.ch.SocketDispatcher.write(SocketDispatcher.java:29)\r\n    [junit]     at sun.nio.ch.IOUtil.writeFromNativeBuffer(IOUtil.java:72)\r\n    [junit]     at sun.nio.ch.IOUtil.write(IOUtil.java:28)\r\n    [junit]     at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:334)\r\n.\r\n.\r\n.\r\n.\r\n.\r\n    [junit]     at junit.framework.TestCase.run(TestCase.java:118)\r\n    [junit]     at junit.framework.TestSuite.runTest(TestSuite.java:208)\r\n    [junit]     at junit.framework.TestSuite.run(TestSuite.java:203)\r\n    [junit]     at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:420)\r\n    [junit]     at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:911)\r\n    [junit]     at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:768)\r\nProcess created by command cd /space/builder/builds/linux64/b7_0-ea1/qa/../xcc/xcc; make cleanest; make xcc; cd /space/builder/builds/linux64/b7_0-ea1/qa/../xcc/api_tests; make cleanest; make xaDid not finish in 5 minutes killing proc\r\nAbove command failed with exit code: 1\r\n\r\n\r\nThanks \r\nSumit   \r\n", "samplequery":"", "sampledata":"", "version":"7.0-nightly", "tofixin":"7.0-ea1", "fixedin":"N/A", "platform":"all", "memory":"", "processors":"", "note":"", "subscribers":[{"username":"sanand", "name":"Sumit Anand", "email":"Sumit.Anand@marklogic.com"}, {"username":"lling", "name":"Ling Ling", "email":"ling.ling@marklogic.com"}], "attachments":[], "includeInTaskList":false, "proceduralTasks":{"Requirements Task":[], "Functional Specification Task":[], "Test Specification Task":[], "Test Automation Task":[], "Documentation Task":[]}, "subTasks":[], "tags":["xdmp", "sanand"], "changeHistory":[{"time":"2013-02-28T01:49:09.679781-08:00", "updatedBy":{"username":"sanand", "name":"Sumit Anand", "email":"Sumit.Anand@marklogic.com"}, "change":{"assignTo":{"from":{"username":"sanand", "name":"Sumit Anand", "email":"Sumit.Anand@marklogic.com"}, "to":{"username":"lling", "name":"Ling Ling", "email":"ling.ling@marklogic.com"}}}, "files":[], "show":true}, {"time":"2013-03-01T17:27:11.277237-08:00", "updatedBy":{"username":"dsokolsky", "name":"Danny Sokolsky", "email":"dsokolsky@marklogic.com"}, "change":{"tofixin":{"from":"", "to":"7.0-ea1"}}, "files":[], "show":true}, {"time":"2013-03-05T13:47:45.966218-08:00", "updatedBy":{"username":"lling", "name":"Ling Ling", "email":"ling.ling@marklogic.com"}, "change":{}, "files":[], "show":true, "svn":{"repository":"/project/engsvn", "revision":"135052", "paths":["xcc/branches/b7_0-ea1/api_tests/src/junit/com/marklogic/xa/BasicXA.java", "xcc/branches/b7_0-ea1/api_tests/src/junit/com/marklogic/xa/TestXARestart.java"], "affectedBugs":[]}, "comment":"bug:20969 add more XAwaitRestart"}, {"time":"2013-03-05T13:48:27.024678-08:00", "updatedBy":{"username":"lling", "name":"Ling Ling", "email":"ling.ling@marklogic.com"}, "change":{"status":{"from":"", "to":"Test"}, "assignTo":{"from":{"username":"lling", "name":"Ling Ling", "email":"ling.ling@marklogic.com"}, "to":{"username":"sanand", "name":"Sumit Anand", "email":"Sumit.Anand@marklogic.com"}}}, "files":[], "show":true, "comment":"Hi Sumit, I think now you could add xa tests back to regression now. Thax"}, {"time":"2013-03-05T13:48:27.024678-08:00", "updatedBy":{"username":"lling", "name":"Ling Ling", "email":"ling.ling@marklogic.com"}, "change":{"assignTo":{"from":{"username":"lling", "name":"Ling Ling", "email":"ling.ling@marklogic.com"}, "to":{"username":"sanand", "name":"Sumit Anand", "email":"Sumit.Anand@marklogic.com"}}}, "files":[], "show":true}, {"time":"2013-03-07T01:41:02.916521-08:00", "updatedBy":{"username":"sanand", "name":"Sumit Anand", "email":"Sumit.Anand@marklogic.com"}, "change":{"status":{"from":null, "to":"Closed"}, "assignTo":{"from":{"username":"sanand", "name":"Sumit Anand", "email":"Sumit.Anand@marklogic.com"}, "to":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}}}, "files":[], "show":true, "comment":"XCC suites is completed successfully on 20130306 run. Hence closing this task. "}, {"time":"2013-03-07T01:41:02.916521-08:00", "updatedBy":{"username":"sanand", "name":"Sumit Anand", "email":"Sumit.Anand@marklogic.com"}, "change":{"assignTo":{"from":{"username":"sanand", "name":"Sumit Anand", "email":"Sumit.Anand@marklogic.com"}, "to":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}}}, "files":[], "show":true}], "updatedAt":"2013-03-07T01:41:02.916521-08:00", "fixedAt":"2013-03-05T13:48:27.024678-08:00", "fixedBy":{"username":"lling", "name":"Ling Ling", "email":"ling.ling@marklogic.com"}, "closedAt":"2013-03-07T01:41:02.916521-08:00", "closedBy":{"username":"sanand", "name":"Sumit Anand", "email":"Sumit.Anand@marklogic.com"}}