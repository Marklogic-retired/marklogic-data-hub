{"id":20852, "kind":"Task", "createdAt":"2013-02-20T13:28:52.088448-08:00", "status":"Test", "title":"Add more scenarios to validate bug fix in 18756", "category":"xdmp", "severity":"Minor", "priority":{"level":"5", "title":""}, "days":null, "period":{"startDate":null, "endDate":null}, "submittedBy":{"username":"msrinivasan", "name":"Mahalakshmi Srinivasan", "email":"mahalakshmi.srinivasan@marklogic.com"}, "assignTo":{"username":"msrinivasan", "name":"Mahalakshmi Srinivasan", "email":"mahalakshmi.srinivasan@marklogic.com"}, "description":"This is a testing task for some additional scenarios mentioned in bug 18756. I think it's ok to put them in 7.0-1.\r\n\r\nHere are additional test cases for the fix for bug18756:\r\n \r\n1. Define two string range path indexes: /w/*/*/z and /w//*/*/z\r\n \r\nThese queries use only one index:\r\n \r\n/w//*[*/z='k'],\r\n/w//*[y/z='k'],\r\n/w//x[y/z='k'],\r\n/w//x[*/z='k']\r\n \r\nxdmp:query-trace(fn:true()),\r\n  for $d in /w//*\r\n  where $d/*/z = 'k'\r\n  return $d,\r\n \r\nxdmp:query-trace(fn:true()),\r\n  for $d in /w//*\r\n  where $d/y/z = 'k'\r\n  return $d,\r\n \r\n  for $d in /w//x\r\n  where $d/y/z = 'k'\r\n  return $d,\r\n \r\nxdmp:query-trace(fn:true()),\r\n  for $d in /w//x\r\n  where $d/*/z = 'k'\r\n  return $d,\r\nxdmp:query-trace(fn:false())\r\n \r\n \r\nThese queries use both the range indexes:\r\n/w/*[*/z='k'],\r\n/w/*[y/z='k'],\r\n/w/x[y/z='k'],\r\n/w/x[*/z='k']\r\n \r\nxdmp:query-trace(fn:true()),\r\n  for $d in /w/*\r\n  where $d/*/z = 'k'\r\n  return $d,\r\n \r\nxdmp:query-trace(fn:true()),\r\n  for $d in /w/*\r\n  where $d/y/z = 'k'\r\n  return $d,\r\n \r\n  for $d in /w/x\r\n  where $d/y/z = 'k'\r\n  return $d,\r\n \r\nxdmp:query-trace(fn:true()),\r\n  for $d in /w/x\r\n  where $d/*/z = 'k'\r\n  return $d,\r\nxdmp:query-trace(fn:false())\r\n\r\nAdd this both to 7.0 and 6.0 tests.\r\n", "samplequery":"", "sampledata":"", "version":"7.0-nightly", "tofixin":"N/A", "fixedin":"N/A", "platform":"all", "memory":"", "processors":"", "note":"", "subscribers":[{"username":"msrinivasan", "name":"Mahalakshmi Srinivasan", "email":"mahalakshmi.srinivasan@marklogic.com"}], "attachments":[], "includeInTaskList":false, "proceduralTasks":{"Requirements Task":[], "Functional Specification Task":[], "Test Specification Task":[], "Test Automation Task":[], "Documentation Task":[]}, "subTasks":[], "tags":["xdmp", "msrinivasan"], "changeHistory":[{"time":"2013-02-20T13:28:52.088448-08:00", "updatedBy":{"username":"msrinivasan", "name":"Mahalakshmi Srinivasan", "email":"mahalakshmi.srinivasan@marklogic.com"}, "change":{"assignTo":{"from":{"username":"msrinivasan", "name":"Mahalakshmi Srinivasan", "email":"mahalakshmi.srinivasan@marklogic.com"}, "to":{"username":"msrinivasan", "name":"Mahalakshmi Srinivasan", "email":"mahalakshmi.srinivasan@marklogic.com"}}}, "files":[], "show":true}, {"time":"2013-08-26T22:58:08.013686-07:00", "updatedBy":{"username":"msrinivasan", "name":"Mahalakshmi Srinivasan", "email":"mahalakshmi.srinivasan@marklogic.com"}, "change":{"status":{"from":"", "to":"Test"}, "assignTo":{"from":{"username":"msrinivasan", "name":"Mahalakshmi Srinivasan", "email":"mahalakshmi.srinivasan@marklogic.com"}, "to":{"username":"msrinivasan", "name":"Mahalakshmi Srinivasan", "email":"mahalakshmi.srinivasan@marklogic.com"}}}, "files":[], "show":true, "comment":"This is only a testing task, hence moving to 'test'."}], "updatedAt":"2013-08-26T22:58:08.013686-07:00", "fixedAt":"2013-08-26T22:58:08.013686-07:00", "fixedBy":{"username":"msrinivasan", "name":"Mahalakshmi Srinivasan", "email":"mahalakshmi.srinivasan@marklogic.com"}, "parent":{"type":"", "parentId":"", "taskOrRfe":""}}