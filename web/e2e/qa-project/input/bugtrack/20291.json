{"id":20291, "kind":"RFE", "createdAt":"2012-12-14T14:28:52.309826-08:00", "status":"Will not fix", "title":"mlcp needs better error reporting for generated files in aggregate mode", "category":"mlcp", "severity":"Major", "priority":{"level":"5", "title":""}, "submittedBy":{"username":"fsanders", "name":"Frank Sanders", "email":"fsanders@marklogic.com"}, "assignTo":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}, "description":"This may apply to all modes of mlcp but I haven't been able to test.\r\n\r\nWhen loading content via mlcp in aggregate mode occasionally errors from MarkLogic will be reported due to problems with the generated file. When these errors are reported only the information returned from the server is reported. This makes it difficult if not impossible to determine where the problem occured in the original set of files.\r\n\r\nTo resolve this I recommend that when errors, at least those related to format or validation, are encountered that the original file name be reported along with line numbers for the original file. Perhaps including a dump of the file which failed to insert as well. At least when in debug mode.\r\n\r\n", "samplequery":"Run against the data.gov catalog file:\r\n\r\nmlcp.sh import -host 127.0.0.1 -port 9000 -username admin -password admin -input_file_path ./data-gov-catalog.xml -input_file_type aggregates -aggregate_record_element row", "sampledata":"Data.gov data catalog can be download from here with wget:\r\n\r\nhttps://explore.data.gov/api/views/pyv4-fkgv/rows.xml?accessType=DOWNLOAD\r\n\r\n", "version":"6.0-2", "tofixin":"8.0-1", "fixedin":"N/A", "platform":"OS X", "memory":"4GB", "processors":"2", "note":"", "subscribers":[{"username":"fsanders", "name":"Frank Sanders", "email":"fsanders@marklogic.com"}, {"username":"ali", "name":"Aries Li", "email":"ali@marklogic.com"}, {"username":"jchen", "name":"Jane Chen", "email":"jane.chen@marklogic.com"}], "attachments":[], "includeInTaskList":false, "proceduralTasks":{"Requirements Task":[], "Functional Specification Task":[], "Test Specification Task":[], "Test Automation Task":[], "Documentation Task":[]}, "subTasks":[], "tags":["mlcp", "fsanders"], "changeHistory":[{"time":"2012-12-14T16:28:37.545422-08:00", "updatedBy":{"username":"dsokolsky", "name":"Danny Sokolsky", "email":"dsokolsky@marklogic.com"}, "change":{"status":{"from":"", "to":"Verify"}, "assignTo":{"from":{"username":"dsokolsky", "name":"Danny Sokolsky", "email":"dsokolsky@marklogic.com"}, "to":{"username":"jchen", "name":"Jane Chen", "email":"jane.chen@marklogic.com"}}}, "files":[], "show":true}, {"time":"2012-12-14T16:28:37.545422-08:00", "updatedBy":{"username":"dsokolsky", "name":"Danny Sokolsky", "email":"dsokolsky@marklogic.com"}, "change":{"assignTo":{"from":{"username":"dsokolsky", "name":"Danny Sokolsky", "email":"dsokolsky@marklogic.com"}, "to":{"username":"jchen", "name":"Jane Chen", "email":"jane.chen@marklogic.com"}}}, "files":[], "show":true}, {"time":"2012-12-14T16:28:37.545422-08:00", "updatedBy":{"username":"dsokolsky", "name":"Danny Sokolsky", "email":"dsokolsky@marklogic.com"}, "change":{"tofixin":{"from":"", "to":"6.0-3"}}, "files":[], "show":true}, {"time":"2012-12-14T22:10:09.105298-08:00", "updatedBy":{"username":"jchen", "name":"Jane Chen", "email":"jane.chen@marklogic.com"}, "change":{"assignTo":{"from":{"username":"jchen", "name":"Jane Chen", "email":"jane.chen@marklogic.com"}, "to":{"username":"ali", "name":"Aries Li", "email":"ali@marklogic.com"}}}, "files":[], "show":true}, {"time":"2013-01-23T10:37:20.826535-08:00", "updatedBy":{"username":"jmakeig", "name":"Justin Makeig", "email":"jmakeig@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"Pushing to 7.0-1. Related to the broader RFE <http://rfetrack.marklogic.com/detail/2469>."}, {"time":"2013-01-23T10:37:20.826535-08:00", "updatedBy":{"username":"jmakeig", "name":"Justin Makeig", "email":"jmakeig@marklogic.com"}, "change":{"tofixin":{"from":"6.0-3", "to":"7.0-1"}}, "files":[], "show":true}, {"time":"2013-05-22T23:40:44.785837-07:00", "updatedBy":{"username":"jchen", "name":"Jane Chen", "email":"jane.chen@marklogic.com"}, "change":{"assignTo":{"from":{"username":"jchen", "name":"Jane Chen", "email":"jane.chen@marklogic.com"}, "to":{"username":"jchen", "name":"Jane Chen", "email":"jane.chen@marklogic.com"}}}, "files":[], "show":true}, {"time":"2013-06-25T16:27:51.88298-07:00", "updatedBy":{"username":"jchen", "name":"Jane Chen", "email":"jane.chen@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"Due to the nature of the current design, this requires some non-trivial work.  Since Justin already has an RFE to track it, I'll leave it to Justin to drive this."}, {"time":"2013-07-24T12:05:45.072065-07:00", "updatedBy":{"username":"jchen", "name":"Jane Chen", "email":"jane.chen@marklogic.com"}, "change":{"assignTo":{"from":{"username":"jchen", "name":"Jane Chen", "email":"jane.chen@marklogic.com"}, "to":{"username":"jmakeig", "name":"Justin Makeig", "email":"jmakeig@marklogic.com"}}}, "files":[], "show":true}, {"time":"2013-07-31T15:20:46.276833-07:00", "updatedBy":{"username":"jmakeig", "name":"Justin Makeig", "email":"jmakeig@marklogic.com"}, "change":{"tofixin":{"from":"7.0-1", "to":"8.0-1"}}, "files":[], "show":true}, {"time":"2013-08-15T23:25:57.36579-07:00", "updatedBy":{"username":"jchen", "name":"Jane Chen", "email":"jane.chen@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"Frank, the file path should be part of the document URI.  Do you still have the error that you can show me?"}, {"time":"2013-08-18T16:35:21.768678-07:00", "updatedBy":{"username":"jchen", "name":"Jane Chen", "email":"jane.chen@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"I do not, however if memory serves the issue is on the other side. \r\n\r\nWhat I mean by this is, that when loading an aggregate file the line number of the input file is not reported. The URI reported and the line # reported is from the generated file mlcp is trying to insert. \r\n\r\nThis isn’t particularly helpful if I’m loading from an aggregate file that’s tens of thousands of lines long and I need to track down the data in the file being used as input.\r\n\r\n-fs"}, {"time":"2014-11-03T16:01:43.527284-08:00", "updatedBy":{"username":"dgorbet", "name":"David Gorbet", "email":"David.Gorbet@marklogic.com"}, "change":{}, "files":[], "show":true, "comment":"Should probably close this and add to RFETrack?"}, {"time":"2014-11-05T14:35:03.777919-08:00", "updatedBy":{"username":"jmakeig", "name":"Justin Makeig", "email":"jmakeig@marklogic.com"}, "change":{"status":{"from":"Verify", "to":"Will not fix"}, "assignTo":{"from":{"username":"jmakeig", "name":"Justin Makeig", "email":"jmakeig@marklogic.com"}, "to":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}}}, "files":[], "show":true, "comment":"Move to RFETrack."}], "updatedAt":"2014-11-05T14:35:03.777919-08:00"}