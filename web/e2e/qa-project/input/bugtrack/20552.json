{"id":20552, "kind":"Task", "createdAt":"2013-01-22T11:02:33.327743-08:00", "status":"Closed", "title":"7.0 java client api unit-test DB needs some more setup", "category":"MarkLogic Java API", "severity":"Major", "priority":{"level":"5", "title":""}, "days":null, "period":{"startDate":null, "endDate":null}, "submittedBy":{"username":"ayuwono", "name":"Aries Yuwono", "email":"ayuwono@marklogic.com"}, "assignTo":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}, "description":"Tests in error: \r\n  testStringSearch(com.marklogic.client.test.StringSearchTest): Local message: search failed: Bad Request. Server Message: XDMP-ELEMRIDXNOTFOUND: cts:element-values(fn:QName(\"\", \"grandchild\"), (), (\"type=string\", \"collation=http://marklogic.com/collation/\", \"concurrent\"), cts:or-query((cts:word-query(\"grandchild1\", (\"lang=en\"), 1), cts:word-query(\"grandchild4\", (\"lang=en\"), 1))), xs:double(\"1\"), ()) -- No string element range index for fn:QName(\"\", \"grandchild\") http://marklogic.com/collation/\r\n  testStringSearch4(com.marklogic.client.test.StringSearchTest): Local message: search failed: Bad Request. Server Message: XDMP-ELEMRIDXNOTFOUND: cts:element-values(fn:QName(\"\", \"grandchild\"), (), (\"type=string\", \"collation=http://marklogic.com/collation/\", \"concurrent\"), cts:or-query((cts:word-query(\"grandchild1\", (\"lang=en\"), 1), cts:word-query(\"grandchild4\", (\"lang=en\"), 1))), xs:double(\"1\"), ()) -- No string element range index for fn:QName(\"\", \"grandchild\") http://marklogic.com/collation/\r\n  testJSON(com.marklogic.client.test.StringSearchTest): Local message: search failed: Bad Request. Server Message: XDMP-ELEMRIDXNOTFOUND: cts:element-values(fn:QName(\"\", \"grandchild\"), (), (\"type=string\", \"collation=http://marklogic.com/collation/\", \"concurrent\"), cts:or-query((cts:word-query(\"grandchild1\", (\"lang=en\"), 1), cts:word-query(\"grandchild4\", (\"lang=en\"), 1))), xs:double(\"1\"), ()) -- No string element range index for fn:QName(\"\", \"grandchild\") http://marklogic.com/collation/\r\n  testOneSuggestion(com.marklogic.client.test.SuggestTest): Local message: Suggest call failed: Internal Server Error. Server Message: XDMP-ELEMLXCNNOTFOUND: cts:element-word-match(fn:QName(\"\", \"suggest\"), \"l*\", \"document\", (), xs:double(\"1\"), ()) -- No element word lexicon for fn:QName(\"\", \"suggest\") http://marklogic.com/collation/.  See the MarkLogic server error log for further detail.\r\n  testNoSuggestion(com.marklogic.client.test.SuggestTest): Local message: Suggest call failed: Internal Server Error. Server Message: XDMP-ELEMLXCNNOTFOUND: cts:element-word-match(fn:QName(\"\", \"suggest\"), \"*\", \"document\", (), xs:double(\"1\"), ()) -- No element word lexicon for fn:QName(\"\", \"suggest\") http://marklogic.com/collation/.  See the MarkLogic server error log for further detail.\r\n  testSuggestionWithQuery(com.marklogic.client.test.SuggestTest): Local message: Suggest call failed: Bad Request. Server Message: XDMP-ELEMRIDXNOTFOUND: cts:element-word-match(fn:QName(\"\", \"suggest\"), \"li*\", \"document\", cts:element-range-query(fn:QName(\"\", \"string\"), \"=\", \"FINDME\", (\"collation=http://marklogic.com/collation/\"), 1), xs:double(\"1\"), ()) -- No string element range index for fn:QName(\"\", \"string\") http://marklogic.com/collation/\r\n  testSuggestionWithLimit(com.marklogic.client.test.SuggestTest): Local message: Suggest call failed: Internal Server Error. Server Message: XDMP-ELEMLXCNNOTFOUND: cts:element-word-match(fn:QName(\"\", \"suggest\"), \"li*\", \"document\", (), xs:double(\"1\"), ()) -- No element word lexicon for fn:QName(\"\", \"suggest\") http://marklogic.com/collation/.  See the MarkLogic server error log for further detail.\r\n  testSuggestionWithCursor(com.marklogic.client.test.SuggestTest): Local message: Suggest call failed: Internal Server Error. Server Message: XDMP-ELEMLXCNNOTFOUND: cts:element-word-match(fn:QName(\"\", \"suggest\"), \"*\", \"document\", (), xs:double(\"1\"), ()) -- No element word lexicon for fn:QName(\"\", \"suggest\") http://marklogic.com/collation/.  See the MarkLogic server error log for further detail.\r\n  testResourceServices(com.marklogic.client.test.ResourceServicesTest): org.apache.http.client.ClientProtocolException\r\n  testTransformExtensions(com.marklogic.client.test.TransformExtensionsTest): org.apache.http.client.ClientProtocolException\r\n  testMain(com.marklogic.client.test.example.batch.SearchCollectorTest): Local message: config/resources write failed: Internal Server Error. Server Message: XDMP-TOOFEWARGS: (err:XPST0017) searchmodq:search-get($headers, $params) -- Too few args, expected 3 but got 2.  See the MarkLogic server error log for further detail.\r\n  testAggregates(com.marklogic.client.test.ValuesHandleTest): Local message: search failed: Bad Request. Server Message: XDMP-ELEMRIDXNOTFOUND: cts:element-reference(fn:QName(\"\", \"double\"), \"type=double\") -- No double element range index for fn:QName(\"\", \"double\") \r\n  testCriteria(com.marklogic.client.test.ValuesHandleTest): Local message: search failed: Bad Request. Server Message: XDMP-ELEMRIDXNOTFOUND: cts:element-reference(fn:QName(\"\", \"double\"), \"type=double\") -- No double element range index for fn:QName(\"\", \"double\") \r\n  testCoVariances(com.marklogic.client.test.TuplesHandleTest): Local message: search failed: Bad Request. Server Message: XDMP-ELEMRIDXNOTFOUND: cts:element-reference(fn:QName(\"\", \"double\"), \"type=double\") -- No double element range index for fn:QName(\"\", \"double\") \r\n  testNWayTuples(com.marklogic.client.test.TuplesHandleTest): Local message: search failed: Bad Request. Server Message: XDMP-ELEMRIDXNOTFOUND: cts:element-reference(fn:QName(\"\", \"double\"), \"type=double\") -- No double element range index for fn:QName(\"\", \"double\") \r\n  testAggregates(com.marklogic.client.test.TuplesHandleTest): Local message: search failed: Bad Request. Server Message: XDMP-ELEMRIDXNOTFOUND: cts:element-reference(fn:QName(\"\", \"double\"), \"type=double\") -- No double element range index for fn:QName(\"\", \"double\") \r\n  testValuesHandle(com.marklogic.client.test.TuplesHandleTest): Local message: search failed: Bad Request. Server Message: XDMP-ELEMRIDXNOTFOUND: cts:element-reference(fn:QName(\"\", \"double\"), \"type=double\") -- No double element range index for fn:QName(\"\", \"double\") \r\n  testResourceServiceExtension(com.marklogic.client.test.ResourceExtensionsTest): org.apache.http.client.ClientProtocolException\r\n  testRootOptions(com.marklogic.client.test.QueryOptionsBuilderTest): Local message: /config/query write failed: Bad Request. Server Message: RESTAPI-INVALIDCONTENT: (err:FOER0000) Invalid content: Operation results in invalid Options: Aggregate \"min\" cannot be resolved on the specified index (check configuration, name, type).Aggregate \"stddev\" cannot be resolved on the specified index (check configuration, name, type).\r\n  testXQueryTransform(com.marklogic.client.test.TransformTest): org.apache.http.client.ClientProtocolException\r\n  testXSLTransform(com.marklogic.client.test.TransformTest): org.apache.http.client.ClientProtocolException", "samplequery":"", "sampledata":"", "version":"7.0-nightly", "tofixin":"7.0-ea1", "fixedin":"7.0-ea1", "platform":"all", "memory":"", "processors":"", "note":"", "subscribers":[{"username":"ayuwono", "name":"Aries Yuwono", "email":"ayuwono@marklogic.com"}], "attachments":[], "includeInTaskList":false, "proceduralTasks":{"Requirements Task":[], "Functional Specification Task":[], "Test Specification Task":[], "Test Automation Task":[], "Documentation Task":[]}, "subTasks":[], "tags":["MarkLogic Java API", "ayuwono"], "changeHistory":[{"time":"2013-01-22T11:02:33.327743-08:00", "updatedBy":{"username":"ayuwono", "name":"Aries Yuwono", "email":"ayuwono@marklogic.com"}, "change":{"assignTo":{"from":{"username":"ayuwono", "name":"Aries Yuwono", "email":"ayuwono@marklogic.com"}, "to":{"username":"ayuwono", "name":"Aries Yuwono", "email":"ayuwono@marklogic.com"}}}, "files":[], "show":true}, {"time":"2013-01-22T14:36:23.366633-08:00", "updatedBy":{"username":"ayuwono", "name":"Aries Yuwono", "email":"ayuwono@marklogic.com"}, "change":{"status":{"from":null, "to":"Ship"}, "assignTo":{"from":{"username":"ayuwono", "name":"Aries Yuwono", "email":"ayuwono@marklogic.com"}, "to":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}}}, "files":[], "show":true, "comment":"fixed"}, {"time":"2013-01-22T14:36:23.366633-08:00", "updatedBy":{"username":"ayuwono", "name":"Aries Yuwono", "email":"ayuwono@marklogic.com"}, "change":{"assignTo":{"from":{"username":"ayuwono", "name":"Aries Yuwono", "email":"ayuwono@marklogic.com"}, "to":{"username":"nobody", "name":"nobody nobody", "email":"nobody@marklogic.com"}}}, "files":[], "show":true}], "updatedAt":"2013-01-22T14:36:23.366633-08:00", "shippedAt":"2013-01-22T14:36:23.366633-08:00", "shippedBy":{"username":"ayuwono", "name":"Aries Yuwono", "email":"ayuwono@marklogic.com"}}