The intent of this project is to define JMeter test plans that can be run easily via Gradle, with the output then 
being captured in the internal PEAR system. 

## Initial setup

To get started, you should first [download and install JMeter](https://jmeter.apache.org/download_jmeter). You can 
install it anywhere that you like - e.g. /Users/yourUsername/tools/apache-jmeter-5.3 . 

Next, create ./gradle-local.properties in this project and add the following to it:

    jmeterHome=/path/to/jmeter/installation

And then run the following Gradle task:

    ../gradlew prepareJMeter

This will create a single jar file containing all of the DHF classes and their dependencies and then copy that file 
to your JMeter installation's "lib" directory. This allows for JMeter test plans - in particular, JSR223 samplers that use
Groovy - to utilize DHF classes. 

You should run "prepareJMeter" any time you update DHF Java classes. There's no harm in running it either, so if you're
not sure if the DHF jar in your JMeter installation is up-to-date, you should run this task. 

## Running test plans

Each JMeter test plan is stored under src/main/jmeter . The intent is to define a Gradle task for each test plan that
supports overriding the variables in that test plan via Gradle properties. All test plans can then be run together via
the following task:

    ../gradlew runPerformanceTests

This will write a couple files of interest:

1. ./build/jmeter-output.txt, which has the output data generated by JMeter
1. ./build/jmeter.log, which is the log file that JMeter writes to as it runs a test plan

You can then customize how these tests are run via Gradle command line properties - e.g.:

    ../gradlew runPerformanceTests -PmlHost=somehost -PmlUsername=someuser -PmlPassword=somepassword

Those property can also be defined in a gradle-*.properties environment file, including gradle-local.properties. 

## Running the JMeter GUI

For convenience, you can run the following Gradle task to fire up JMeter with a particular test plan loaded:

    ../gradlew jmeter -Pfilename=mapping-functions
